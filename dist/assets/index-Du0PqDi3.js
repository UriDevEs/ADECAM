function rT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var z_={exports:{}},zu={},B_={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=Symbol.for("react.element"),sT=Symbol.for("react.portal"),oT=Symbol.for("react.fragment"),aT=Symbol.for("react.strict_mode"),lT=Symbol.for("react.profiler"),uT=Symbol.for("react.provider"),cT=Symbol.for("react.context"),dT=Symbol.for("react.forward_ref"),hT=Symbol.for("react.suspense"),fT=Symbol.for("react.memo"),pT=Symbol.for("react.lazy"),Sg=Symbol.iterator;function mT(t){return t===null||typeof t!="object"?null:(t=Sg&&t[Sg]||t["@@iterator"],typeof t=="function"?t:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W_=Object.assign,H_={};function Is(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||$_}Is.prototype.isReactComponent={};Is.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Is.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q_(){}q_.prototype=Is.prototype;function Pf(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||$_}var kf=Pf.prototype=new q_;kf.constructor=Pf;W_(kf,Is.prototype);kf.isPureReactComponent=!0;var Tg=Array.isArray,G_=Object.prototype.hasOwnProperty,Rf={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function Q_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)G_.call(e,r)&&!K_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:oa,type:t,key:s,ref:o,props:i,_owner:Rf.current}}function gT(t,e){return{$$typeof:oa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nf(t){return typeof t=="object"&&t!==null&&t.$$typeof===oa}function vT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bg=/\/+/g;function ed(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vT(""+t.key):e.toString(36)}function gl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oa:case sT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ed(o,0):r,Tg(i)?(n="",t!=null&&(n=t.replace(bg,"$&/")+"/"),gl(i,e,n,"",function(c){return c})):i!=null&&(Nf(i)&&(i=gT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Tg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+ed(s,l);o+=gl(s,e,n,u,i)}else if(u=mT(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+ed(s,l++),o+=gl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ha(t,e,n){if(t==null)return t;var r=[],i=0;return gl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function yT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},vl={transition:null},_T={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:vl,ReactCurrentOwner:Rf};function Y_(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ha,forEach:function(t,e,n){Ha(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ha(t,function(){e++}),e},toArray:function(t){return Ha(t,function(e){return e})||[]},only:function(t){if(!Nf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Is;he.Fragment=oT;he.Profiler=lT;he.PureComponent=Pf;he.StrictMode=aT;he.Suspense=hT;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T;he.act=Y_;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=W_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)G_.call(e,u)&&!K_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:oa,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:cT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uT,_context:t},t.Consumer=t};he.createElement=Q_;he.createFactory=function(t){var e=Q_.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:dT,render:t}};he.isValidElement=Nf;he.lazy=function(t){return{$$typeof:pT,_payload:{_status:-1,_result:t},_init:yT}};he.memo=function(t,e){return{$$typeof:fT,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=vl.transition;vl.transition={};try{t()}finally{vl.transition=e}};he.unstable_act=Y_;he.useCallback=function(t,e){return St.current.useCallback(t,e)};he.useContext=function(t){return St.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return St.current.useDeferredValue(t)};he.useEffect=function(t,e){return St.current.useEffect(t,e)};he.useId=function(){return St.current.useId()};he.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return St.current.useMemo(t,e)};he.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};he.useRef=function(t){return St.current.useRef(t)};he.useState=function(t){return St.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return St.current.useTransition()};he.version="18.3.1";B_.exports=he;var O=B_.exports;const wT=U_(O),ET=rT({__proto__:null,default:wT},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT=O,ST=Symbol.for("react.element"),TT=Symbol.for("react.fragment"),bT=Object.prototype.hasOwnProperty,IT=xT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CT={key:!0,ref:!0,__self:!0,__source:!0};function J_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)bT.call(e,r)&&!CT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ST,type:t,key:s,ref:o,props:i,_owner:IT.current}}zu.Fragment=TT;zu.jsx=J_;zu.jsxs=J_;z_.exports=zu;var d=z_.exports,X_={exports:{}},$t={},Z_={exports:{}},e0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,z){var H=B.length;B.push(z);e:for(;0<H;){var te=H-1>>>1,J=B[te];if(0<i(J,z))B[te]=z,B[H]=J,H=te;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var z=B[0],H=B.pop();if(H!==z){B[0]=H;e:for(var te=0,J=B.length,Z=J>>>1;te<Z;){var Se=2*(te+1)-1,Ke=B[Se],It=Se+1,Le=B[It];if(0>i(Ke,H))It<J&&0>i(Le,Ke)?(B[te]=Le,B[It]=H,te=It):(B[te]=Ke,B[Se]=H,te=Se);else if(It<J&&0>i(Le,H))B[te]=Le,B[It]=H,te=It;else break e}}return z}function i(B,z){var H=B.sortIndex-z.sortIndex;return H!==0?H:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,p=null,g=3,I=!1,A=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=B)r(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function N(B){if(k=!1,S(B),!A)if(n(u)!==null)A=!0,X(M);else{var z=n(c);z!==null&&oe(N,z.startTime-B)}}function M(B,z){A=!1,k&&(k=!1,b(v),v=-1),I=!0;var H=g;try{for(S(z),p=n(u);p!==null&&(!(p.expirationTime>z)||B&&!C());){var te=p.callback;if(typeof te=="function"){p.callback=null,g=p.priorityLevel;var J=te(p.expirationTime<=z);z=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),S(z)}else r(u);p=n(u)}if(p!==null)var Z=!0;else{var Se=n(c);Se!==null&&oe(N,Se.startTime-z),Z=!1}return Z}finally{p=null,g=H,I=!1}}var L=!1,y=null,v=-1,_=5,x=-1;function C(){return!(t.unstable_now()-x<_)}function P(){if(y!==null){var B=t.unstable_now();x=B;var z=!0;try{z=y(!0,B)}finally{z?T():(L=!1,y=null)}}else L=!1}var T;if(typeof w=="function")T=function(){w(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,re=G.port2;G.port1.onmessage=P,T=function(){re.postMessage(null)}}else T=function(){R(P,0)};function X(B){y=B,L||(L=!0,T())}function oe(B,z){v=R(function(){B(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){A||I||(A=!0,X(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var H=g;g=z;try{return B()}finally{g=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=g;g=B;try{return z()}finally{g=H}},t.unstable_scheduleCallback=function(B,z,H){var te=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,B={id:f++,callback:z,priorityLevel:B,startTime:H,expirationTime:J,sortIndex:-1},H>te?(B.sortIndex=H,e(c,B),n(u)===null&&B===n(c)&&(k?(b(v),v=-1):k=!0,oe(N,H-te))):(B.sortIndex=J,e(u,B),A||I||(A=!0,X(M))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var z=g;return function(){var H=g;g=z;try{return B.apply(this,arguments)}finally{g=H}}}})(e0);Z_.exports=e0;var AT=Z_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=O,Bt=AT;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t0=new Set,No={};function gi(t,e){is(t,e),is(t+"Capture",e)}function is(t,e){for(No[t]=e,t=0;t<e.length;t++)t0.add(e[t])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=Object.prototype.hasOwnProperty,kT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Cg={};function RT(t){return Qd.call(Cg,t)?!0:Qd.call(Ig,t)?!1:kT.test(t)?Cg[t]=!0:(Ig[t]=!0,!1)}function NT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jT(t,e,n,r){if(e===null||typeof e>"u"||NT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jf=/[\-:]([a-z])/g;function Of(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jf,Of);st[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jf,Of);st[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jf,Of);st[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Df(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jT(e,n,i,r)&&(n=null),r||i===null?RT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=PT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),ji=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),Yd=Symbol.for("react.profiler"),n0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),Jd=Symbol.for("react.suspense"),Xd=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),i0=Symbol.for("react.offscreen"),Ag=Symbol.iterator;function Zs(t){return t===null||typeof t!="object"?null:(t=Ag&&t[Ag]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,td;function ao(t){if(td===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);td=e&&e[1]||""}return`
`+td+t}var nd=!1;function rd(t,e){if(!t||nd)return"";nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{nd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ao(t):""}function OT(t){switch(t.tag){case 5:return ao(t.type);case 16:return ao("Lazy");case 13:return ao("Suspense");case 19:return ao("SuspenseList");case 0:case 2:case 15:return t=rd(t.type,!1),t;case 11:return t=rd(t.type.render,!1),t;case 1:return t=rd(t.type,!0),t;default:return""}}function Zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oi:return"Fragment";case ji:return"Portal";case Yd:return"Profiler";case Mf:return"StrictMode";case Jd:return"Suspense";case Xd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r0:return(t.displayName||"Context")+".Consumer";case n0:return(t._context.displayName||"Context")+".Provider";case Lf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vf:return e=t.displayName||null,e!==null?e:Zd(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Zd(t(e))}catch{}}return null}function DT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(e);case 8:return e===Mf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MT(t){var e=s0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ga(t){t._valueTracker||(t._valueTracker=MT(t))}function o0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eh(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function a0(t,e){e=e.checked,e!=null&&Df(t,"checked",e,!1)}function th(t,e){a0(t,e);var n=Cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nh(t,e.type,n):e.hasOwnProperty("defaultValue")&&nh(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nh(t,e,n){(e!=="number"||Fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lo=Array.isArray;function qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(lo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cr(n)}}function l0(t,e){var n=Cr(e.value),r=Cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ng(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ka,c0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LT=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(t){LT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vo[e]=vo[t]})});function d0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vo.hasOwnProperty(t)&&vo[t]?(""+e).trim():e+"px"}function h0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=d0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VT=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(t,e){if(e){if(VT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function oh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function Ff(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lh=null,Gi=null,Ki=null;function jg(t){if(t=ua(t)){if(typeof lh!="function")throw Error($(280));var e=t.stateNode;e&&(e=qu(e),lh(t.stateNode,t.type,e))}}function f0(t){Gi?Ki?Ki.push(t):Ki=[t]:Gi=t}function p0(){if(Gi){var t=Gi,e=Ki;if(Ki=Gi=null,jg(t),e)for(t=0;t<e.length;t++)jg(e[t])}}function m0(t,e){return t(e)}function g0(){}var id=!1;function v0(t,e,n){if(id)return t(e,n);id=!0;try{return m0(t,e,n)}finally{id=!1,(Gi!==null||Ki!==null)&&(g0(),p0())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var r=qu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var uh=!1;if(Fn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){uh=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{uh=!1}function FT(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var yo=!1,Ul=null,zl=!1,ch=null,UT={onError:function(t){yo=!0,Ul=t}};function zT(t,e,n,r,i,s,o,l,u){yo=!1,Ul=null,FT.apply(UT,arguments)}function BT(t,e,n,r,i,s,o,l,u){if(zT.apply(this,arguments),yo){if(yo){var c=Ul;yo=!1,Ul=null}else throw Error($(198));zl||(zl=!0,ch=c)}}function vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Og(t){if(vi(t)!==t)throw Error($(188))}function $T(t){var e=t.alternate;if(!e){if(e=vi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Og(i),t;if(s===r)return Og(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function _0(t){return t=$T(t),t!==null?w0(t):null}function w0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w0(t);if(e!==null)return e;t=t.sibling}return null}var E0=Bt.unstable_scheduleCallback,Dg=Bt.unstable_cancelCallback,WT=Bt.unstable_shouldYield,HT=Bt.unstable_requestPaint,Fe=Bt.unstable_now,qT=Bt.unstable_getCurrentPriorityLevel,Uf=Bt.unstable_ImmediatePriority,x0=Bt.unstable_UserBlockingPriority,Bl=Bt.unstable_NormalPriority,GT=Bt.unstable_LowPriority,S0=Bt.unstable_IdlePriority,Bu=null,vn=null;function KT(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Bu,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:JT,QT=Math.log,YT=Math.LN2;function JT(t){return t>>>=0,t===0?32:31-(QT(t)/YT|0)|0}var Qa=64,Ya=4194304;function uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=uo(l):(s&=o,s!==0&&(r=uo(s)))}else o=n&~i,o!==0?r=uo(o):s!==0&&(r=uo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),i=1<<n,r|=t[n],e&=~i;return r}function XT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-an(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=XT(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function dh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T0(){var t=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),t}function sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function aa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function eb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-an(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function b0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var I0,Bf,C0,A0,P0,hh=!1,Ja=[],dr=null,hr=null,fr=null,Do=new Map,Mo=new Map,sr=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mg(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Do.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(e.pointerId)}}function to(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ua(e),e!==null&&Bf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nb(t,e,n,r,i){switch(e){case"focusin":return dr=to(dr,t,e,n,r,i),!0;case"dragenter":return hr=to(hr,t,e,n,r,i),!0;case"mouseover":return fr=to(fr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Do.set(s,to(Do.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mo.set(s,to(Mo.get(s)||null,t,e,n,r,i)),!0}return!1}function k0(t){var e=Xr(t.target);if(e!==null){var n=vi(e);if(n!==null){if(e=n.tag,e===13){if(e=y0(n),e!==null){t.blockedOn=e,P0(t.priority,function(){C0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ah=r,n.target.dispatchEvent(r),ah=null}else return e=ua(n),e!==null&&Bf(e),t.blockedOn=n,!1;e.shift()}return!0}function Lg(t,e,n){yl(t)&&n.delete(e)}function rb(){hh=!1,dr!==null&&yl(dr)&&(dr=null),hr!==null&&yl(hr)&&(hr=null),fr!==null&&yl(fr)&&(fr=null),Do.forEach(Lg),Mo.forEach(Lg)}function no(t,e){t.blockedOn===e&&(t.blockedOn=null,hh||(hh=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,rb)))}function Lo(t){function e(i){return no(i,t)}if(0<Ja.length){no(Ja[0],t);for(var n=1;n<Ja.length;n++){var r=Ja[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dr!==null&&no(dr,t),hr!==null&&no(hr,t),fr!==null&&no(fr,t),Do.forEach(e),Mo.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)k0(n),n.blockedOn===null&&sr.shift()}var Qi=Gn.ReactCurrentBatchConfig,Wl=!0;function ib(t,e,n,r){var i=we,s=Qi.transition;Qi.transition=null;try{we=1,$f(t,e,n,r)}finally{we=i,Qi.transition=s}}function sb(t,e,n,r){var i=we,s=Qi.transition;Qi.transition=null;try{we=4,$f(t,e,n,r)}finally{we=i,Qi.transition=s}}function $f(t,e,n,r){if(Wl){var i=fh(t,e,n,r);if(i===null)md(t,e,r,Hl,n),Mg(t,r);else if(nb(i,t,e,n,r))r.stopPropagation();else if(Mg(t,r),e&4&&-1<tb.indexOf(t)){for(;i!==null;){var s=ua(i);if(s!==null&&I0(s),s=fh(t,e,n,r),s===null&&md(t,e,r,Hl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else md(t,e,r,null,n)}}var Hl=null;function fh(t,e,n,r){if(Hl=null,t=Ff(r),t=Xr(t),t!==null)if(e=vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=y0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function R0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qT()){case Uf:return 1;case x0:return 4;case Bl:case GT:return 16;case S0:return 536870912;default:return 16}default:return 16}}var ar=null,Wf=null,_l=null;function N0(){if(_l)return _l;var t,e=Wf,n=e.length,r,i="value"in ar?ar.value:ar.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _l=i.slice(t,1<r?1-r:void 0)}function wl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xa(){return!0}function Vg(){return!1}function Wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xa:Vg,this.isPropagationStopped=Vg,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),e}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hf=Wt(Cs),la=je({},Cs,{view:0,detail:0}),ob=Wt(la),od,ad,ro,$u=je({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ro&&(ro&&t.type==="mousemove"?(od=t.screenX-ro.screenX,ad=t.screenY-ro.screenY):ad=od=0,ro=t),od)},movementY:function(t){return"movementY"in t?t.movementY:ad}}),Fg=Wt($u),ab=je({},$u,{dataTransfer:0}),lb=Wt(ab),ub=je({},la,{relatedTarget:0}),ld=Wt(ub),cb=je({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),db=Wt(cb),hb=je({},Cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fb=Wt(hb),pb=je({},Cs,{data:0}),Ug=Wt(pb),mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vb[t])?!!e[t]:!1}function qf(){return yb}var _b=je({},la,{key:function(t){if(t.key){var e=mb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qf,charCode:function(t){return t.type==="keypress"?wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wb=Wt(_b),Eb=je({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zg=Wt(Eb),xb=je({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qf}),Sb=Wt(xb),Tb=je({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),bb=Wt(Tb),Ib=je({},$u,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=Wt(Ib),Ab=[9,13,27,32],Gf=Fn&&"CompositionEvent"in window,_o=null;Fn&&"documentMode"in document&&(_o=document.documentMode);var Pb=Fn&&"TextEvent"in window&&!_o,j0=Fn&&(!Gf||_o&&8<_o&&11>=_o),Bg=" ",$g=!1;function O0(t,e){switch(t){case"keyup":return Ab.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Di=!1;function kb(t,e){switch(t){case"compositionend":return D0(e);case"keypress":return e.which!==32?null:($g=!0,Bg);case"textInput":return t=e.data,t===Bg&&$g?null:t;default:return null}}function Rb(t,e){if(Di)return t==="compositionend"||!Gf&&O0(t,e)?(t=N0(),_l=Wf=ar=null,Di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j0&&e.locale!=="ko"?null:e.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nb[t.type]:e==="textarea"}function M0(t,e,n,r){f0(r),e=ql(e,"onChange"),0<e.length&&(n=new Hf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wo=null,Vo=null;function jb(t){G0(t,0)}function Wu(t){var e=Vi(t);if(o0(e))return t}function Ob(t,e){if(t==="change")return e}var L0=!1;if(Fn){var ud;if(Fn){var cd="oninput"in document;if(!cd){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),cd=typeof Hg.oninput=="function"}ud=cd}else ud=!1;L0=ud&&(!document.documentMode||9<document.documentMode)}function qg(){wo&&(wo.detachEvent("onpropertychange",V0),Vo=wo=null)}function V0(t){if(t.propertyName==="value"&&Wu(Vo)){var e=[];M0(e,Vo,t,Ff(t)),v0(jb,e)}}function Db(t,e,n){t==="focusin"?(qg(),wo=e,Vo=n,wo.attachEvent("onpropertychange",V0)):t==="focusout"&&qg()}function Mb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(Vo)}function Lb(t,e){if(t==="click")return Wu(e)}function Vb(t,e){if(t==="input"||t==="change")return Wu(e)}function Fb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:Fb;function Fo(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qd.call(e,i)||!cn(t[i],e[i]))return!1}return!0}function Gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kg(t,e){var n=Gg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gg(n)}}function F0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U0(){for(var t=window,e=Fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fl(t.document)}return e}function Kf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ub(t){var e=U0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F0(n.ownerDocument.documentElement,n)){if(r!==null&&Kf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Kg(n,s);var o=Kg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zb=Fn&&"documentMode"in document&&11>=document.documentMode,Mi=null,ph=null,Eo=null,mh=!1;function Qg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mh||Mi==null||Mi!==Fl(r)||(r=Mi,"selectionStart"in r&&Kf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&Fo(Eo,r)||(Eo=r,r=ql(ph,"onSelect"),0<r.length&&(e=new Hf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function Za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},dd={},z0={};Fn&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Hu(t){if(dd[t])return dd[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z0)return dd[t]=e[n];return t}var B0=Hu("animationend"),$0=Hu("animationiteration"),W0=Hu("animationstart"),H0=Hu("transitionend"),q0=new Map,Yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){q0.set(t,e),gi(e,[t])}for(var hd=0;hd<Yg.length;hd++){var fd=Yg[hd],Bb=fd.toLowerCase(),$b=fd[0].toUpperCase()+fd.slice(1);Mr(Bb,"on"+$b)}Mr(B0,"onAnimationEnd");Mr($0,"onAnimationIteration");Mr(W0,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(H0,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Jg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BT(r,e,void 0,t),t.currentTarget=null}function G0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Jg(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Jg(i,l,c),s=u}}}if(zl)throw t=ch,zl=!1,ch=null,t}function be(t,e){var n=e[wh];n===void 0&&(n=e[wh]=new Set);var r=t+"__bubble";n.has(r)||(K0(e,t,2,!1),n.add(r))}function pd(t,e,n){var r=0;e&&(r|=4),K0(n,t,r,e)}var el="_reactListening"+Math.random().toString(36).slice(2);function Uo(t){if(!t[el]){t[el]=!0,t0.forEach(function(n){n!=="selectionchange"&&(Wb.has(n)||pd(n,!1,t),pd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[el]||(e[el]=!0,pd("selectionchange",!1,e))}}function K0(t,e,n,r){switch(R0(e)){case 1:var i=ib;break;case 4:i=sb;break;default:i=$f}n=i.bind(null,e,n,t),i=void 0,!uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function md(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Xr(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}v0(function(){var c=s,f=Ff(n),p=[];e:{var g=q0.get(t);if(g!==void 0){var I=Hf,A=t;switch(t){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":I=wb;break;case"focusin":A="focus",I=ld;break;case"focusout":A="blur",I=ld;break;case"beforeblur":case"afterblur":I=ld;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Sb;break;case B0:case $0:case W0:I=db;break;case H0:I=bb;break;case"scroll":I=ob;break;case"wheel":I=Cb;break;case"copy":case"cut":case"paste":I=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=zg}var k=(e&4)!==0,R=!k&&t==="scroll",b=k?g!==null?g+"Capture":null:g;k=[];for(var w=c,S;w!==null;){S=w;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,b!==null&&(N=Oo(w,b),N!=null&&k.push(zo(w,N,S)))),R)break;w=w.return}0<k.length&&(g=new I(g,A,null,n,f),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",g&&n!==ah&&(A=n.relatedTarget||n.fromElement)&&(Xr(A)||A[Un]))break e;if((I||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,I?(A=n.relatedTarget||n.toElement,I=c,A=A?Xr(A):null,A!==null&&(R=vi(A),A!==R||A.tag!==5&&A.tag!==6)&&(A=null)):(I=null,A=c),I!==A)){if(k=Fg,N="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=zg,N="onPointerLeave",b="onPointerEnter",w="pointer"),R=I==null?g:Vi(I),S=A==null?g:Vi(A),g=new k(N,w+"leave",I,n,f),g.target=R,g.relatedTarget=S,N=null,Xr(f)===c&&(k=new k(b,w+"enter",A,n,f),k.target=S,k.relatedTarget=R,N=k),R=N,I&&A)t:{for(k=I,b=A,w=0,S=k;S;S=Ai(S))w++;for(S=0,N=b;N;N=Ai(N))S++;for(;0<w-S;)k=Ai(k),w--;for(;0<S-w;)b=Ai(b),S--;for(;w--;){if(k===b||b!==null&&k===b.alternate)break t;k=Ai(k),b=Ai(b)}k=null}else k=null;I!==null&&Xg(p,g,I,k,!1),A!==null&&R!==null&&Xg(p,R,A,k,!0)}}e:{if(g=c?Vi(c):window,I=g.nodeName&&g.nodeName.toLowerCase(),I==="select"||I==="input"&&g.type==="file")var M=Ob;else if(Wg(g))if(L0)M=Vb;else{M=Mb;var L=Db}else(I=g.nodeName)&&I.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=Lb);if(M&&(M=M(t,c))){M0(p,M,n,f);break e}L&&L(t,g,c),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&nh(g,"number",g.value)}switch(L=c?Vi(c):window,t){case"focusin":(Wg(L)||L.contentEditable==="true")&&(Mi=L,ph=c,Eo=null);break;case"focusout":Eo=ph=Mi=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Qg(p,n,f);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":Qg(p,n,f)}var y;if(Gf)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Di?O0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(j0&&n.locale!=="ko"&&(Di||v!=="onCompositionStart"?v==="onCompositionEnd"&&Di&&(y=N0()):(ar=f,Wf="value"in ar?ar.value:ar.textContent,Di=!0)),L=ql(c,v),0<L.length&&(v=new Ug(v,t,null,n,f),p.push({event:v,listeners:L}),y?v.data=y:(y=D0(n),y!==null&&(v.data=y)))),(y=Pb?kb(t,n):Rb(t,n))&&(c=ql(c,"onBeforeInput"),0<c.length&&(f=new Ug("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=y))}G0(p,e)})}function zo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ql(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oo(t,n),s!=null&&r.unshift(zo(t,s,i)),s=Oo(t,e),s!=null&&r.push(zo(t,s,i))),t=t.return}return r}function Ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Oo(n,s),u!=null&&o.unshift(zo(n,u,l))):i||(u=Oo(n,s),u!=null&&o.push(zo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Hb=/\r\n?/g,qb=/\u0000|\uFFFD/g;function Zg(t){return(typeof t=="string"?t:""+t).replace(Hb,`
`).replace(qb,"")}function tl(t,e,n){if(e=Zg(e),Zg(t)!==e&&n)throw Error($(425))}function Gl(){}var gh=null,vh=null;function yh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(Qb)}:_h;function Qb(t){setTimeout(function(){throw t})}function gd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lo(e)}function pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var As=Math.random().toString(36).slice(2),gn="__reactFiber$"+As,Bo="__reactProps$"+As,Un="__reactContainer$"+As,wh="__reactEvents$"+As,Yb="__reactListeners$"+As,Jb="__reactHandles$"+As;function Xr(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tv(t);t!==null;){if(n=t[gn])return n;t=tv(t)}return e}t=n,n=t.parentNode}return null}function ua(t){return t=t[gn]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function qu(t){return t[Bo]||null}var Eh=[],Fi=-1;function Lr(t){return{current:t}}function Ce(t){0>Fi||(t.current=Eh[Fi],Eh[Fi]=null,Fi--)}function xe(t,e){Fi++,Eh[Fi]=t.current,t.current=e}var Ar={},gt=Lr(Ar),Nt=Lr(!1),ii=Ar;function ss(t,e){var n=t.type.contextTypes;if(!n)return Ar;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jt(t){return t=t.childContextTypes,t!=null}function Kl(){Ce(Nt),Ce(gt)}function nv(t,e,n){if(gt.current!==Ar)throw Error($(168));xe(gt,e),xe(Nt,n)}function Q0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,DT(t)||"Unknown",i));return je({},n,r)}function Ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ar,ii=gt.current,xe(gt,t),xe(Nt,Nt.current),!0}function rv(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Q0(t,e,ii),r.__reactInternalMemoizedMergedChildContext=t,Ce(Nt),Ce(gt),xe(gt,t)):Ce(Nt),xe(Nt,n)}var Pn=null,Gu=!1,vd=!1;function Y0(t){Pn===null?Pn=[t]:Pn.push(t)}function Xb(t){Gu=!0,Y0(t)}function Vr(){if(!vd&&Pn!==null){vd=!0;var t=0,e=we;try{var n=Pn;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pn=null,Gu=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(t+1)),E0(Uf,Vr),i}finally{we=e,vd=!1}}return null}var Ui=[],zi=0,Yl=null,Jl=0,Gt=[],Kt=0,si=null,On=1,Dn="";function Qr(t,e){Ui[zi++]=Jl,Ui[zi++]=Yl,Yl=t,Jl=e}function J0(t,e,n){Gt[Kt++]=On,Gt[Kt++]=Dn,Gt[Kt++]=si,si=t;var r=On;t=Dn;var i=32-an(r)-1;r&=~(1<<i),n+=1;var s=32-an(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,On=1<<32-an(e)+i|n<<i|r,Dn=s+t}else On=1<<s|n<<i|r,Dn=t}function Qf(t){t.return!==null&&(Qr(t,1),J0(t,1,0))}function Yf(t){for(;t===Yl;)Yl=Ui[--zi],Ui[zi]=null,Jl=Ui[--zi],Ui[zi]=null;for(;t===si;)si=Gt[--Kt],Gt[Kt]=null,Dn=Gt[--Kt],Gt[Kt]=null,On=Gt[--Kt],Gt[Kt]=null}var Ut=null,Vt=null,Pe=!1,rn=null;function X0(t,e){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,Vt=pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:On,overflow:Dn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ut=t,Vt=null,!0):!1;default:return!1}}function xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sh(t){if(Pe){var e=Vt;if(e){var n=e;if(!iv(t,e)){if(xh(t))throw Error($(418));e=pr(n.nextSibling);var r=Ut;e&&iv(t,e)?X0(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Ut=t)}}else{if(xh(t))throw Error($(418));t.flags=t.flags&-4097|2,Pe=!1,Ut=t}}}function sv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function nl(t){if(t!==Ut)return!1;if(!Pe)return sv(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yh(t.type,t.memoizedProps)),e&&(e=Vt)){if(xh(t))throw Z0(),Error($(418));for(;e;)X0(t,e),e=pr(e.nextSibling)}if(sv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vt=pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=Ut?pr(t.stateNode.nextSibling):null;return!0}function Z0(){for(var t=Vt;t;)t=pr(t.nextSibling)}function os(){Vt=Ut=null,Pe=!1}function Jf(t){rn===null?rn=[t]:rn.push(t)}var Zb=Gn.ReactCurrentBatchConfig;function io(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function rl(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ov(t){var e=t._init;return e(t._payload)}function ew(t){function e(b,w){if(t){var S=b.deletions;S===null?(b.deletions=[w],b.flags|=16):S.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=yr(b,w),b.index=0,b.sibling=null,b}function s(b,w,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<w?(b.flags|=2,w):S):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,S,N){return w===null||w.tag!==6?(w=Td(S,b.mode,N),w.return=b,w):(w=i(w,S),w.return=b,w)}function u(b,w,S,N){var M=S.type;return M===Oi?f(b,w,S.props.children,N,S.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===nr&&ov(M)===w.type)?(N=i(w,S.props),N.ref=io(b,w,S),N.return=b,N):(N=Cl(S.type,S.key,S.props,null,b.mode,N),N.ref=io(b,w,S),N.return=b,N)}function c(b,w,S,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=bd(S,b.mode,N),w.return=b,w):(w=i(w,S.children||[]),w.return=b,w)}function f(b,w,S,N,M){return w===null||w.tag!==7?(w=ri(S,b.mode,N,M),w.return=b,w):(w=i(w,S),w.return=b,w)}function p(b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Td(""+w,b.mode,S),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qa:return S=Cl(w.type,w.key,w.props,null,b.mode,S),S.ref=io(b,null,w),S.return=b,S;case ji:return w=bd(w,b.mode,S),w.return=b,w;case nr:var N=w._init;return p(b,N(w._payload),S)}if(lo(w)||Zs(w))return w=ri(w,b.mode,S,null),w.return=b,w;rl(b,w)}return null}function g(b,w,S,N){var M=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:l(b,w,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qa:return S.key===M?u(b,w,S,N):null;case ji:return S.key===M?c(b,w,S,N):null;case nr:return M=S._init,g(b,w,M(S._payload),N)}if(lo(S)||Zs(S))return M!==null?null:f(b,w,S,N,null);rl(b,S)}return null}function I(b,w,S,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(S)||null,l(w,b,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case qa:return b=b.get(N.key===null?S:N.key)||null,u(w,b,N,M);case ji:return b=b.get(N.key===null?S:N.key)||null,c(w,b,N,M);case nr:var L=N._init;return I(b,w,S,L(N._payload),M)}if(lo(N)||Zs(N))return b=b.get(S)||null,f(w,b,N,M,null);rl(w,N)}return null}function A(b,w,S,N){for(var M=null,L=null,y=w,v=w=0,_=null;y!==null&&v<S.length;v++){y.index>v?(_=y,y=null):_=y.sibling;var x=g(b,y,S[v],N);if(x===null){y===null&&(y=_);break}t&&y&&x.alternate===null&&e(b,y),w=s(x,w,v),L===null?M=x:L.sibling=x,L=x,y=_}if(v===S.length)return n(b,y),Pe&&Qr(b,v),M;if(y===null){for(;v<S.length;v++)y=p(b,S[v],N),y!==null&&(w=s(y,w,v),L===null?M=y:L.sibling=y,L=y);return Pe&&Qr(b,v),M}for(y=r(b,y);v<S.length;v++)_=I(y,b,v,S[v],N),_!==null&&(t&&_.alternate!==null&&y.delete(_.key===null?v:_.key),w=s(_,w,v),L===null?M=_:L.sibling=_,L=_);return t&&y.forEach(function(C){return e(b,C)}),Pe&&Qr(b,v),M}function k(b,w,S,N){var M=Zs(S);if(typeof M!="function")throw Error($(150));if(S=M.call(S),S==null)throw Error($(151));for(var L=M=null,y=w,v=w=0,_=null,x=S.next();y!==null&&!x.done;v++,x=S.next()){y.index>v?(_=y,y=null):_=y.sibling;var C=g(b,y,x.value,N);if(C===null){y===null&&(y=_);break}t&&y&&C.alternate===null&&e(b,y),w=s(C,w,v),L===null?M=C:L.sibling=C,L=C,y=_}if(x.done)return n(b,y),Pe&&Qr(b,v),M;if(y===null){for(;!x.done;v++,x=S.next())x=p(b,x.value,N),x!==null&&(w=s(x,w,v),L===null?M=x:L.sibling=x,L=x);return Pe&&Qr(b,v),M}for(y=r(b,y);!x.done;v++,x=S.next())x=I(y,b,v,x.value,N),x!==null&&(t&&x.alternate!==null&&y.delete(x.key===null?v:x.key),w=s(x,w,v),L===null?M=x:L.sibling=x,L=x);return t&&y.forEach(function(P){return e(b,P)}),Pe&&Qr(b,v),M}function R(b,w,S,N){if(typeof S=="object"&&S!==null&&S.type===Oi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case qa:e:{for(var M=S.key,L=w;L!==null;){if(L.key===M){if(M=S.type,M===Oi){if(L.tag===7){n(b,L.sibling),w=i(L,S.props.children),w.return=b,b=w;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===nr&&ov(M)===L.type){n(b,L.sibling),w=i(L,S.props),w.ref=io(b,L,S),w.return=b,b=w;break e}n(b,L);break}else e(b,L);L=L.sibling}S.type===Oi?(w=ri(S.props.children,b.mode,N,S.key),w.return=b,b=w):(N=Cl(S.type,S.key,S.props,null,b.mode,N),N.ref=io(b,w,S),N.return=b,b=N)}return o(b);case ji:e:{for(L=S.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(b,w.sibling),w=i(w,S.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=bd(S,b.mode,N),w.return=b,b=w}return o(b);case nr:return L=S._init,R(b,w,L(S._payload),N)}if(lo(S))return A(b,w,S,N);if(Zs(S))return k(b,w,S,N);rl(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,S),w.return=b,b=w):(n(b,w),w=Td(S,b.mode,N),w.return=b,b=w),o(b)):n(b,w)}return R}var as=ew(!0),tw=ew(!1),Xl=Lr(null),Zl=null,Bi=null,Xf=null;function Zf(){Xf=Bi=Zl=null}function ep(t){var e=Xl.current;Ce(Xl),t._currentValue=e}function Th(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yi(t,e){Zl=t,Xf=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(Xf!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(Zl===null)throw Error($(308));Bi=t,Zl.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var Zr=null;function tp(t){Zr===null?Zr=[t]:Zr.push(t)}function nw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tp(e)):(n.next=i.next,i.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function np(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zn(t,n)}return i=r.interleaved,i===null?(e.next=e,tp(r)):(e.next=i.next,i.next=e),r.interleaved=e,zn(t,n)}function El(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zf(t,n)}}function av(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eu(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=c=u=null,l=s;do{var g=l.lane,I=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=t,k=l;switch(g=e,I=n,k.tag){case 1:if(A=k.payload,typeof A=="function"){p=A.call(I,p,g);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=k.payload,g=typeof A=="function"?A.call(I,p,g):A,g==null)break e;p=je({},p,g);break e;case 2:rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else I={eventTime:I,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=I,u=p):f=f.next=I,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=p}}function lv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var ca={},yn=Lr(ca),$o=Lr(ca),Wo=Lr(ca);function ei(t){if(t===ca)throw Error($(174));return t}function rp(t,e){switch(xe(Wo,e),xe($o,t),xe(yn,ca),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ih(e,t)}Ce(yn),xe(yn,e)}function ls(){Ce(yn),Ce($o),Ce(Wo)}function iw(t){ei(Wo.current);var e=ei(yn.current),n=ih(e,t.type);e!==n&&(xe($o,t),xe(yn,n))}function ip(t){$o.current===t&&(Ce(yn),Ce($o))}var Re=Lr(0);function tu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yd=[];function sp(){for(var t=0;t<yd.length;t++)yd[t]._workInProgressVersionPrimary=null;yd.length=0}var xl=Gn.ReactCurrentDispatcher,_d=Gn.ReactCurrentBatchConfig,oi=0,Ne=null,We=null,Je=null,nu=!1,xo=!1,Ho=0,eI=0;function ct(){throw Error($(321))}function op(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function ap(t,e,n,r,i,s){if(oi=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xl.current=t===null||t.memoizedState===null?iI:sI,t=n(r,i),xo){s=0;do{if(xo=!1,Ho=0,25<=s)throw Error($(301));s+=1,Je=We=null,e.updateQueue=null,xl.current=oI,t=n(r,i)}while(xo)}if(xl.current=ru,e=We!==null&&We.next!==null,oi=0,Je=We=Ne=null,nu=!1,e)throw Error($(300));return t}function lp(){var t=Ho!==0;return Ho=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ne.memoizedState=Je=t:Je=Je.next=t,Je}function Xt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Je===null?Ne.memoizedState:Je.next;if(e!==null)Je=e,We=t;else{if(t===null)throw Error($(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?Ne.memoizedState=Je=t:Je=Je.next=t}return Je}function qo(t,e){return typeof e=="function"?e(t):e}function wd(t){var e=Xt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=We,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((oi&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Ne.lanes|=f,ai|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,cn(r,e.memoizedState)||(Rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ed(t){var e=Xt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);cn(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sw(){}function ow(t,e){var n=Ne,r=Xt(),i=e(),s=!cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Rt=!0),r=r.queue,up(uw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Go(9,lw.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error($(349));oi&30||aw(n,e,i)}return i}function aw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lw(t,e,n,r){e.value=n,e.getSnapshot=r,cw(e)&&dw(t)}function uw(t,e,n){return n(function(){cw(e)&&dw(t)})}function cw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function dw(t){var e=zn(t,1);e!==null&&ln(e,t,1,-1)}function uv(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},e.queue=t,t=t.dispatch=rI.bind(null,Ne,t),[e.memoizedState,t]}function Go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hw(){return Xt().memoizedState}function Sl(t,e,n,r){var i=pn();Ne.flags|=t,i.memoizedState=Go(1|e,n,void 0,r===void 0?null:r)}function Ku(t,e,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,r!==null&&op(r,o.deps)){i.memoizedState=Go(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Go(1|e,n,s,r)}function cv(t,e){return Sl(8390656,8,t,e)}function up(t,e){return Ku(2048,8,t,e)}function fw(t,e){return Ku(4,2,t,e)}function pw(t,e){return Ku(4,4,t,e)}function mw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gw(t,e,n){return n=n!=null?n.concat([t]):null,Ku(4,4,mw.bind(null,e,t),n)}function cp(){}function vw(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&op(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yw(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&op(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _w(t,e,n){return oi&21?(cn(n,e)||(n=T0(),Ne.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function tI(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=_d.transition;_d.transition={};try{t(!1),e()}finally{we=n,_d.transition=r}}function ww(){return Xt().memoizedState}function nI(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ew(t))xw(e,n);else if(n=nw(t,e,n,r),n!==null){var i=xt();ln(n,t,r,i),Sw(n,e,r)}}function rI(t,e,n){var r=vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ew(t))xw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,cn(l,o)){var u=e.interleaved;u===null?(i.next=i,tp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=nw(t,e,i,r),n!==null&&(i=xt(),ln(n,t,r,i),Sw(n,e,r))}}function Ew(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function xw(t,e){xo=nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zf(t,n)}}var ru={readContext:Jt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},iI={readContext:Jt,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:cv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sl(4194308,4,mw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sl(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nI.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:uv,useDebugValue:cp,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=uv(!1),e=t[0];return t=tI.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=pn();if(Pe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Xe===null)throw Error($(349));oi&30||aw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cv(uw.bind(null,r,s,t),[t]),r.flags|=2048,Go(9,lw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=pn(),e=Xe.identifierPrefix;if(Pe){var n=Dn,r=On;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ho++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sI={readContext:Jt,useCallback:vw,useContext:Jt,useEffect:up,useImperativeHandle:gw,useInsertionEffect:fw,useLayoutEffect:pw,useMemo:yw,useReducer:wd,useRef:hw,useState:function(){return wd(qo)},useDebugValue:cp,useDeferredValue:function(t){var e=Xt();return _w(e,We.memoizedState,t)},useTransition:function(){var t=wd(qo)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:sw,useSyncExternalStore:ow,useId:ww,unstable_isNewReconciler:!1},oI={readContext:Jt,useCallback:vw,useContext:Jt,useEffect:up,useImperativeHandle:gw,useInsertionEffect:fw,useLayoutEffect:pw,useMemo:yw,useReducer:Ed,useRef:hw,useState:function(){return Ed(qo)},useDebugValue:cp,useDeferredValue:function(t){var e=Xt();return We===null?e.memoizedState=t:_w(e,We.memoizedState,t)},useTransition:function(){var t=Ed(qo)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:sw,useSyncExternalStore:ow,useId:ww,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qu={isMounted:function(t){return(t=t._reactInternals)?vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),i=vr(t),s=Vn(r,i);s.payload=e,n!=null&&(s.callback=n),e=mr(t,s,i),e!==null&&(ln(e,t,i,r),El(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),i=vr(t),s=Vn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=mr(t,s,i),e!==null&&(ln(e,t,i,r),El(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=vr(t),i=Vn(n,r);i.tag=2,e!=null&&(i.callback=e),e=mr(t,i,r),e!==null&&(ln(e,t,r,n),El(e,t,r))}};function dv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fo(n,r)||!Fo(i,s):!0}function Tw(t,e,n){var r=!1,i=Ar,s=e.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(i=jt(e)?ii:gt.current,r=e.contextTypes,s=(r=r!=null)?ss(t,i):Ar),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qu.enqueueReplaceState(e,e.state,null)}function Ih(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},np(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jt(s):(s=jt(e)?ii:gt.current,i.context=ss(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qu.enqueueReplaceState(i,i.state,null),eu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function us(t,e){try{var n="",r=e;do n+=OT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ch(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aI=typeof WeakMap=="function"?WeakMap:Map;function bw(t,e,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){su||(su=!0,Lh=r),Ch(t,e)},n}function Iw(t,e,n){n=Vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ch(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ch(t,e),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EI.bind(null,t,e,n),e.then(t,t))}function pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vn(-1,1),e.tag=2,mr(n,e,1))),n.lanes|=1),t)}var lI=Gn.ReactCurrentOwner,Rt=!1;function Et(t,e,n,r){e.child=t===null?tw(e,null,n,r):as(e,t.child,n,r)}function gv(t,e,n,r,i){n=n.render;var s=e.ref;return Yi(e,i),r=ap(t,e,n,r,s,i),n=lp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(Pe&&n&&Qf(e),e.flags|=1,Et(t,e,r,i),e.child)}function vv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!yp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Cw(t,e,s,r,i)):(t=Cl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(o,r)&&t.ref===e.ref)return Bn(t,e,i)}return e.flags|=1,t=yr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Cw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fo(s,r)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,Bn(t,e,i)}return Ah(t,e,n,r,i)}function Aw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Wi,Lt),Lt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Wi,Lt),Lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(Wi,Lt),Lt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe(Wi,Lt),Lt|=r;return Et(t,e,i,n),e.child}function Pw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ah(t,e,n,r,i){var s=jt(n)?ii:gt.current;return s=ss(e,s),Yi(e,i),n=ap(t,e,n,r,s,i),r=lp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(Pe&&r&&Qf(e),e.flags|=1,Et(t,e,n,i),e.child)}function yv(t,e,n,r,i){if(jt(n)){var s=!0;Ql(e)}else s=!1;if(Yi(e,i),e.stateNode===null)Tl(t,e),Tw(e,n,r),Ih(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=jt(n)?ii:gt.current,c=ss(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&hv(e,o,r,c),rr=!1;var g=e.memoizedState;o.state=g,eu(e,r,o,i),u=e.memoizedState,l!==r||g!==u||Nt.current||rr?(typeof f=="function"&&(bh(e,n,f,r),u=e.memoizedState),(l=rr||dv(e,n,l,r,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:tn(e.type,l),o.props=c,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jt(u):(u=jt(n)?ii:gt.current,u=ss(e,u));var I=n.getDerivedStateFromProps;(f=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&hv(e,o,r,u),rr=!1,g=e.memoizedState,o.state=g,eu(e,r,o,i);var A=e.memoizedState;l!==p||g!==A||Nt.current||rr?(typeof I=="function"&&(bh(e,n,I,r),A=e.memoizedState),(c=rr||dv(e,n,c,r,g,A,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Ph(t,e,n,r,s,i)}function Ph(t,e,n,r,i,s){Pw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rv(e,n,!1),Bn(t,e,s);r=e.stateNode,lI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=as(e,t.child,null,s),e.child=as(e,null,l,s)):Et(t,e,l,s),e.memoizedState=r.state,i&&rv(e,n,!0),e.child}function kw(t){var e=t.stateNode;e.pendingContext?nv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nv(t,e.context,!1),rp(t,e.containerInfo)}function _v(t,e,n,r,i){return os(),Jf(i),e.flags|=256,Et(t,e,n,r),e.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rw(t,e,n){var r=e.pendingProps,i=Re.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Re,i&1),t===null)return Sh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xu(o,r,0,null),t=ri(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rh(n),e.memoizedState=kh,t):dp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return uI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=yr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=yr(l,s):(s=ri(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kh,r}return s=t.child,t=s.sibling,r=yr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dp(t,e){return e=Xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function il(t,e,n,r){return r!==null&&Jf(r),as(e,t.child,null,n),t=dp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xd(Error($(422))),il(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xu({mode:"visible",children:r.children},i,0,null),s=ri(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&as(e,t.child,null,o),e.child.memoizedState=Rh(o),e.memoizedState=kh,s);if(!(e.mode&1))return il(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=xd(s,r,void 0),il(t,e,o,r)}if(l=(o&t.childLanes)!==0,Rt||l){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zn(t,i),ln(r,t,i,-1))}return vp(),r=xd(Error($(421))),il(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vt=pr(i.nextSibling),Ut=e,Pe=!0,rn=null,t!==null&&(Gt[Kt++]=On,Gt[Kt++]=Dn,Gt[Kt++]=si,On=t.id,Dn=t.overflow,si=e),e=dp(e,r.children),e.flags|=4096,e)}function wv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Th(t.return,e,n)}function Sd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Nw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Et(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wv(t,n,e);else if(t.tag===19)wv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sd(e,!0,n,null,s);break;case"together":Sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cI(t,e,n){switch(e.tag){case 3:kw(e),os();break;case 5:iw(e);break;case 1:jt(e.type)&&Ql(e);break;case 4:rp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Xl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?Rw(t,e,n):(xe(Re,Re.current&1),t=Bn(t,e,n),t!==null?t.sibling:null);xe(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Nw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,Aw(t,e,n)}return Bn(t,e,n)}var jw,Nh,Ow,Dw;jw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nh=function(){};Ow=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ei(yn.current);var s=null;switch(n){case"input":i=eh(t,i),r=eh(t,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=rh(t,i),r=rh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gl)}sh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(No.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(No.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&be("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Dw=function(t,e,n,r){n!==r&&(e.flags|=4)};function so(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dI(t,e,n){var r=e.pendingProps;switch(Yf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return jt(e.type)&&Kl(),dt(e),null;case 3:return r=e.stateNode,ls(),Ce(Nt),Ce(gt),sp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(Uh(rn),rn=null))),Nh(t,e),dt(e),null;case 5:ip(e);var i=ei(Wo.current);if(n=e.type,t!==null&&e.stateNode!=null)Ow(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return dt(e),null}if(t=ei(yn.current),nl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gn]=e,r[Bo]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<co.length;i++)be(co[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Pg(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":Rg(r,s),be("invalid",r)}sh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),i=["children",""+l]):No.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Ga(r),kg(r,s,!0);break;case"textarea":Ga(r),Ng(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gn]=e,t[Bo]=r,jw(t,e,!1,!1),e.stateNode=t;e:{switch(o=oh(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<co.length;i++)be(co[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":Pg(t,r),i=eh(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),be("invalid",t);break;case"textarea":Rg(t,r),i=rh(t,r),be("invalid",t);break;default:i=r}sh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?h0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&c0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&jo(t,u):typeof u=="number"&&jo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(No.hasOwnProperty(s)?u!=null&&s==="onScroll"&&be("scroll",t):u!=null&&Df(t,s,u,o))}switch(n){case"input":Ga(t),kg(t,r,!1);break;case"textarea":Ga(t),Ng(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qi(t,!!r.multiple,s,!1):r.defaultValue!=null&&qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)Dw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ei(Wo.current),ei(yn.current),nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[gn]=e,(s=r.nodeValue!==n)&&(t=Ut,t!==null))switch(t.tag){case 3:tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r}return dt(e),null;case 13:if(Ce(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Vt!==null&&e.mode&1&&!(e.flags&128))Z0(),os(),e.flags|=98560,s=!1;else if(s=nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[gn]=e}else os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else rn!==null&&(Uh(rn),rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?He===0&&(He=3):vp())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return ls(),Nh(t,e),t===null&&Uo(e.stateNode.containerInfo),dt(e),null;case 10:return ep(e.type._context),dt(e),null;case 17:return jt(e.type)&&Kl(),dt(e),null;case 19:if(Ce(Re),s=e.memoizedState,s===null)return dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)so(s,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tu(t),o!==null){for(e.flags|=128,so(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Re,Re.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>cs&&(e.flags|=128,r=!0,so(s,!1),e.lanes=4194304)}else{if(!r)if(t=tu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),so(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return dt(e),null}else 2*Fe()-s.renderingStartTime>cs&&n!==1073741824&&(e.flags|=128,r=!0,so(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=Re.current,xe(Re,r?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return gp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lt&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function hI(t,e){switch(Yf(e),e.tag){case 1:return jt(e.type)&&Kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),Ce(Nt),Ce(gt),sp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ip(e),null;case 13:if(Ce(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Re),null;case 4:return ls(),null;case 10:return ep(e.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var sl=!1,pt=!1,fI=typeof WeakSet=="function"?WeakSet:Set,Q=null;function $i(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function jh(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Ev=!1;function pI(t,e){if(gh=Wl,t=U0(),Kf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,p=t,g=null;t:for(;;){for(var I;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(I=p.firstChild)!==null;)g=p,p=I;for(;;){if(p===t)break t;if(g===n&&++c===i&&(l=o),g===s&&++f===r&&(u=o),(I=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=I}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vh={focusedElem:t,selectionRange:n},Wl=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,R=A.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?k:tn(e.type,k),R);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){Me(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return A=Ev,Ev=!1,A}function So(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jh(e,n,s)}i=i.next}while(i!==r)}}function Yu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mw(t){var e=t.alternate;e!==null&&(t.alternate=null,Mw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gn],delete e[Bo],delete e[wh],delete e[Yb],delete e[Jb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lw(t){return t.tag===5||t.tag===3||t.tag===4}function xv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gl));else if(r!==4&&(t=t.child,t!==null))for(Dh(t,e,n),t=t.sibling;t!==null;)Dh(t,e,n),t=t.sibling}function Mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mh(t,e,n),t=t.sibling;t!==null;)Mh(t,e,n),t=t.sibling}var tt=null,nn=!1;function er(t,e,n){for(n=n.child;n!==null;)Vw(t,e,n),n=n.sibling}function Vw(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Bu,n)}catch{}switch(n.tag){case 5:pt||$i(n,e);case 6:var r=tt,i=nn;tt=null,er(t,e,n),tt=r,nn=i,tt!==null&&(nn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(nn?(t=tt,n=n.stateNode,t.nodeType===8?gd(t.parentNode,n):t.nodeType===1&&gd(t,n),Lo(t)):gd(tt,n.stateNode));break;case 4:r=tt,i=nn,tt=n.stateNode.containerInfo,nn=!0,er(t,e,n),tt=r,nn=i;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jh(n,e,o),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!pt&&($i(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,e,l)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,er(t,e,n),pt=r):er(t,e,n);break;default:er(t,e,n)}}function Sv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fI),e.forEach(function(r){var i=SI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:tt=l.stateNode,nn=!1;break e;case 3:tt=l.stateNode.containerInfo,nn=!0;break e;case 4:tt=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if(tt===null)throw Error($(160));Vw(s,o,i),tt=null,nn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Me(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fw(e,t),e=e.sibling}function Fw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),fn(t),r&4){try{So(3,t,t.return),Yu(3,t)}catch(k){Me(t,t.return,k)}try{So(5,t,t.return)}catch(k){Me(t,t.return,k)}}break;case 1:en(e,t),fn(t),r&512&&n!==null&&$i(n,n.return);break;case 5:if(en(e,t),fn(t),r&512&&n!==null&&$i(n,n.return),t.flags&32){var i=t.stateNode;try{jo(i,"")}catch(k){Me(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&a0(i,s),oh(l,o);var c=oh(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?h0(i,p):f==="dangerouslySetInnerHTML"?c0(i,p):f==="children"?jo(i,p):Df(i,f,p,c)}switch(l){case"input":th(i,s);break;case"textarea":l0(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?qi(i,!!s.multiple,I,!1):g!==!!s.multiple&&(s.defaultValue!=null?qi(i,!!s.multiple,s.defaultValue,!0):qi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bo]=s}catch(k){Me(t,t.return,k)}}break;case 6:if(en(e,t),fn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Me(t,t.return,k)}}break;case 3:if(en(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(e.containerInfo)}catch(k){Me(t,t.return,k)}break;case 4:en(e,t),fn(t);break;case 13:en(e,t),fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pp=Fe())),r&4&&Sv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(c=pt)||f,en(e,t),pt=c):en(e,t),fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Q=t,f=t.child;f!==null;){for(p=Q=f;Q!==null;){switch(g=Q,I=g.child,g.tag){case 0:case 11:case 14:case 15:So(4,g,g.return);break;case 1:$i(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(k){Me(r,n,k)}}break;case 5:$i(g,g.return);break;case 22:if(g.memoizedState!==null){bv(p);continue}}I!==null?(I.return=g,Q=I):bv(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=d0("display",o))}catch(k){Me(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){Me(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:en(e,t),fn(t),r&4&&Sv(t);break;case 21:break;default:en(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lw(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jo(i,""),r.flags&=-33);var s=xv(t);Mh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xv(t);Dh(t,l,o);break;default:throw Error($(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mI(t,e,n){Q=t,Uw(t)}function Uw(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sl;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||pt;l=sl;var c=pt;if(sl=o,(pt=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?Iv(i):u!==null?(u.return=o,Q=u):Iv(i);for(;s!==null;)Q=s,Uw(s),s=s.sibling;Q=i,sl=l,pt=c}Tv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Tv(t)}}function Tv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||Yu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Lo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}pt||e.flags&512&&Oh(e)}catch(g){Me(e,e.return,g)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function bv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Iv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yu(4,e)}catch(u){Me(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Me(e,i,u)}}var s=e.return;try{Oh(e)}catch(u){Me(e,s,u)}break;case 5:var o=e.return;try{Oh(e)}catch(u){Me(e,o,u)}}}catch(u){Me(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var gI=Math.ceil,iu=Gn.ReactCurrentDispatcher,hp=Gn.ReactCurrentOwner,Yt=Gn.ReactCurrentBatchConfig,ve=0,Xe=null,Be=null,it=0,Lt=0,Wi=Lr(0),He=0,Ko=null,ai=0,Ju=0,fp=0,To=null,Pt=null,pp=0,cs=1/0,An=null,su=!1,Lh=null,gr=null,ol=!1,lr=null,ou=0,bo=0,Vh=null,bl=-1,Il=0;function xt(){return ve&6?Fe():bl!==-1?bl:bl=Fe()}function vr(t){return t.mode&1?ve&2&&it!==0?it&-it:Zb.transition!==null?(Il===0&&(Il=T0()),Il):(t=we,t!==0||(t=window.event,t=t===void 0?16:R0(t.type)),t):1}function ln(t,e,n,r){if(50<bo)throw bo=0,Vh=null,Error($(185));aa(t,n,r),(!(ve&2)||t!==Xe)&&(t===Xe&&(!(ve&2)&&(Ju|=n),He===4&&or(t,it)),Ot(t,r),n===1&&ve===0&&!(e.mode&1)&&(cs=Fe()+500,Gu&&Vr()))}function Ot(t,e){var n=t.callbackNode;ZT(t,e);var r=$l(t,t===Xe?it:0);if(r===0)n!==null&&Dg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dg(n),e===1)t.tag===0?Xb(Cv.bind(null,t)):Y0(Cv.bind(null,t)),Kb(function(){!(ve&6)&&Vr()}),n=null;else{switch(b0(r)){case 1:n=Uf;break;case 4:n=x0;break;case 16:n=Bl;break;case 536870912:n=S0;break;default:n=Bl}n=Kw(n,zw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zw(t,e){if(bl=-1,Il=0,ve&6)throw Error($(327));var n=t.callbackNode;if(Ji()&&t.callbackNode!==n)return null;var r=$l(t,t===Xe?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=au(t,r);else{e=r;var i=ve;ve|=2;var s=$w();(Xe!==t||it!==e)&&(An=null,cs=Fe()+500,ni(t,e));do try{_I();break}catch(l){Bw(t,l)}while(!0);Zf(),iu.current=s,ve=i,Be!==null?e=0:(Xe=null,it=0,e=He)}if(e!==0){if(e===2&&(i=dh(t),i!==0&&(r=i,e=Fh(t,i))),e===1)throw n=Ko,ni(t,0),or(t,r),Ot(t,Fe()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!vI(i)&&(e=au(t,r),e===2&&(s=dh(t),s!==0&&(r=s,e=Fh(t,s))),e===1))throw n=Ko,ni(t,0),or(t,r),Ot(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Yr(t,Pt,An);break;case 3:if(or(t,r),(r&130023424)===r&&(e=pp+500-Fe(),10<e)){if($l(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_h(Yr.bind(null,t,Pt,An),e);break}Yr(t,Pt,An);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-an(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gI(r/1960))-r,10<r){t.timeoutHandle=_h(Yr.bind(null,t,Pt,An),r);break}Yr(t,Pt,An);break;case 5:Yr(t,Pt,An);break;default:throw Error($(329))}}}return Ot(t,Fe()),t.callbackNode===n?zw.bind(null,t):null}function Fh(t,e){var n=To;return t.current.memoizedState.isDehydrated&&(ni(t,e).flags|=256),t=au(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Uh(e)),t}function Uh(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function vI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~fp,e&=~Ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function Cv(t){if(ve&6)throw Error($(327));Ji();var e=$l(t,0);if(!(e&1))return Ot(t,Fe()),null;var n=au(t,e);if(t.tag!==0&&n===2){var r=dh(t);r!==0&&(e=r,n=Fh(t,r))}if(n===1)throw n=Ko,ni(t,0),or(t,e),Ot(t,Fe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,Pt,An),Ot(t,Fe()),null}function mp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(cs=Fe()+500,Gu&&Vr())}}function li(t){lr!==null&&lr.tag===0&&!(ve&6)&&Ji();var e=ve;ve|=1;var n=Yt.transition,r=we;try{if(Yt.transition=null,we=1,t)return t()}finally{we=r,Yt.transition=n,ve=e,!(ve&6)&&Vr()}}function gp(){Lt=Wi.current,Ce(Wi)}function ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gb(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Yf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:ls(),Ce(Nt),Ce(gt),sp();break;case 5:ip(r);break;case 4:ls();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:ep(r.type._context);break;case 22:case 23:gp()}n=n.return}if(Xe=t,Be=t=yr(t.current,null),it=Lt=e,He=0,Ko=null,fp=Ju=ai=0,Pt=To=null,Zr!==null){for(e=0;e<Zr.length;e++)if(n=Zr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zr=null}return t}function Bw(t,e){do{var n=Be;try{if(Zf(),xl.current=ru,nu){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nu=!1}if(oi=0,Je=We=Ne=null,xo=!1,Ho=0,hp.current=null,n===null||n.return===null){He=1,Ko=e,Be=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=it,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var I=pv(o);if(I!==null){I.flags&=-257,mv(I,o,l,s,e),I.mode&1&&fv(s,c,e),e=I,u=c;var A=e.updateQueue;if(A===null){var k=new Set;k.add(u),e.updateQueue=k}else A.add(u);break e}else{if(!(e&1)){fv(s,c,e),vp();break e}u=Error($(426))}}else if(Pe&&l.mode&1){var R=pv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),mv(R,o,l,s,e),Jf(us(u,l));break e}}s=u=us(u,l),He!==4&&(He=2),To===null?To=[s]:To.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=bw(s,u,e);av(s,b);break e;case 1:l=u;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(gr===null||!gr.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=Iw(s,l,e);av(s,N);break e}}s=s.return}while(s!==null)}Hw(n)}catch(M){e=M,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function $w(){var t=iu.current;return iu.current=ru,t===null?ru:t}function vp(){(He===0||He===3||He===2)&&(He=4),Xe===null||!(ai&268435455)&&!(Ju&268435455)||or(Xe,it)}function au(t,e){var n=ve;ve|=2;var r=$w();(Xe!==t||it!==e)&&(An=null,ni(t,e));do try{yI();break}catch(i){Bw(t,i)}while(!0);if(Zf(),ve=n,iu.current=r,Be!==null)throw Error($(261));return Xe=null,it=0,He}function yI(){for(;Be!==null;)Ww(Be)}function _I(){for(;Be!==null&&!WT();)Ww(Be)}function Ww(t){var e=Gw(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,e===null?Hw(t):Be=e,hp.current=null}function Hw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hI(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Be=null;return}}else if(n=dI(n,e,Lt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);He===0&&(He=5)}function Yr(t,e,n){var r=we,i=Yt.transition;try{Yt.transition=null,we=1,wI(t,e,n,r)}finally{Yt.transition=i,we=r}return null}function wI(t,e,n,r){do Ji();while(lr!==null);if(ve&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eb(t,s),t===Xe&&(Be=Xe=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ol||(ol=!0,Kw(Bl,function(){return Ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yt.transition,Yt.transition=null;var o=we;we=1;var l=ve;ve|=4,hp.current=null,pI(t,n),Fw(n,t),Ub(vh),Wl=!!gh,vh=gh=null,t.current=n,mI(n),HT(),ve=l,we=o,Yt.transition=s}else t.current=n;if(ol&&(ol=!1,lr=t,ou=i),s=t.pendingLanes,s===0&&(gr=null),KT(n.stateNode),Ot(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(su)throw su=!1,t=Lh,Lh=null,t;return ou&1&&t.tag!==0&&Ji(),s=t.pendingLanes,s&1?t===Vh?bo++:(bo=0,Vh=t):bo=0,Vr(),null}function Ji(){if(lr!==null){var t=b0(ou),e=Yt.transition,n=we;try{if(Yt.transition=null,we=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,ou=0,ve&6)throw Error($(331));var i=ve;for(ve|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Q=c;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:So(8,f,s)}var p=f.child;if(p!==null)p.return=f,Q=p;else for(;Q!==null;){f=Q;var g=f.sibling,I=f.return;if(Mw(f),f===c){Q=null;break}if(g!==null){g.return=I,Q=g;break}Q=I}}}var A=s.alternate;if(A!==null){var k=A.child;if(k!==null){A.child=null;do{var R=k.sibling;k.sibling=null,k=R}while(k!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:So(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Q=b;break e}Q=s.return}}var w=t.current;for(Q=w;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=w;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yu(9,l)}}catch(M){Me(l,l.return,M)}if(l===o){Q=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Q=N;break e}Q=l.return}}if(ve=i,Vr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Bu,t)}catch{}r=!0}return r}finally{we=n,Yt.transition=e}}return!1}function Av(t,e,n){e=us(n,e),e=bw(t,e,1),t=mr(t,e,1),e=xt(),t!==null&&(aa(t,1,e),Ot(t,e))}function Me(t,e,n){if(t.tag===3)Av(t,t,n);else for(;e!==null;){if(e.tag===3){Av(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){t=us(n,t),t=Iw(e,t,1),e=mr(e,t,1),t=xt(),e!==null&&(aa(e,1,t),Ot(e,t));break}}e=e.return}}function EI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(it&n)===n&&(He===4||He===3&&(it&130023424)===it&&500>Fe()-pp?ni(t,0):fp|=n),Ot(t,e)}function qw(t,e){e===0&&(t.mode&1?(e=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):e=1);var n=xt();t=zn(t,e),t!==null&&(aa(t,e,n),Ot(t,n))}function xI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qw(t,n)}function SI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),qw(t,n)}var Gw;Gw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rt=!1,cI(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Pe&&e.flags&1048576&&J0(e,Jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tl(t,e),t=e.pendingProps;var i=ss(e,gt.current);Yi(e,n),i=ap(null,e,r,t,i,n);var s=lp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(s=!0,Ql(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,np(e),i.updater=Qu,e.stateNode=i,i._reactInternals=e,Ih(e,r,t,n),e=Ph(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&Qf(e),Et(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=bI(r),t=tn(r,t),i){case 0:e=Ah(null,e,r,t,n);break e;case 1:e=yv(null,e,r,t,n);break e;case 11:e=gv(null,e,r,t,n);break e;case 14:e=vv(null,e,r,tn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),Ah(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),yv(t,e,r,i,n);case 3:e:{if(kw(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rw(t,e),eu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=us(Error($(423)),e),e=_v(t,e,r,n,i);break e}else if(r!==i){i=us(Error($(424)),e),e=_v(t,e,r,n,i);break e}else for(Vt=pr(e.stateNode.containerInfo.firstChild),Ut=e,Pe=!0,rn=null,n=tw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===i){e=Bn(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return iw(e),t===null&&Sh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yh(r,i)?o=null:s!==null&&yh(r,s)&&(e.flags|=32),Pw(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&Sh(e),null;case 13:return Rw(t,e,n);case 4:return rp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=as(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),gv(t,e,r,i,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(Xl,r._currentValue),r._currentValue=o,s!==null)if(cn(s.value,o)){if(s.children===i.children&&!Nt.current){e=Bn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Vn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Th(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Th(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Et(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yi(e,n),i=Jt(i),r=r(i),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,i=tn(r,e.pendingProps),i=tn(r.type,i),vv(t,e,r,i,n);case 15:return Cw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),Tl(t,e),e.tag=1,jt(r)?(t=!0,Ql(e)):t=!1,Yi(e,n),Tw(e,r,i),Ih(e,r,i,n),Ph(null,e,r,!0,t,n);case 19:return Nw(t,e,n);case 22:return Aw(t,e,n)}throw Error($(156,e.tag))};function Kw(t,e){return E0(t,e)}function TI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,r){return new TI(t,e,n,r)}function yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bI(t){if(typeof t=="function")return yp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lf)return 11;if(t===Vf)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")yp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oi:return ri(n.children,i,s,e);case Mf:o=8,i|=8;break;case Yd:return t=Qt(12,n,e,i|2),t.elementType=Yd,t.lanes=s,t;case Jd:return t=Qt(13,n,e,i),t.elementType=Jd,t.lanes=s,t;case Xd:return t=Qt(19,n,e,i),t.elementType=Xd,t.lanes=s,t;case i0:return Xu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n0:o=10;break e;case r0:o=9;break e;case Lf:o=11;break e;case Vf:o=14;break e;case nr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Qt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ri(t,e,n,r){return t=Qt(7,t,r,e),t.lanes=n,t}function Xu(t,e,n,r){return t=Qt(22,t,r,e),t.elementType=i0,t.lanes=n,t.stateNode={isHidden:!1},t}function Td(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function bd(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function II(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sd(0),this.expirationTimes=sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _p(t,e,n,r,i,s,o,l,u){return t=new II(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},np(s),t}function CI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qw(t){if(!t)return Ar;t=t._reactInternals;e:{if(vi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(jt(n))return Q0(t,n,e)}return e}function Yw(t,e,n,r,i,s,o,l,u){return t=_p(n,r,!0,t,i,s,o,l,u),t.context=Qw(null),n=t.current,r=xt(),i=vr(n),s=Vn(r,i),s.callback=e??null,mr(n,s,i),t.current.lanes=i,aa(t,i,r),Ot(t,r),t}function Zu(t,e,n,r){var i=e.current,s=xt(),o=vr(i);return n=Qw(n),e.context===null?e.context=n:e.pendingContext=n,e=Vn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mr(i,e,o),t!==null&&(ln(t,i,o,s),El(t,i,o)),o}function lu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wp(t,e){Pv(t,e),(t=t.alternate)&&Pv(t,e)}function AI(){return null}var Jw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ep(t){this._internalRoot=t}ec.prototype.render=Ep.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Zu(t,e,null,null)};ec.prototype.unmount=Ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Zu(null,t,null,null)}),e[Un]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var e=A0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&k0(t)}};function xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kv(){}function PI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=lu(o);s.call(c)}}var o=Yw(e,r,t,0,null,!1,!1,"",kv);return t._reactRootContainer=o,t[Un]=o.current,Uo(t.nodeType===8?t.parentNode:t),li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=lu(u);l.call(c)}}var u=_p(t,0,!1,null,null,!1,!1,"",kv);return t._reactRootContainer=u,t[Un]=u.current,Uo(t.nodeType===8?t.parentNode:t),li(function(){Zu(e,u,n,r)}),u}function nc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=lu(o);l.call(u)}}Zu(e,o,t,i)}else o=PI(n,e,t,i,r);return lu(o)}I0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uo(e.pendingLanes);n!==0&&(zf(e,n|1),Ot(e,Fe()),!(ve&6)&&(cs=Fe()+500,Vr()))}break;case 13:li(function(){var r=zn(t,1);if(r!==null){var i=xt();ln(r,t,1,i)}}),wp(t,1)}};Bf=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=xt();ln(e,t,134217728,n)}wp(t,134217728)}};C0=function(t){if(t.tag===13){var e=vr(t),n=zn(t,e);if(n!==null){var r=xt();ln(n,t,e,r)}wp(t,e)}};A0=function(){return we};P0=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};lh=function(t,e,n){switch(e){case"input":if(th(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qu(r);if(!i)throw Error($(90));o0(r),th(r,i)}}}break;case"textarea":l0(t,n);break;case"select":e=n.value,e!=null&&qi(t,!!n.multiple,e,!1)}};m0=mp;g0=li;var kI={usingClientEntryPoint:!1,Events:[ua,Vi,qu,f0,p0,mp]},oo={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_0(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Bu=al.inject(RI),vn=al}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kI;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(e))throw Error($(200));return CI(t,e,null,n)};$t.createRoot=function(t,e){if(!xp(t))throw Error($(299));var n=!1,r="",i=Jw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_p(t,1,!1,null,null,n,!1,r,i),t[Un]=e.current,Uo(t.nodeType===8?t.parentNode:t),new Ep(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=_0(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return li(t)};$t.hydrate=function(t,e,n){if(!tc(e))throw Error($(200));return nc(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!xp(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Jw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yw(e,null,t,1,n??null,i,!1,s,o),t[Un]=e.current,Uo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ec(e)};$t.render=function(t,e,n){if(!tc(e))throw Error($(200));return nc(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!tc(t))throw Error($(40));return t._reactRootContainer?(li(function(){nc(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};$t.unstable_batchedUpdates=mp;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return nc(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function Xw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xw)}catch(t){console.error(t)}}Xw(),X_.exports=$t;var NI=X_.exports,Zw,Rv=NI;Zw=Rv.createRoot,Rv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}var ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ur||(ur={}));const Nv="popstate";function jI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return zh("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uu(i)}return DI(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OI(){return Math.random().toString(36).substr(2,8)}function jv(t,e){return{usr:t.state,key:t.key,idx:e}}function zh(t,e,n,r){return n===void 0&&(n=null),Qo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ps(e):e,{state:n,key:e&&e.key||r||OI()})}function uu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ur.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Qo({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=ur.Pop;let R=f(),b=R==null?null:R-c;c=R,u&&u({action:l,location:k.location,delta:b})}function g(R,b){l=ur.Push;let w=zh(k.location,R,b);c=f()+1;let S=jv(w,c),N=k.createHref(w);try{o.pushState(S,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}s&&u&&u({action:l,location:k.location,delta:1})}function I(R,b){l=ur.Replace;let w=zh(k.location,R,b);c=f();let S=jv(w,c),N=k.createHref(w);o.replaceState(S,"",N),s&&u&&u({action:l,location:k.location,delta:0})}function A(R){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof R=="string"?R:uu(R);return w=w.replace(/ $/,"%20"),Ue(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let k={get action(){return l},get location(){return t(i,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Nv,p),u=R,()=>{i.removeEventListener(Nv,p),u=null}},createHref(R){return e(i,R)},createURL:A,encodeLocation(R){let b=A(R);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:I,go(R){return o.go(R)}};return k}var Ov;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ov||(Ov={}));function MI(t,e,n){return n===void 0&&(n="/"),LI(t,e,n)}function LI(t,e,n,r){let i=typeof e=="string"?Ps(e):e,s=Sp(i.pathname||"/",n);if(s==null)return null;let o=tE(t);VI(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=YI(s);l=GI(o[u],c)}return l}function tE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=_r([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tE(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:HI(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of nE(s.path))i(s,o,u)}),e}function nE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=nE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function VI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FI=/^:[\w-]+$/,UI=3,zI=2,BI=1,$I=10,WI=-2,Dv=t=>t==="*";function HI(t,e){let n=t.split("/"),r=n.length;return n.some(Dv)&&(r+=WI),e&&(r+=zI),n.filter(i=>!Dv(i)).reduce((i,s)=>i+(FI.test(s)?UI:s===""?BI:$I),r)}function qI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GI(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=KI({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:_r([s,p.pathname]),pathnameBase:e2(_r([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=_r([s,p.pathnameBase]))}return o}function KI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:g,isOptional:I}=f;if(g==="*"){let k=l[p]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const A=l[p];return I&&!A?c[g]=void 0:c[g]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function QI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),eE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ps(t):t;return{pathname:n?n.startsWith("/")?n:XI(n,e):e,search:t2(r),hash:n2(i)}}function XI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Id(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tp(t,e){let n=ZI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ps(t):(i=Qo({},t),Ue(!i.pathname||!i.pathname.includes("?"),Id("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Id("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Id("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=JI(i,l),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const _r=t=>t.join("/").replace(/\/\/+/g,"/"),e2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rE=["post","put","patch","delete"];new Set(rE);const i2=["get",...rE];new Set(i2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}const Ip=O.createContext(null),s2=O.createContext(null),Fr=O.createContext(null),rc=O.createContext(null),Kn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),iE=O.createContext(null);function o2(t,e){let{relative:n}=e===void 0?{}:e;ks()||Ue(!1);let{basename:r,navigator:i}=O.useContext(Fr),{hash:s,pathname:o,search:l}=oE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:_r([r,o])),i.createHref({pathname:u,search:l,hash:s})}function ks(){return O.useContext(rc)!=null}function yi(){return ks()||Ue(!1),O.useContext(rc).location}function sE(t){O.useContext(Fr).static||O.useLayoutEffect(t)}function ic(){let{isDataRoute:t}=O.useContext(Kn);return t?w2():a2()}function a2(){ks()||Ue(!1);let t=O.useContext(Ip),{basename:e,future:n,navigator:r}=O.useContext(Fr),{matches:i}=O.useContext(Kn),{pathname:s}=yi(),o=JSON.stringify(Tp(i,n.v7_relativeSplatPath)),l=O.useRef(!1);return sE(()=>{l.current=!0}),O.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=bp(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:_r([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function l2(){let{matches:t}=O.useContext(Kn),e=t[t.length-1];return e?e.params:{}}function oE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Fr),{matches:i}=O.useContext(Kn),{pathname:s}=yi(),o=JSON.stringify(Tp(i,r.v7_relativeSplatPath));return O.useMemo(()=>bp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function u2(t,e){return c2(t,e)}function c2(t,e,n,r){ks()||Ue(!1);let{navigator:i}=O.useContext(Fr),{matches:s}=O.useContext(Kn),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=yi(),f;if(e){var p;let R=typeof e=="string"?Ps(e):e;u==="/"||(p=R.pathname)!=null&&p.startsWith(u)||Ue(!1),f=R}else f=c;let g=f.pathname||"/",I=g;if(u!=="/"){let R=u.replace(/^\//,"").split("/");I="/"+g.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=MI(t,{pathname:I}),k=m2(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:_r([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:_r([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&k?O.createElement(rc.Provider,{value:{location:Yo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ur.Pop}},k):k}function d2(){let t=_2(),e=r2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const h2=O.createElement(d2,null);class f2 extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Kn.Provider,{value:this.props.routeContext},O.createElement(iE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p2(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(Ip);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Kn.Provider,{value:e},r)}function m2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Ue(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:I}=n,A=p.route.loader&&g[p.route.id]===void 0&&(!I||I[p.route.id]===void 0);if(p.route.lazy||A){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let I,A=!1,k=null,R=null;n&&(I=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||h2,u&&(c<0&&g===0?(E2("route-fallback"),A=!0,R=null):c===g&&(A=!0,R=p.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,g+1)),w=()=>{let S;return I?S=k:A?S=R:p.route.Component?S=O.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=f,O.createElement(p2,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(f2,{location:n.location,revalidation:n.revalidation,component:k,error:I,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var aE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aE||{}),lE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lE||{});function g2(t){let e=O.useContext(Ip);return e||Ue(!1),e}function v2(t){let e=O.useContext(s2);return e||Ue(!1),e}function y2(t){let e=O.useContext(Kn);return e||Ue(!1),e}function uE(t){let e=y2(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function _2(){var t;let e=O.useContext(iE),n=v2(),r=uE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w2(){let{router:t}=g2(aE.UseNavigateStable),e=uE(lE.UseNavigateStable),n=O.useRef(!1);return sE(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yo({fromRouteId:e},s)))},[t,e])}const Mv={};function E2(t,e,n){Mv[t]||(Mv[t]=!0)}function x2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function S2(t){let{to:e,replace:n,state:r,relative:i}=t;ks()||Ue(!1);let{future:s,static:o}=O.useContext(Fr),{matches:l}=O.useContext(Kn),{pathname:u}=yi(),c=ic(),f=bp(e,Tp(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(f);return O.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:i}),[c,p,i,n,r]),null}function Qe(t){Ue(!1)}function T2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ur.Pop,navigator:s,static:o=!1,future:l}=t;ks()&&Ue(!1);let u=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:u,navigator:s,static:o,future:Yo({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Ps(r));let{pathname:f="/",search:p="",hash:g="",state:I=null,key:A="default"}=r,k=O.useMemo(()=>{let R=Sp(f,u);return R==null?null:{location:{pathname:R,search:p,hash:g,state:I,key:A},navigationType:i}},[u,f,p,g,I,A,i]);return k==null?null:O.createElement(Fr.Provider,{value:c},O.createElement(rc.Provider,{children:n,value:k}))}function cE(t){let{children:e,location:n}=t;return u2(Bh(e),n)}new Promise(()=>{});function Bh(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Bh(r.props.children,s));return}r.type!==Qe&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}function b2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C2(t,e){return t.button===0&&(!e||e==="_self")&&!I2(t)}const A2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P2="6";try{window.__reactRouterVersion=P2}catch{}const k2="startTransition",Lv=ET[k2];function R2(t){let{basename:e,children:n,future:r,window:i}=t,s=O.useRef();s.current==null&&(s.current=jI({window:i,v5Compat:!0}));let o=s.current,[l,u]=O.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=O.useCallback(p=>{c&&Lv?Lv(()=>u(p)):u(p)},[u,c]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.useEffect(()=>x2(r),[r]),O.createElement(T2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const N2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p}=e,g=b2(e,A2),{basename:I}=O.useContext(Fr),A,k=!1;if(typeof c=="string"&&j2.test(c)&&(A=c,N2))try{let S=new URL(window.location.href),N=c.startsWith("//")?new URL(S.protocol+c):new URL(c),M=Sp(N.pathname,I);N.origin===S.origin&&M!=null?c=M+N.search+N.hash:k=!0}catch{}let R=o2(c,{relative:i}),b=O2(c,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function w(S){r&&r(S),S.defaultPrevented||b(S)}return O.createElement("a",$h({},g,{href:A||R,onClick:k||s?r:w,ref:n,target:u}))});var Vv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var Fv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fv||(Fv={}));function O2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=ic(),c=yi(),f=oE(t,{relative:o});return O.useCallback(p=>{if(C2(p,n)){p.preventDefault();let g=r!==void 0?r:uu(c)===uu(f);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,f,r,i,n,t,s,o,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),bt=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:u,...c},f)=>O.createElement("svg",{ref:f,...D2,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${M2(t)}`,l].join(" "),...c},[...e.map(([p,g])=>O.createElement(p,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=bt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=bt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=bt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=bt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=bt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=bt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Q2=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(!1),i=yi();O.useEffect(()=>{const o=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=[{name:"Inicio",href:"/"},{name:"Nosotros",href:"/about"},{name:"Clases",href:"/classes"},{name:"Instructores",href:"/instructors"},{name:"Horario",href:"/schedule"},{name:"Galería",href:"/gallery"},{name:"Contacto",href:"/contact"}];return d.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${n||t||i.pathname!=="/"?"bg-black/95 backdrop-blur-sm shadow-lg":"bg-transparent"}`,children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"flex justify-between items-center h-20 md:h-28 lg:h-32",children:[d.jsx(qt,{to:"/",className:"flex items-center space-x-2 h-full",children:d.jsx("img",{src:"/src/uploads/logo-blanco.png",alt:"ADECAM Logo",className:`object-contain transition-all duration-300 mx-auto ${n||t||i.pathname!=="/"?"h-16 md:h-20 lg:h-24":"h-24 md:h-32 lg:h-40 mt-6"} ${n||t||i.pathname!=="/"?"":"mt-6"}`})}),d.jsx("div",{className:"hidden md:flex items-center space-x-8",children:s.map(o=>d.jsxs(qt,{to:o.href,className:`text-white hover:text-gold transition-colors duration-300 text-sm font-medium relative group ${i.pathname===o.href?"text-gold-dark":""}`,children:[o.name,d.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 bg-gold transform transition-transform duration-300 ${i.pathname===o.href?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`})]},o.name))}),d.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-gold p-2 rounded-lg hover:bg-gold/10 transition-colors duration-300","aria-label":"Toggle menu",children:t?d.jsx(sc,{size:24}):d.jsx($2,{size:24})})]}),d.jsx("div",{className:`md:hidden absolute left-0 right-0 transition-all duration-300 ease-in-out ${t?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-4"}`,children:d.jsx("div",{className:"bg-black/95 backdrop-blur-sm shadow-lg py-2",children:s.map(o=>d.jsx(qt,{to:o.href,className:`block px-6 py-3 text-gold hover:bg-gold/20 hover:text-black transition-colors duration-300 ${i.pathname===o.href?"bg-gold/20 text-black":""}`,onClick:()=>e(!1),children:o.name},o.name))})})]})})},Y2=()=>{const t=new Date().getFullYear();return d.jsx("footer",{className:"bg-black text-white py-12",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"ADECAM TRIGUEROS"}),d.jsx("p",{className:"text-gray-400 mb-4",children:"ASOCIACION CULTURAL DE DEPORTES DE CONTACTO Y ARTES MARCIALES TRIGUEROS."}),d.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[d.jsx("img",{src:"/src/uploads/fakm-logo.png",alt:"FAKM Logo",className:"h-16 md:h-20 lg:h-24 object-contain"}),d.jsx("img",{src:"/src/uploads/logo-blanco.png",alt:"Logo Blanco",className:"h-16 md:h-20 lg:h-24 object-contain"}),d.jsx("img",{src:"/src/uploads/logo-five.png",alt:"Logo Five",className:"h-16 md:h-20 lg:h-24 object-contain"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Información Legal"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx(qt,{to:"/cookies",className:"text-gray-400 hover:text-gold underline transition-colors duration-300",children:"Política de Cookies"})}),d.jsx("li",{children:d.jsx(qt,{to:"/privacidad",className:"text-gray-400 hover:text-gold underline transition-colors duration-300",children:"Política de Privacidad"})}),d.jsx("li",{children:d.jsx(qt,{to:"/aviso-legal",className:"text-gray-400 hover:text-gold underline transition-colors duration-300",children:"Aviso Legal"})}),d.jsx("li",{children:d.jsx(qt,{to:"/condiciones",className:"text-gray-400 hover:text-gold underline transition-colors duration-300",children:"Condiciones de Uso"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Nuestras Clases"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx(qt,{to:"#classes",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Jiujitsu Brasileño"})}),d.jsx("li",{children:d.jsx(qt,{to:"#classes",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Kick Boxing"})}),d.jsx("li",{children:d.jsx(qt,{to:"#classes",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Jiujitsu Infantil"})}),d.jsx("li",{children:d.jsx(qt,{to:"#classes",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Preparación Física"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Contacto"}),d.jsxs("address",{className:"not-italic text-gray-400",children:[d.jsx("p",{className:"mb-2",children:"Calle Carpinteros 29"}),d.jsx("p",{className:"mb-2",children:"21620 Trigueros, Huelva"}),d.jsx("p",{className:"mb-2",children:"Teléfono: +34 635 58 53 28"}),d.jsx("p",{className:"mb-2",children:"Email: info@adecamtrigueros.es"})]})]})]}),d.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center",children:d.jsxs("p",{className:"text-gray-500",children:["© ",t," Uridev. Todos los derechos reservados."]})})]})})},J2=()=>d.jsxs("section",{id:"home",className:"relative h-screen flex items-center justify-center overflow-hidden pt-20 md:pt-24",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:'url("/src/uploads/close-up-boxer-bandaging-hands.jpg")',transition:"background-image 0.3s ease-in-out"},children:d.jsxs("picture",{children:[d.jsx("source",{srcSet:"/src/uploads/close-up-boxer-bandaging-hands.webp",type:"image/webp"}),d.jsx("img",{src:"/src/uploads/close-up-boxer-bandaging-hands.jpg",alt:"Boxeador vendándose las manos",className:"w-full h-full object-cover absolute inset-0 z-10",loading:"eager",decoding:"async",fetchPriority:"high"})]})}),d.jsx("video",{className:"absolute inset-0 w-full h-full object-cover z-0",src:"/src/uploads/videohero.mp4",autoPlay:!0,loop:!0,muted:!0}),d.jsx("div",{className:"absolute inset-0 bg-black opacity-60 z-0"}),d.jsx("div",{className:"container mx-auto px-4 z-10 text-center",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight lg:mt-8",children:[d.jsx("span",{className:"text-gold",children:"ADECAM"})," TRIGUEROS"]}),d.jsx("h2",{className:"text-xl md:text-2xl font-medium text-white mb-8",children:"Kick Boxing y Jiujitsu Brasileño en Trigueros"}),d.jsx("p",{className:"text-lg text-gray-300 mb-8 max-w-2xl mx-auto",children:'"Descubre la combinación perfecta de fuerza, técnica y estrategia entrenando Kick Boxing y Jiujitsu Brasileño en un ambiente donde cada golpe y cada llave te acercan a tu mejor versión. Vive la experiencia completa de las artes marciales en ADECAM TRIGUEROS."'}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx("a",{href:"/contact",className:"btn-corporativo bg-gold text-black hover:bg-gold-dark hover:text-white border-2 border-gold hover:border-gold-dark transition-all duration-300 font-bold",children:"¡reserva tu primera clase!"}),d.jsx("a",{href:"/schedule",className:"btn-corporativo bg-transparent border-2 border-white text-white hover:bg-white hover:text-black hover:border-white",children:"Horario"})]})]})})]});var dE={},hE={},oc={},fE={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(fE);var X2="Expected a function",zv=NaN,Z2="[object Symbol]",eC=/^\s+|\s+$/g,tC=/^[-+]0x[0-9a-f]+$/i,nC=/^0b[01]+$/i,rC=/^0o[0-7]+$/i,iC=parseInt,sC=typeof Wa=="object"&&Wa&&Wa.Object===Object&&Wa,oC=typeof self=="object"&&self&&self.Object===Object&&self,aC=sC||oC||Function("return this")(),lC=Object.prototype,uC=lC.toString,cC=Math.max,dC=Math.min,Cd=function(){return aC.Date.now()};function hC(t,e,n){var r,i,s,o,l,u,c=0,f=!1,p=!1,g=!0;if(typeof t!="function")throw new TypeError(X2);e=Bv(e)||0,Hh(n)&&(f=!!n.leading,p="maxWait"in n,s=p?cC(Bv(n.maxWait)||0,e):s,g="trailing"in n?!!n.trailing:g);function I(L){var y=r,v=i;return r=i=void 0,c=L,o=t.apply(v,y),o}function A(L){return c=L,l=setTimeout(b,e),f?I(L):o}function k(L){var y=L-u,v=L-c,_=e-y;return p?dC(_,s-v):_}function R(L){var y=L-u,v=L-c;return u===void 0||y>=e||y<0||p&&v>=s}function b(){var L=Cd();if(R(L))return w(L);l=setTimeout(b,k(L))}function w(L){return l=void 0,g&&r?I(L):(r=i=void 0,o)}function S(){l!==void 0&&clearTimeout(l),c=0,r=u=i=l=void 0}function N(){return l===void 0?o:w(Cd())}function M(){var L=Cd(),y=R(L);if(r=arguments,i=this,u=L,y){if(l===void 0)return A(u);if(p)return l=setTimeout(b,e),I(u)}return l===void 0&&(l=setTimeout(b,e)),o}return M.cancel=S,M.flush=N,M}function Hh(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function fC(t){return!!t&&typeof t=="object"}function pC(t){return typeof t=="symbol"||fC(t)&&uC.call(t)==Z2}function Bv(t){if(typeof t=="number")return t;if(pC(t))return zv;if(Hh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Hh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(eC,"");var n=nC.test(t);return n||rC.test(t)?iC(t.slice(2),n?2:8):tC.test(t)?zv:+t}var mC=hC,pE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(pE);var ac=pE.exports,q={},Cp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(O);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(Cp);Object.defineProperty(q,"__esModule",{value:!0});q.checkSpecKeys=q.checkNavigable=q.changeSlide=q.canUseDOM=q.canGoNext=void 0;q.clamp=gE;q.extractObject=void 0;q.filterSettings=kC;q.validSettings=q.swipeStart=q.swipeMove=q.swipeEnd=q.slidesOnRight=q.slidesOnLeft=q.slideHandler=q.siblingDirection=q.safePreventDefault=q.lazyStartIndex=q.lazySlidesOnRight=q.lazySlidesOnLeft=q.lazyEndIndex=q.keyHandler=q.initializedState=q.getWidth=q.getTrackLeft=q.getTrackCSS=q.getTrackAnimateCSS=q.getTotalSlides=q.getSwipeDirection=q.getSlideCount=q.getRequiredLazySlides=q.getPreClones=q.getPostClones=q.getOnDemandLazySlides=q.getNavigableIndexes=q.getHeight=void 0;var gC=mE(O),vC=mE(Cp);function mE(t){return t&&t.__esModule?t:{default:t}}function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}function $v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$v(Object(n),!0).forEach(function(r){yC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yC(t,e,n){return e=_C(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _C(t){var e=wC(t,"string");return Jo(e)=="symbol"?e:String(e)}function wC(t,e){if(Jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gE(t,e,n){return Math.max(e,Math.min(t,n))}var Xi=q.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},vE=q.getOnDemandLazySlides=function(e){for(var n=[],r=yE(e),i=_E(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};q.getRequiredLazySlides=function(e){for(var n=[],r=yE(e),i=_E(e),s=r;s<i;s++)n.push(s);return n};var yE=q.lazyStartIndex=function(e){return e.currentSlide-EC(e)},_E=q.lazyEndIndex=function(e){return e.currentSlide+xC(e)},EC=q.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},xC=q.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},qh=q.getWidth=function(e){return e&&e.offsetWidth||0},wE=q.getHeight=function(e){return e&&e.offsetHeight||0},EE=q.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},xE=q.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};q.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};q.initializedState=function(e){var n=gC.default.Children.count(e.children),r=e.listRef,i=Math.ceil(qh(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(qh(s)),l;if(e.vertical)l=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),l=Math.ceil((i-u)/e.slidesToShow)}var c=r&&wE(r.querySelector('[data-index="0"]')),f=c*e.slidesToShow,p=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(p=n-1-e.initialSlide);var g=e.lazyLoadedList||[],I=vE(Ae(Ae({},e),{},{currentSlide:p,lazyLoadedList:g}));g=g.concat(I);var A={slideCount:n,slideWidth:l,listWidth:i,trackWidth:o,currentSlide:p,slideHeight:c,listHeight:f,lazyLoadedList:g};return e.autoplaying===null&&e.autoplay&&(A.autoplaying="playing"),A};q.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,l=e.slideCount,u=e.lazyLoad,c=e.currentSlide,f=e.centerMode,p=e.slidesToScroll,g=e.slidesToShow,I=e.useCSS,A=e.lazyLoadedList;if(n&&r)return{};var k=o,R,b,w,S={},N={},M=s?o:gE(o,0,l-1);if(i){if(!s&&(o<0||o>=l))return{};o<0?k=o+l:o>=l&&(k=o-l),u&&A.indexOf(k)<0&&(A=A.concat(k)),S={animating:!0,currentSlide:k,lazyLoadedList:A,targetSlide:k},N={animating:!1,targetSlide:k}}else R=k,k<0?(R=k+l,s?l%p!==0&&(R=l-l%p):R=0):!xE(e)&&k>c?k=R=c:f&&k>=l?(k=s?l:l-1,R=s?0:l-1):k>=l&&(R=k-l,s?l%p!==0&&(R=0):R=l-g),!s&&k+g>=l&&(R=l-g),b=du(Ae(Ae({},e),{},{slideIndex:k})),w=du(Ae(Ae({},e),{},{slideIndex:R})),s||(b===w&&(k=R),b=w),u&&(A=A.concat(vE(Ae(Ae({},e),{},{currentSlide:k})))),I?(S={animating:!0,currentSlide:R,trackStyle:SE(Ae(Ae({},e),{},{left:b})),lazyLoadedList:A,targetSlide:M},N={animating:!1,currentSlide:R,trackStyle:cu(Ae(Ae({},e),{},{left:w})),swipeLeft:null,targetSlide:M}):S={currentSlide:R,trackStyle:cu(Ae(Ae({},e),{},{left:w})),lazyLoadedList:A,targetSlide:M};return{state:S,nextState:N}};q.changeSlide=function(e,n){var r,i,s,o,l,u=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,p=e.currentSlide,g=e.targetSlide,I=e.lazyLoad,A=e.infinite;if(o=f%u!==0,r=o?0:(f-p)%u,n.message==="previous")s=r===0?u:c-r,l=p-s,I&&!A&&(i=p-s,l=i===-1?f-1:i),A||(l=g-u);else if(n.message==="next")s=r===0?u:r,l=p+s,I&&!A&&(l=(p+u)%f+r),A||(l=g+u);else if(n.message==="dots")l=n.index*n.slidesToScroll;else if(n.message==="children"){if(l=n.index,A){var k=IC(Ae(Ae({},e),{},{targetSlide:l}));l>n.currentSlide&&k==="left"?l=l-f:l<n.currentSlide&&k==="right"&&(l=l+f)}}else n.message==="index"&&(l=Number(n.index));return l};q.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};q.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Xi(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};q.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,l=n.verticalSwiping,u=n.rtl,c=n.currentSlide,f=n.edgeFriction,p=n.edgeDragged,g=n.onEdge,I=n.swiped,A=n.swiping,k=n.slideCount,R=n.slidesToScroll,b=n.infinite,w=n.touchObject,S=n.swipeEvent,N=n.listHeight,M=n.listWidth;if(!r){if(i)return Xi(e);s&&o&&l&&Xi(e);var L,y={},v=du(n);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var _=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!l&&!A&&_>10)return{scrolling:!0};l&&(w.swipeLength=_);var x=(u?-1:1)*(w.curX>w.startX?1:-1);l&&(x=w.curY>w.startY?1:-1);var C=Math.ceil(k/R),P=EE(n.touchObject,l),T=w.swipeLength;return b||(c===0&&(P==="right"||P==="down")||c+1>=C&&(P==="left"||P==="up")||!xE(n)&&(P==="left"||P==="up"))&&(T=w.swipeLength*f,p===!1&&g&&(g(P),y.edgeDragged=!0)),!I&&S&&(S(P),y.swiped=!0),s?L=v+T*(N/M)*x:u?L=v-T*x:L=v+T*x,l&&(L=v+T*x),y=Ae(Ae({},y),{},{touchObject:w,swipeLeft:L,trackStyle:cu(Ae(Ae({},n),{},{left:L}))}),Math.abs(w.curX-w.startX)<Math.abs(w.curY-w.startY)*.8||w.swipeLength>10&&(y.swiping=!0,Xi(e)),y}};q.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,l=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,f=n.swipeToSlide,p=n.scrolling,g=n.onSwipe,I=n.targetSlide,A=n.currentSlide,k=n.infinite;if(!r)return i&&Xi(e),{};var R=u?c/l:o/l,b=EE(s,u),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p||!s.swipeLength)return w;if(s.swipeLength>R){Xi(e),g&&g(b);var S,N,M=k?A:I;switch(b){case"left":case"up":N=M+Hv(n),S=f?Wv(n,N):N,w.currentDirection=0;break;case"right":case"down":N=M-Hv(n),S=f?Wv(n,N):N,w.currentDirection=1;break;default:S=M}w.triggerSlideHandler=S}else{var L=du(n);w.trackStyle=SE(Ae(Ae({},n),{},{left:L}))}return w};var SC=q.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},Wv=q.checkNavigable=function(e,n){var r=SC(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},Hv=q.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+wE(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+qh(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,l=Math.abs(r.dataset.index-o)||1;return l}else return e.slidesToScroll},Ap=q.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},cu=q.getTrackCSS=function(e){Ap(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=bC(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Ae(Ae({},s),{},{WebkitTransform:o,transform:l,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},SE=q.getTrackAnimateCSS=function(e){Ap(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=cu(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},du=q.getTrackLeft=function(e){if(e.unslick)return 0;Ap(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,l=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,p=e.variableWidth,g=e.slideHeight,I=e.fade,A=e.vertical,k=0,R,b,w=0;if(I||e.slideCount===1)return 0;var S=0;if(i?(S=-Al(e),o%u!==0&&n+u>o&&(S=-(n>o?l-(n-o):o%u)),s&&(S+=parseInt(l/2))):(o%u!==0&&n+u>o&&(S=l-o%u),s&&(S=parseInt(l/2))),k=S*c,w=S*g,A?R=n*g*-1+w:R=n*c*-1+k,p===!0){var N,M=r&&r.node;if(N=n+Al(e),b=M&&M.childNodes[N],R=b?b.offsetLeft*-1:0,s===!0){N=i?n+Al(e):n,b=M&&M.children[N],R=0;for(var L=0;L<N;L++)R-=M&&M.children[L]&&M.children[L].offsetWidth;R-=parseInt(e.centerPadding),R+=b&&(f-b.offsetWidth)/2}}return R},Al=q.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},TC=q.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},bC=q.getTotalSlides=function(e){return e.slideCount===1?1:Al(e)+e.slideCount+TC(e)},IC=q.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+CC(e)?"left":"right":e.targetSlide<e.currentSlide-AC(e)?"right":"left"},CC=q.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},AC=q.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};q.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var PC=q.validSettings=Object.keys(vC.default);function kC(t){return PC.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.Track=void 0;var ir=TE(O),Ad=TE(ac),Pd=q;function TE(t){return t&&t.__esModule?t:{default:t}}function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function RC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IE(r.key),r)}}function jC(t,e,n){return e&&NC(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kh(t,e)}function Kh(t,e){return Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kh(t,e)}function DC(t){var e=bE();return function(){var r=hu(t),i;if(e){var s=hu(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return MC(this,i)}}function MC(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qh(t)}function Qh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bE=function(){return!!t})()}function hu(t){return hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hu(t)}function qv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qv(Object(n),!0).forEach(function(r){Yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yh(t,e,n){return e=IE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IE(t){var e=LC(t,"string");return ds(e)=="symbol"?e:String(e)}function LC(t,e){if(ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kd=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var l;e.targetSlide<0?l=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?l=e.targetSlide-e.slideCount:l=e.targetSlide;var u=o===l;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},VC=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Rd=function(e,n){return e.key||n},FC=function(e){var n,r=[],i=[],s=[],o=ir.default.Children.count(e.children),l=(0,Pd.lazyStartIndex)(e),u=(0,Pd.lazyEndIndex)(e);return ir.default.Children.forEach(e.children,function(c,f){var p,g={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?p=c:p=ir.default.createElement("div",null);var I=VC(Ct(Ct({},e),{},{index:f})),A=p.props.className||"",k=kd(Ct(Ct({},e),{},{index:f}));if(r.push(ir.default.cloneElement(p,{key:"original"+Rd(p,f),"data-index":f,className:(0,Ad.default)(k,A),tabIndex:"-1","aria-hidden":!k["slick-active"],style:Ct(Ct({outline:"none"},p.props.style||{}),I),onClick:function(w){p.props&&p.props.onClick&&p.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(g)}})),e.infinite&&e.fade===!1){var R=o-f;R<=(0,Pd.getPreClones)(e)&&(n=-R,n>=l&&(p=c),k=kd(Ct(Ct({},e),{},{index:n})),i.push(ir.default.cloneElement(p,{key:"precloned"+Rd(p,n),"data-index":n,tabIndex:"-1",className:(0,Ad.default)(k,A),"aria-hidden":!k["slick-active"],style:Ct(Ct({},p.props.style||{}),I),onClick:function(w){p.props&&p.props.onClick&&p.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(g)}}))),n=o+f,n<u&&(p=c),k=kd(Ct(Ct({},e),{},{index:n})),s.push(ir.default.cloneElement(p,{key:"postcloned"+Rd(p,n),"data-index":n,tabIndex:"-1",className:(0,Ad.default)(k,A),"aria-hidden":!k["slick-active"],style:Ct(Ct({},p.props.style||{}),I),onClick:function(w){p.props&&p.props.onClick&&p.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(g)}}))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};lc.Track=function(t){OC(n,t);var e=DC(n);function n(){var r;RC(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Yh(Qh(r),"node",null),Yh(Qh(r),"handleRef",function(l){r.node=l}),r}return jC(n,[{key:"render",value:function(){var i=FC(this.props),s=this.props,o=s.onMouseEnter,l=s.onMouseOver,u=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:l,onMouseLeave:u};return ir.default.createElement("div",Gh({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(ir.default.PureComponent);var uc={};function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}Object.defineProperty(uc,"__esModule",{value:!0});uc.Dots=void 0;var ll=CE(O),UC=CE(ac),Gv=q;function CE(t){return t&&t.__esModule?t:{default:t}}function Kv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kv(Object(n),!0).forEach(function(r){BC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BC(t,e,n){return e=AE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AE(r.key),r)}}function HC(t,e,n){return e&&WC(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AE(t){var e=qC(t,"string");return hs(e)=="symbol"?e:String(e)}function qC(t,e){if(hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jh(t,e)}function Jh(t,e){return Jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jh(t,e)}function KC(t){var e=PE();return function(){var r=fu(t),i;if(e){var s=fu(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return QC(this,i)}}function QC(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YC(t)}function YC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PE=function(){return!!t})()}function fu(t){return fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fu(t)}var JC=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};uc.Dots=function(t){GC(n,t);var e=KC(n);function n(){return $C(this,n),e.apply(this,arguments)}return HC(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,l=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,f=i.slidesToShow,p=i.slideCount,g=i.currentSlide,I=JC({slideCount:p,slidesToScroll:c,slidesToShow:f,infinite:u}),A={onMouseEnter:s,onMouseOver:o,onMouseLeave:l},k=[],R=0;R<I;R++){var b=(R+1)*c-1,w=u?b:(0,Gv.clamp)(b,0,p-1),S=w-(c-1),N=u?S:(0,Gv.clamp)(S,0,p-1),M=(0,UC.default)({"slick-active":u?g>=N&&g<=w:g===N}),L={message:"dots",index:R,slidesToScroll:c,currentSlide:g},y=this.clickHandler.bind(this,L);k=k.concat(ll.default.createElement("li",{key:R,className:M},ll.default.cloneElement(this.props.customPaging(R),{onClick:y})))}return ll.default.cloneElement(this.props.appendDots(k),zC({className:this.props.dotsClass},A))}}]),n}(ll.default.PureComponent);var fs={};function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}Object.defineProperty(fs,"__esModule",{value:!0});fs.PrevArrow=fs.NextArrow=void 0;var Zi=RE(O),kE=RE(ac),XC=q;function RE(t){return t&&t.__esModule?t:{default:t}}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}function Qv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qv(Object(n),!0).forEach(function(r){ZC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZC(t,e,n){return e=OE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OE(r.key),r)}}function jE(t,e,n){return e&&eA(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OE(t){var e=tA(t,"string");return ps(e)=="symbol"?e:String(e)}function tA(t,e){if(ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xh(t,e)}function Xh(t,e){return Xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xh(t,e)}function ME(t){var e=LE();return function(){var r=gu(t),i;if(e){var s=gu(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return nA(this,i)}}function nA(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rA(t)}function rA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LE=function(){return!!t})()}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gu(t)}fs.PrevArrow=function(t){DE(n,t);var e=ME(n);function n(){return NE(this,n),e.apply(this,arguments)}return jE(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,kE.default)(i),style:{display:"block"},onClick:s},l={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=Zi.default.cloneElement(this.props.prevArrow,mu(mu({},o),l)):u=Zi.default.createElement("button",pu({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(Zi.default.PureComponent);fs.NextArrow=function(t){DE(n,t);var e=ME(n);function n(){return NE(this,n),e.apply(this,arguments)}return jE(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,XC.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,kE.default)(i),style:{display:"block"},onClick:s},l={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=Zi.default.cloneElement(this.props.nextArrow,mu(mu({},o),l)):u=Zi.default.createElement("button",pu({key:"1",type:"button"},o)," ","Next"),u}}]),n}(Zi.default.PureComponent);var VE=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),Zh=typeof window<"u"&&typeof document<"u"&&window.document===document,vu=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),iA=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(vu):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),sA=2;function oA(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&l()}function o(){iA(s)}function l(){var u=Date.now();if(n){if(u-i<sA)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return l}var aA=20,lA=["top","right","bottom","left","width","height","size","weight"],uA=typeof MutationObserver<"u",cA=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=oA(this.refresh.bind(this),aA)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Zh||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),uA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Zh||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=lA.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),FE=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},ms=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||vu},UE=cc(0,0,0,0);function yu(t){return parseFloat(t)||0}function Yv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+yu(s)},0)}function dA(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=yu(o)}return n}function hA(t){var e=t.getBBox();return cc(0,0,e.width,e.height)}function fA(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return UE;var r=ms(t).getComputedStyle(t),i=dA(r),s=i.left+i.right,o=i.top+i.bottom,l=yu(r.width),u=yu(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+s)!==e&&(l-=Yv(r,"left","right")+s),Math.round(u+o)!==n&&(u-=Yv(r,"top","bottom")+o)),!mA(t)){var c=Math.round(l+s)-e,f=Math.round(u+o)-n;Math.abs(c)!==1&&(l-=c),Math.abs(f)!==1&&(u-=f)}return cc(i.left,i.top,l,u)}var pA=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ms(t).SVGGraphicsElement}:function(t){return t instanceof ms(t).SVGElement&&typeof t.getBBox=="function"}}();function mA(t){return t===ms(t).document.documentElement}function gA(t){return Zh?pA(t)?hA(t):fA(t):UE}function vA(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return FE(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function cc(t,e,n,r){return{x:t,y:e,width:n,height:r}}var yA=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=cc(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=gA(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),_A=function(){function t(e,n){var r=vA(n);FE(this,{target:e,contentRect:r})}return t}(),wA=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new VE,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ms(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new yA(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ms(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new _A(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),zE=typeof WeakMap<"u"?new WeakMap:new VE,BE=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=cA.getInstance(),r=new wA(e,n,this);zE.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){BE.prototype[t]=function(){var e;return(e=zE.get(this))[t].apply(e,arguments)}});var EA=function(){return typeof vu.ResizeObserver<"u"?vu.ResizeObserver:BE}();const xA=Object.freeze(Object.defineProperty({__proto__:null,default:EA},Symbol.toStringTag,{value:"Module"})),SA=iT(xA);Object.defineProperty(oc,"__esModule",{value:!0});oc.InnerSlider=void 0;var wt=da(O),TA=da(fE),bA=da(mC),IA=da(ac),ke=q,CA=lc,AA=uc,Jv=fs,PA=da(SA);function da(t){return t&&t.__esModule?t:{default:t}}function ui(t){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}function kA(t,e){if(t==null)return{};var n=RA(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xv(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WE(r.key),r)}}function OA(t,e,n){return e&&jA(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ef(t,e)}function ef(t,e){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ef(t,e)}function MA(t){var e=$E();return function(){var r=wu(t),i;if(e){var s=wu(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return LA(this,i)}}function LA(t,e){if(e&&(ui(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ce(t)}function ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($E=function(){return!!t})()}function wu(t){return wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wu(t)}function de(t,e,n){return e=WE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WE(t){var e=VA(t,"string");return ui(e)=="symbol"?e:String(e)}function VA(t,e){if(ui(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}oc.InnerSlider=function(t){DA(n,t);var e=MA(n);function n(r){var i;NA(this,n),i=e.call(this,r),de(ce(i),"listRefHandler",function(o){return i.list=o}),de(ce(i),"trackRefHandler",function(o){return i.track=o}),de(ce(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,ke.getHeight)(o)+"px"}}),de(ce(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,ke.getOnDemandLazySlides)(ne(ne({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var l=ne({listRef:i.list,trackRef:i.track},i.props);i.updateState(l,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new PA.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),de(ce(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),de(ce(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var l=(0,ke.getOnDemandLazySlides)(ne(ne({},i.props),i.state));l.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(l)}}),i.props.onLazyLoad&&i.props.onLazyLoad(l))}i.adaptHeight();var u=ne(ne({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(u,c,function(){i.state.currentSlide>=wt.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:wt.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),de(ce(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,bA.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),de(ce(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l=!!(i.track&&i.track.node);if(l){var u=ne(ne({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),de(ce(i),"updateState",function(o,l,u){var c=(0,ke.initializedState)(o);o=ne(ne(ne({},o),c),{},{slideIndex:c.currentSlide});var f=(0,ke.getTrackLeft)(o);o=ne(ne({},o),{},{left:f});var p=(0,ke.getTrackCSS)(o);(l||wt.default.Children.count(i.props.children)!==wt.default.Children.count(o.children))&&(c.trackStyle=p),i.setState(c,u)}),de(ce(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,l=0,u=[],c=(0,ke.getPreClones)(ne(ne(ne({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,ke.getPostClones)(ne(ne(ne({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(y){u.push(y.props.style.width),o+=y.props.style.width});for(var p=0;p<c;p++)l+=u[u.length-1-p],o+=u[u.length-1-p];for(var g=0;g<f;g++)o+=u[g];for(var I=0;I<i.state.currentSlide;I++)l+=u[I];var A={width:o+"px",left:-l+"px"};if(i.props.centerMode){var k="".concat(u[i.state.currentSlide],"px");A.left="calc(".concat(A.left," + (100% - ").concat(k,") / 2 ) ")}return{trackStyle:A}}var R=wt.default.Children.count(i.props.children),b=ne(ne(ne({},i.props),i.state),{},{slideCount:R}),w=(0,ke.getPreClones)(b)+(0,ke.getPostClones)(b)+R,S=100/i.props.slidesToShow*w,N=100/w,M=-N*((0,ke.getPreClones)(b)+i.state.currentSlide)*S/100;i.props.centerMode&&(M+=(100-N*S/100)/2);var L={width:S+"%",left:M+"%"};return{slideWidth:N+"%",trackStyle:L}}),de(ce(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],l=o.length,u=0;Array.prototype.forEach.call(o,function(c){var f=function(){return++u&&u>=l&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var p=c.onclick;c.onclick=function(g){p(g),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=f,c.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),de(ce(i),"progressiveLazyLoad",function(){for(var o=[],l=ne(ne({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,ke.getPostClones)(l);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,ke.getPreClones)(l);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),de(ce(i),"slideHandler",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,f=u.beforeChange,p=u.onLazyLoad,g=u.speed,I=u.afterChange,A=i.state.currentSlide,k=(0,ke.slideHandler)(ne(ne(ne({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!l})),R=k.state,b=k.nextState;if(R){f&&f(A,R.currentSlide);var w=R.lazyLoadedList.filter(function(S){return i.state.lazyLoadedList.indexOf(S)<0});p&&w.length>0&&p(w),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),I&&I(A),delete i.animationEndCallback),i.setState(R,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),b&&(i.animationEndCallback=setTimeout(function(){var S=b.animating,N=kA(b,["animating"]);i.setState(N,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:S})},10)),I&&I(R.currentSlide),delete i.animationEndCallback})},g))})}}),de(ce(i),"changeSlide",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=ne(ne({},i.props),i.state),c=(0,ke.changeSlide)(u,o);if(!(c!==0&&!c)&&(l===!0?i.slideHandler(c,l):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),de(ce(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),de(ce(i),"keyHandler",function(o){var l=(0,ke.keyHandler)(o,i.props.accessibility,i.props.rtl);l!==""&&i.changeSlide({message:l})}),de(ce(i),"selectHandler",function(o){i.changeSlide(o)}),de(ce(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),de(ce(i),"enableBodyScroll",function(){window.ontouchmove=null}),de(ce(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var l=(0,ke.swipeStart)(o,i.props.swipe,i.props.draggable);l!==""&&i.setState(l)}),de(ce(i),"swipeMove",function(o){var l=(0,ke.swipeMove)(o,ne(ne(ne({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));l&&(l.swiping&&(i.clickable=!1),i.setState(l))}),de(ce(i),"swipeEnd",function(o){var l=(0,ke.swipeEnd)(o,ne(ne(ne({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(l){var u=l.triggerSlideHandler;delete l.triggerSlideHandler,i.setState(l),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),de(ce(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),de(ce(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),de(ce(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),de(ce(i),"slickGoTo",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},l)},0))}),de(ce(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,ke.canGoNext)(ne(ne({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),de(ce(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var l=i.state.autoplaying;if(o==="update"){if(l==="hovered"||l==="focused"||l==="paused")return}else if(o==="leave"){if(l==="paused"||l==="focused")return}else if(o==="blur"&&(l==="paused"||l==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),de(ce(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var l=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(l==="hovered"||l==="playing")&&i.setState({autoplaying:"focused"}):l==="playing"&&i.setState({autoplaying:"hovered"})}),de(ce(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),de(ce(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),de(ce(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),de(ce(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),de(ce(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),de(ce(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),de(ce(i),"render",function(){var o=(0,IA.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),l=ne(ne({},i.props),i.state),u=(0,ke.extractObject)(l,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=ne(ne({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var p=(0,ke.extractObject)(l,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=i.props.pauseOnDotsHover;p=ne(ne({},p),{},{clickHandler:i.changeSlide,onMouseEnter:g?i.onDotsLeave:null,onMouseOver:g?i.onDotsOver:null,onMouseLeave:g?i.onDotsLeave:null}),f=wt.default.createElement(AA.Dots,p)}var I,A,k=(0,ke.extractObject)(l,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);k.clickHandler=i.changeSlide,i.props.arrows&&(I=wt.default.createElement(Jv.PrevArrow,k),A=wt.default.createElement(Jv.NextArrow,k));var R=null;i.props.vertical&&(R={height:i.state.listHeight});var b=null;i.props.vertical===!1?i.props.centerMode===!0&&(b={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(b={padding:i.props.centerPadding+" 0px"});var w=ne(ne({},R),b),S=i.props.touchMove,N={className:"slick-list",style:w,onClick:i.clickHandler,onMouseDown:S?i.swipeStart:null,onMouseMove:i.state.dragging&&S?i.swipeMove:null,onMouseUp:S?i.swipeEnd:null,onMouseLeave:i.state.dragging&&S?i.swipeEnd:null,onTouchStart:S?i.swipeStart:null,onTouchMove:i.state.dragging&&S?i.swipeMove:null,onTouchEnd:S?i.touchEnd:null,onTouchCancel:i.state.dragging&&S?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(N={className:"slick-list"},M={className:o}),wt.default.createElement("div",M,i.props.unslick?"":I,wt.default.createElement("div",_u({ref:i.listRefHandler},N),wt.default.createElement(CA.Track,_u({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":A,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=ne(ne({},TA.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:wt.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ne(ne({},i.state),s),i}return OA(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,l=Object.keys(this.props);o<l.length;o++){var u=l[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(ui(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){s=!0;break}}return s||wt.default.Children.count(this.props.children)!==wt.default.Children.count(i.children)}}]),n}(wt.default.Component);var FA=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},UA=FA,zA=UA,BA=function(t){var e=/[height|width]$/;return e.test(t)},Zv=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=zA(r),BA(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},$A=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=Zv(n),r<t.length-1&&(e+=", ")}),e):Zv(t)},WA=$A,Nd,ey;function HA(){if(ey)return Nd;ey=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Nd=t,Nd}var jd,ty;function HE(){if(ty)return jd;ty=1;function t(r,i){var s=0,o=r.length,l;for(s;s<o&&(l=i(r[s],s),l!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return jd={isFunction:n,isArray:e,each:t},jd}var Od,ny;function qA(){if(ny)return Od;ny=1;var t=HA(),e=HE().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},Od=n,Od}var Dd,ry;function GA(){if(ry)return Dd;ry=1;var t=qA(),e=HE(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,l,u){var c=this.queries,f=u&&this.browserIsIncapable;return c[o]||(c[o]=new t(o,f)),r(l)&&(l={match:l}),i(l)||(l=[l]),n(l,function(p){r(p)&&(p={match:p}),c[o].addHandler(p)}),this},unregister:function(o,l){var u=this.queries[o];return u&&(l?u.removeHandler(l):(u.clear(),delete this.queries[o])),this}},Dd=s,Dd}var Md,iy;function KA(){if(iy)return Md;iy=1;var t=GA();return Md=new t,Md}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(O),n=oc,r=o(WA),i=o(Cp),s=q;function o(_){return _&&_.__esModule?_:{default:_}}function l(_){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},l(_)}function u(){return u=Object.assign?Object.assign.bind():function(_){for(var x=1;x<arguments.length;x++){var C=arguments[x];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(_[P]=C[P])}return _},u.apply(this,arguments)}function c(_,x){var C=Object.keys(_);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(_);x&&(P=P.filter(function(T){return Object.getOwnPropertyDescriptor(_,T).enumerable})),C.push.apply(C,P)}return C}function f(_){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?c(Object(C),!0).forEach(function(P){M(_,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(C)):c(Object(C)).forEach(function(P){Object.defineProperty(_,P,Object.getOwnPropertyDescriptor(C,P))})}return _}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function g(_,x){for(var C=0;C<x.length;C++){var P=x[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,L(P.key),P)}}function I(_,x,C){return x&&g(_.prototype,x),Object.defineProperty(_,"prototype",{writable:!1}),_}function A(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),x&&k(_,x)}function k(_,x){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P},k(_,x)}function R(_){var x=S();return function(){var P=N(_),T;if(x){var G=N(this).constructor;T=Reflect.construct(P,arguments,G)}else T=P.apply(this,arguments);return b(this,T)}}function b(_,x){if(x&&(l(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(_)}function w(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function S(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!_})()}function N(_){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},N(_)}function M(_,x,C){return x=L(x),x in _?Object.defineProperty(_,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[x]=C,_}function L(_){var x=y(_,"string");return l(x)=="symbol"?x:String(x)}function y(_,x){if(l(_)!="object"||!_)return _;var C=_[Symbol.toPrimitive];if(C!==void 0){var P=C.call(_,x);if(l(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(_)}var v=(0,s.canUseDOM)()&&KA();t.default=function(_){A(C,_);var x=R(C);function C(P){var T;return p(this,C),T=x.call(this,P),M(w(T),"innerSliderRefHandler",function(G){return T.innerSlider=G}),M(w(T),"slickPrev",function(){return T.innerSlider.slickPrev()}),M(w(T),"slickNext",function(){return T.innerSlider.slickNext()}),M(w(T),"slickGoTo",function(G){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return T.innerSlider.slickGoTo(G,re)}),M(w(T),"slickPause",function(){return T.innerSlider.pause("paused")}),M(w(T),"slickPlay",function(){return T.innerSlider.autoPlay("play")}),T.state={breakpoint:null},T._responsiveMediaHandlers=[],T}return I(C,[{key:"media",value:function(T,G){v.register(T,G),this._responsiveMediaHandlers.push({query:T,handler:G})}},{key:"componentDidMount",value:function(){var T=this;if(this.props.responsive){var G=this.props.responsive.map(function(X){return X.breakpoint});G.sort(function(X,oe){return X-oe}),G.forEach(function(X,oe){var B;oe===0?B=(0,r.default)({minWidth:0,maxWidth:X}):B=(0,r.default)({minWidth:G[oe-1]+1,maxWidth:X}),(0,s.canUseDOM)()&&T.media(B,function(){T.setState({breakpoint:X})})});var re=(0,r.default)({minWidth:G.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(re,function(){T.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(T){v.unregister(T.query,T.handler)})}},{key:"render",value:function(){var T=this,G,re;this.state.breakpoint?(re=this.props.responsive.filter(function(Ke){return Ke.breakpoint===T.state.breakpoint}),G=re[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),re[0].settings)):G=f(f({},i.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var X=e.default.Children.toArray(this.props.children);X=X.filter(function(Ke){return typeof Ke=="string"?!!Ke.trim():!!Ke}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var oe=[],B=null,z=0;z<X.length;z+=G.rows*G.slidesPerRow){for(var H=[],te=z;te<z+G.rows*G.slidesPerRow;te+=G.slidesPerRow){for(var J=[],Z=te;Z<te+G.slidesPerRow&&(G.variableWidth&&X[Z].props.style&&(B=X[Z].props.style.width),!(Z>=X.length));Z+=1)J.push(e.default.cloneElement(X[Z],{key:100*z+10*te+Z,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));H.push(e.default.createElement("div",{key:10*z+te},J))}G.variableWidth?oe.push(e.default.createElement("div",{key:z,style:{width:B}},H)):oe.push(e.default.createElement("div",{key:z},H))}if(G==="unslick"){var Se="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Se},X)}else oe.length<=G.slidesToShow&&!G.infinite&&(G.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(G)),oe)}}]),C}(e.default.Component)})(hE);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(hE);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(dE);const QA=U_(dE),YA=()=>{const e=["1.jpeg","10.jpeg","11.jpeg","12.jpeg","13.jpeg","14.jpeg","15.jpeg","16.jpeg","17.jpeg","18.jpeg","19.jpeg","2.jpeg","20.jpeg","21.jpeg","22.jpeg","23.jpeg","24.jpeg","25.jpeg","26.jpeg","27.jpeg","28.jpeg","29.jpeg","3.jpeg","30.jpeg","31.jpeg","32.jpeg","4.jpeg","5.jpeg","6.jpeg","7.jpeg","8.jpeg","9.jpeg","WhatsApp Image 2025-05-12 at 22.38.25.jpeg","WhatsApp Image 2025-05-13 at 22.27.34.jpeg","WhatsApp Image 2025-05-15 at 07.25.23.jpeg","WhatsApp Image 2025-05-15 at 23.04.38.jpeg"].slice().reverse().slice(0,4).map(c=>`src/uploads/galery/${c}`),n=c=>d.jsx("button",{...c,className:"absolute left-0 top-1/2 z-50 -translate-y-1/2 transform bg-black/30 p-4 text-3xl text-white transition-all hover:bg-black/50 md:block","aria-label":"Anterior",children:"‹"}),r=c=>d.jsx("button",{...c,className:"absolute right-0 top-1/2 z-50 -translate-y-1/2 transform bg-black/30 p-4 text-3xl text-white transition-all hover:bg-black/50 md:block","aria-label":"Siguiente",children:"›"}),i={dots:!0,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!0,prevArrow:d.jsx(n,{}),nextArrow:d.jsx(r,{}),responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]},[s,o]=O.useState(null),l=c=>{o(c),document.body.style.overflow="hidden"},u=()=>{o(null),document.body.style.overflow="auto"};return d.jsxs("section",{className:"py-16 bg-white",children:[d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"max-w-4xl mx-auto mb-12",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Nuestra Academia"}),d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"En ADECAM TRIGUEROS combinamos tradición marcial con metodología moderna. Ofrecemos formación integral en Kick Boxing y Jiujitsu Brasileño para todas las edades y niveles, fomentando disciplina, respeto y superación personal."})]}),d.jsx("div",{className:"mb-12",children:d.jsx(QA,{...i,children:e.map((c,f)=>d.jsx("div",{className:"px-2 cursor-pointer",onClick:()=>l(c),children:d.jsx("img",{src:c,alt:`Galeria ${f+1}`,className:"rounded-lg shadow-md h-64 object-cover w-full"})},f))})}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[d.jsx("a",{href:"/gallery",className:"btn-corporativo bg-gold text-black hover:bg-gold-dark px-8 py-3",children:"Ver Galería Completa"}),d.jsx("a",{href:"/instructors",className:"btn-corporativo border-2 border-gold text-gold hover:bg-gold hover:text-white px-8 py-3",children:"Conoce a los Instructores"})]}),d.jsxs("div",{className:"mt-12 text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nueva Equipación"}),d.jsx("p",{className:"text-gray-700 mb-6 max-w-2xl mx-auto",children:"Descubre nuestra nueva línea de equipación oficial con tecnología Dry-Fit, diseñada para máximo rendimiento y comodidad durante los entrenamientos."}),d.jsx("img",{src:"src/uploads/camisetas.png",alt:"Nueva equipación ADECAM TRIGUEROS",className:"rounded-lg shadow-md mx-auto mb-6 max-w-3xl w-full object-contain"}),d.jsx("a",{href:"/contact",className:"btn-corporativo bg-gold text-black hover:bg-gold-dark px-8 py-3 text-lg",children:"¡RESERVA LA TUYA!"})]})]}),s&&d.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:u,children:[d.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gold transition-colors duration-300",onClick:u,children:d.jsx(sc,{size:32})}),d.jsx("img",{src:s,alt:"Imagen ampliada",className:"max-h-[90vh] max-w-[90vw] object-contain",onClick:c=>c.stopPropagation()})]})]})},JA=()=>d.jsxs("main",{children:[d.jsx(J2,{}),d.jsx(YA,{})]}),XA=()=>d.jsx("section",{id:"about",className:"py-20 bg-gray-100",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Sobre ADECAM TRIGUEROS"}),d.jsx("div",{className:"w-20 h-1 bg-gold mx-auto"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["En ",d.jsx("span",{className:"font-semibold",children:"ADECAM TRIGUEROS"}),", somos más que una academia de artes marciales. Somos una familia dedicada a cultivar el crecimiento personal y deportivo a través de la disciplina y el respeto."]}),d.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["La ",d.jsx("span",{className:"font-semibold",children:"ASOCIACIÓN CULTURAL DE DEPORTES DE CONTACTO Y ARTES MARCIALES TRIGUEROS"})," es un referente en la promoción y enseñanza de deportes de contacto en Trigueros. Nuestra asociación, de carácter deportivo y cultural, está especializada en ",d.jsx("span",{className:"font-semibold",children:"Kick Boxing"})," y ",d.jsx("span",{className:"font-semibold",children:"Jiujitsu Brasileño"}),", ofreciendo un entorno inclusivo donde el respeto, la superación y el compañerismo son valores fundamentales."]}),d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Impulsamos el desarrollo personal y deportivo de nuestros socios a través de una metodología adaptada a todas las edades y niveles, fomentando la disciplina, la confianza y el bienestar físico y mental."}),d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Organizamos actividades, seminarios y eventos que enriquecen la vida cultural y deportiva de la localidad, contribuyendo a la difusión de las artes marciales y los deportes de contacto."}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md text-center",children:[d.jsx("h3",{className:"text-xl font-bold text-gold mb-2",children:"Experiencia"}),d.jsx("p",{className:"text-gray-700",children:"Instructores certificados con años de experiencia competitiva"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md text-center",children:[d.jsx("h3",{className:"text-xl font-bold text-gold mb-2",children:"Comunidad"}),d.jsx("p",{className:"text-gray-700",children:"Ambiente acogedor y de apoyo para todos los practicantes"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md text-center",children:[d.jsx("h3",{className:"text-xl font-bold text-gold mb-2",children:"Instalaciones"}),d.jsx("p",{className:"text-gray-700",children:"Modernas y completamente equipadas para un entrenamiento óptimo"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md text-center",children:[d.jsx("h3",{className:"text-xl font-bold text-gold mb-2",children:"Metodología"}),d.jsx("p",{className:"text-gray-700",children:"Enfoque técnico y progresivo adaptado a cada alumno"})]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/src/uploads/galery/23.jpeg",alt:"Kick boxing en ADECAM TRIGUEROS",className:"w-full max-w-xs md:max-w-sm lg:max-w-md h-auto rounded-lg shadow-xl object-cover mx-auto"}),d.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-gold text-white p-6 rounded-lg shadow-lg",children:[d.jsx("p",{className:"text-2xl font-bold",children:"+10"}),d.jsx("p",{className:"text-sm",children:"Años de experiencia"})]})]})]})]})}),ZA=()=>d.jsx("div",{className:"pt-16",children:d.jsx(XA,{})}),eP=()=>{const t=[{id:1,title:"Kick Boxing",description:"Arte marcial de contacto que combina técnicas de boxeo con potentes patadas. Mejora tu condición física, aprende defensa personal efectiva y desarrolla confianza en ti mismo.",level:"Todos los niveles",image:"https://images.pexels.com/photos/4761792/pexels-photo-4761792.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",benefits:["Excelente acondicionamiento físico","Técnicas efectivas de golpeo","Liberación de estrés","Aumento de reflejos y coordinación"]},{id:2,title:"Jiujitsu Brasileño",description:"Arte marcial y deporte de combate centrado en la lucha cuerpo a cuerpo y el control en el suelo. Aprende técnicas de sumisión y defensa personal efectiva.",level:"Todos los niveles",image:"src/uploads/jiujitsu.jpg",benefits:["Defensa personal efectiva","Desarrollo de fuerza funcional","Mejora de la flexibilidad","Aumento de la resistencia"]}];return d.jsx("section",{id:"classes",className:"py-20 bg-white",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nuestras Clases"}),d.jsx("div",{className:"w-20 h-1 bg-gold mx-auto mb-6"}),d.jsx("p",{className:"text-lg text-gray-700 max-w-3xl mx-auto",children:"Ofrecemos una variedad de disciplinas para todos los niveles y edades. Cada clase está diseñada para desarrollar habilidades técnicas y mejorar tu condición física."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map(e=>d.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden shadow-lg transition-all duration-300 hover:shadow-2xl hover:scale-[1.02]",children:[d.jsxs("div",{className:"relative h-64",children:[d.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:d.jsx("h3",{className:"text-2xl font-bold text-white p-6",children:e.title})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"mb-4",children:d.jsx("span",{className:"bg-gold text-white text-sm font-semibold px-4 py-1.5 rounded-full",children:e.level})}),d.jsx("p",{className:"text-gray-700 mb-6",children:e.description}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-lg mb-3",children:"Beneficios:"}),d.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2",children:e.benefits.map((n,r)=>d.jsxs("li",{className:"flex items-center text-gray-700",children:[d.jsx("span",{className:"h-2 w-2 bg-gold rounded-full mr-2"}),n]},r))})]})]})]},e.id))}),d.jsx("div",{className:"text-center mt-12",children:d.jsx("a",{href:"/schedule",className:"inline-block bg-gold hover:bg-gold-dark text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105",children:"Ver Horarios"})})]})})},tP=()=>d.jsx("div",{className:"pt-16",children:d.jsx(eP,{})}),nP=()=>{const t=[{id:1,name:"Rafael García Quiles",role:"Instructor de Kick Boxing",bio:"Instructor con una sólida trayectoria en artes marciales.Amplia experiencia en tecnicas de enseñanza avanzada y de competicion .Amplia experiencia en competicion tanto Amateur como Neo-profesional.Especialista en Kick Boxing y Full Contact. Reconocido por:",image:"src/uploads/rafa.jpg",achievements:["4 veces Campeón de Córdoba consecutivos en menos 67kg y menos 71 kg de Full Contact Años 2004, 2005, 2006 y 2007  por la AAMK ( Amater y Neo )","2 veces Campeón de Andalucía Años 2006 y 2007 por la CEK  ( Amater y Neo )","Campeón de España año 2006  en -67kg por la CEK ( Amater )","Subcampeón de España año 2007 en -71 kg por la CEK ( Neo )","Arbitro nacional por la ISKA y CEK","Cinturón negro 2º dan de Full Contact por la CEK","Cinturón negro 1º dan de Kick Boxing por la FAKM","Conocimientos en Defensa Personal","Conocimientos en MMA y Muay Thai","Conocimientos en GRAPPLING","Conocimientos en Brazilian Jiu Jitsu","Profesores hasta 2025:","Alumno de: José Luis Campos  5º Dan de Taekwondo y 5º Dan de Full contact","Alumno de Angel casado:","CN 8 GRADO KICKBOXING","CN 5 GRADO TAEKWONDO","Alumno de Jesus Perez Perez","Cinturón negro 3° Grado de Brazilian Jiu-Jitsu por la Federación Internacional de Jiu-Jitsu Brasileño (IBJJF)","Cinturón negro 1º Dan de Kick Boxing por la Federación Española de Kick Boxing","Cinturón negro 1º Dan de Lucha Sambo por la Federación Española de Luchas Olímpicas y Deportes Asociados","Alumno de Rafael Lozano Muñoz","Participó en tres Juegos Olímpicos de Verano, obteniendo medalla de plata en Sídney 2000, bronce en Atlanta 1996 y 5º lugar en Barcelona 1992 en peso minimosca","Ganó una medalla de bronce en el Campeonato Europeo de Boxeo Aficionado de 1996"]},{id:2,name:"Jesús Pérez Pérez",role:"Instructor Principal de Jiujitsu y Presidente Five Elements Jiu-Jitsu Huelva",bio:"Maestro certificado. Cinturón negro en múltiples disciplinas y fundador de Five Elements Jiu-Jitsu. Destaca por:",image:"src/uploads/jesus.jpg",achievements:["Cinturón negro 3° Grado de Brazilian Jiu-Jitsu por la Federación Internacional de Jiu-Jitsu Brasileño (IBJJF)","Cinturón negro 3º Dan de Judo por la Real Federación Española de Judo y Deportes Asociados","Cinturón negro 1º Dan de Kick Boxing por la Federación Española de Kickboxing","Cinturón negro 1º Dan de Lucha Sambo por la Federación Española de Luchas Olímpicas y Deportes Asociados","Cinturón negro 1º Dan de Taekwondo por la Federación Española de Taekwondo","Entrenador autonómico de Judo por la Federación Española de Judo y Deportes Asociados y el Consejo Superior de Deportes (CSD)","Entrenador nacional Nivel 1 de Boxeo por la Federación Española de Boxeo y Consejo Superior de Deportes (CSD)","Entrenador nacional Nivel 1 de Lucha Olímpica por la Federación Española de Luchas Olímpicas y Deportes Asociados y Consejo Superior de Deportes (CSD)","Entrenador nacional Nivel 1 de Lucha Grappling y Grappling Gi por la Federación Española de Luchas Olímpicas y Deportes Asociados y Consejo Superior de Deportes (CSD)","Fundador junto a Helio Perdigao, ambos alumnos directos y cinturones negros del maestro Royce Gracie, hijo del fundador del Brazilian Jiu-Jitsu Helio Gracie."]},{id:3,name:"Raúl Herrera Hidalgo",role:"Instructor de Kick Boxing",bio:"Instructor especializado en la formación de fuerzas de seguridad y cuerpos policiales. Destaca por su amplia trayectoria como competidor, su dedicación a la enseñanza y su formación continua en disciplinas de combate y defensa personal.",image:"src/uploads/raul.jpeg",achievements:["Cinturón negro 1º DAN Nihon Tai Jitsu por la Federación Española de Judo y Deportes Asociados inscrita en el CSD, con más de diez años de experiencia","Cinturón negro 1º DAN Kick Boxing","Certificación en Curso de Defensa Personal y Técnicas de Detención.","Conocimientos de Boxeo.","Conocimientos y practicante de Muay Thai, con más de dos años de experiencia en esa modalidad, siendo alumno de Oscar Toro Gamero, luchador profesional en Muay Thai.","Actualmente practicante de BJJ, Grappling y MMA con el maestro Jesús Pérez Pérez de la Academia Five Elements.","Treinta años de experiencia en la práctica de Kick Boxing en la modalidad Low Kick, K1 y Full Contact, siendo alumno de grandes maestros de la provincia de Huelva.","Campeón Huelva de Kick Boxing modalidad Low Kick -90kg.","Subcampeón de Andalucía de Kick Boxing en modalidad Low Kick -90kg.","Experiencia en la enseñanza de Defensa Personal para las FFCCSS y Seguridad Privada.","Formación de seis meses en Defensa Personal policial y Técnicas de Detención en la Academia Nacional de Policía Nacional de Ávila.","Instruido en el Gym Al-Ándalus, siendo alumno de Manuel Alvarado, Maestro Nacional especialista en Nihon Tai Jitsu 7° DAN por la Federación Española de Judo y Deportes Asociados, además de ser Cinturón Negro 4° DAN en Judo, Cinturón negro 5° DAN en Tai Jitsu y Cinturón negro 5° DAN Ju Jutsu."]}];return d.jsx("section",{id:"instructors",className:"py-20 bg-gray-100",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nuestros Instructores"}),d.jsx("div",{className:"w-20 h-1 bg-gold mx-auto mb-6"}),d.jsx("p",{className:"text-lg text-gray-700 max-w-3xl mx-auto",children:"Contamos con un equipo de profesionales experimentados y apasionados, comprometidos con el desarrollo técnico y personal de cada alumno."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map(e=>d.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl",children:[d.jsx("div",{className:"h-80 overflow-hidden",children:d.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-110",style:["Rafael García Quiles","Jesús Pérez Pérez","Raúl Herrera Hidalgo"].includes(e.name)?{objectPosition:"top"}:{}})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.name}),d.jsx("p",{className:"text-gold font-semibold mb-4",children:e.role}),d.jsx("p",{className:"text-gray-700 mb-4",children:e.bio}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Currículum deportivo:"}),d.jsx("ul",{className:"space-y-1",children:e.achievements.map((n,r)=>d.jsxs("li",{className:"flex items-start text-gray-700",children:[d.jsx("span",{className:"h-2 w-2 bg-gold rounded-full mr-2 mt-2"}),d.jsx("span",{children:n})]},r))})]})]})]},e.id))})]})})},rP=()=>d.jsx("div",{className:"pt-16",children:d.jsx(nP,{})}),iP=()=>{const[t,e]=O.useState("lunes"),n=[{id:"lunes",label:"Lunes"},{id:"martes",label:"Martes"},{id:"miercoles",label:"Miércoles"},{id:"jueves",label:"Jueves"},{id:"viernes",label:"Viernes"},{id:"sabado",label:"Sábado"}],r={lunes:[{time:"18:30 - 19:30",class:"Iniciación al Kick Boxing",instructor:"Raúl y Víctor",color:"bg-gold"},{time:"19:30 - 21:00",class:"Kick Boxing",instructor:"Raúl",color:"bg-gold"},{time:"21:00 - 22:00",class:"Iniciacion Kick Boxing Adultos",instructor:"Raúl/Rafa",color:"bg-gold"}],martes:[{time:"18:30 - 19:30",class:"Iniciación al Kick Boxing",instructor:"Rafa",color:"bg-gold"},{time:"19:30 - 20:30",class:"Kick Boxing",instructor:"Rafa",color:"bg-gold"},{time:"20:30 - 22:00",class:"Jiu Jitsu Five Elements",instructor:"",color:"bg-black"}],miercoles:[{time:"19:30 - 21:00",class:"Kick Boxing",instructor:"Raúl",color:"bg-gold"},{time:"21:00 - 22:00",class:"Iniciacion Kick Boxing Adultos",instructor:"Raúl/Rafa",color:"bg-gold"}],jueves:[{time:"18:30 - 19:30",class:"Iniciación al Kick Boxing",instructor:"Raúl y Víctor",color:"bg-gold"},{time:"19:30 - 20:30",class:"Kick Boxing",instructor:"Raúl",color:"bg-gold"},{time:"20:30 - 22:00",class:"Jiu Jitsu Five Elements",instructor:"",color:"bg-black"}],viernes:[{time:"18:30 - 19:30",class:"Iniciación al Kick Boxing",instructor:"Rafa",color:"bg-gold"},{time:"19:00 - 20:30",class:"Kick Boxing",instructor:"Rafa",color:"bg-gold"}],sabado:[]};return d.jsx("section",{id:"schedule",className:"py-20 bg-black",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Horarios de Clases"}),d.jsx("div",{className:"w-20 h-1 bg-gold mx-auto mb-6"}),d.jsx("p",{className:"text-lg text-gray-300 max-w-3xl mx-auto",children:"Encuentra el horario perfecto para tu entrenamiento."})]}),d.jsxs("div",{className:"bg-black rounded-xl shadow-2xl overflow-hidden border border-gray-700",children:[d.jsx("div",{className:"flex flex-wrap",children:n.map(i=>d.jsx("button",{onClick:()=>e(i.id),className:`py-4 px-6 text-sm font-medium transition-all duration-300 ${t===i.id?"bg-gold text-white shadow-lg":"text-gold hover:bg-gold/20"}`,children:i.label},i.id))}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"grid gap-4",children:r[t].map((i,s)=>{const o=i.class.toLowerCase().includes("iniciación"),l=i.class.toLowerCase().includes("jiu jitsu"),u=i.class.toLowerCase()==="iniciacion kick boxing adultos";let c=i.color;return u?c="bg-blue-600":l?c="bg-red-600":o&&(c="bg-green-600"),d.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden shadow-lg transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl",children:[d.jsx("div",{className:`${c} h-2`}),d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:i.class}),d.jsx("p",{className:"text-gray-400",children:i.time}),i.instructor&&!l&&d.jsx("span",{className:"block text-gold font-semibold mt-1",children:i.instructor})]})})})]},s)})})})]}),d.jsxs("div",{className:"mt-10 text-center",children:[d.jsx("p",{className:"text-gray-400 mb-2",children:"* Los horarios pueden estar sujetos a cambios en días festivos."}),d.jsx("p",{className:"text-gray-400 mb-6",children:"También puedes reservar clases libres de rutina de 18:30 a 21:00 y clases privadas para avanzar en tu entrenamiento."}),d.jsx("a",{href:"/contact",className:"inline-block bg-gold hover:bg-gold-dark text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 mb-2",children:"Reserva tu clase de prueba"}),d.jsx("a",{href:"/contact",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 ml-2",children:"Reservar clase libre o privada"})]})]})})},sP=()=>d.jsx("div",{className:"pt-16",children:d.jsx(iP,{})}),oP="/assets/1-DoZsV4cG.jpeg",aP=Object.freeze(Object.defineProperty({__proto__:null,default:oP},Symbol.toStringTag,{value:"Module"})),lP="/assets/10-CKXwbGXB.jpeg",uP=Object.freeze(Object.defineProperty({__proto__:null,default:lP},Symbol.toStringTag,{value:"Module"})),cP="/assets/12-BJeNCL_T.jpeg",dP=Object.freeze(Object.defineProperty({__proto__:null,default:cP},Symbol.toStringTag,{value:"Module"})),hP="/assets/13-CZ8qZbH9.jpeg",fP=Object.freeze(Object.defineProperty({__proto__:null,default:hP},Symbol.toStringTag,{value:"Module"})),pP="/assets/14-C5A8Rd1K.jpeg",mP=Object.freeze(Object.defineProperty({__proto__:null,default:pP},Symbol.toStringTag,{value:"Module"})),gP="/assets/16-gBjjTWWb.jpeg",vP=Object.freeze(Object.defineProperty({__proto__:null,default:gP},Symbol.toStringTag,{value:"Module"})),yP="/assets/17-Dq4a7A9n.jpeg",_P=Object.freeze(Object.defineProperty({__proto__:null,default:yP},Symbol.toStringTag,{value:"Module"})),wP="/assets/1750360060486-D3gSeZgB.jpg",EP=Object.freeze(Object.defineProperty({__proto__:null,default:wP},Symbol.toStringTag,{value:"Module"})),xP="/assets/1750360060497-Dsnnni1h.jpg",SP=Object.freeze(Object.defineProperty({__proto__:null,default:xP},Symbol.toStringTag,{value:"Module"})),TP="/assets/1750360283052-Db73eYXH.jpg",bP=Object.freeze(Object.defineProperty({__proto__:null,default:TP},Symbol.toStringTag,{value:"Module"})),IP="/assets/1750411272771-D_ZB9Yg5.jpg",CP=Object.freeze(Object.defineProperty({__proto__:null,default:IP},Symbol.toStringTag,{value:"Module"})),AP="/assets/1750411272785-Bk43WzII.png",PP=Object.freeze(Object.defineProperty({__proto__:null,default:AP},Symbol.toStringTag,{value:"Module"})),kP="/assets/1750411272797-DyJT_vt7.jpg",RP=Object.freeze(Object.defineProperty({__proto__:null,default:kP},Symbol.toStringTag,{value:"Module"})),NP="/assets/18-DpFoluOJ.jpeg",jP=Object.freeze(Object.defineProperty({__proto__:null,default:NP},Symbol.toStringTag,{value:"Module"})),OP="/assets/19-Bgz87-LK.jpeg",DP=Object.freeze(Object.defineProperty({__proto__:null,default:OP},Symbol.toStringTag,{value:"Module"})),MP="/assets/2-Cx-6LnAJ.jpeg",LP=Object.freeze(Object.defineProperty({__proto__:null,default:MP},Symbol.toStringTag,{value:"Module"})),VP="/assets/20-D3NNOACj.jpeg",FP=Object.freeze(Object.defineProperty({__proto__:null,default:VP},Symbol.toStringTag,{value:"Module"})),UP="/assets/23-CS4yOyjm.jpeg",zP=Object.freeze(Object.defineProperty({__proto__:null,default:UP},Symbol.toStringTag,{value:"Module"})),BP="/assets/25-CHn2WtjX.jpeg",$P=Object.freeze(Object.defineProperty({__proto__:null,default:BP},Symbol.toStringTag,{value:"Module"})),WP="/assets/3-zFP5Dmap.jpeg",HP=Object.freeze(Object.defineProperty({__proto__:null,default:WP},Symbol.toStringTag,{value:"Module"})),qP="/assets/32-3BtsQTOp.jpeg",GP=Object.freeze(Object.defineProperty({__proto__:null,default:qP},Symbol.toStringTag,{value:"Module"})),KP="/assets/5-B7pbi8ka.jpeg",QP=Object.freeze(Object.defineProperty({__proto__:null,default:KP},Symbol.toStringTag,{value:"Module"})),YP="/assets/6-DWUvBTHm.jpeg",JP=Object.freeze(Object.defineProperty({__proto__:null,default:YP},Symbol.toStringTag,{value:"Module"})),XP="/assets/9-kVe1EILY.jpeg",ZP=Object.freeze(Object.defineProperty({__proto__:null,default:XP},Symbol.toStringTag,{value:"Module"})),ek="/assets/IMG-20250629-WA0060-C_U_dBHh.jpg",tk=Object.freeze(Object.defineProperty({__proto__:null,default:ek},Symbol.toStringTag,{value:"Module"})),nk="/assets/IMG-20250629-WA0062-DEk36V-o.jpg",rk=Object.freeze(Object.defineProperty({__proto__:null,default:nk},Symbol.toStringTag,{value:"Module"})),ik="/assets/IMG-20250629-WA0063-DGMJGp6r.jpg",sk=Object.freeze(Object.defineProperty({__proto__:null,default:ik},Symbol.toStringTag,{value:"Module"})),ok="/assets/IMG-20250710-WA0005-o8gRfxpj.jpg",ak=Object.freeze(Object.defineProperty({__proto__:null,default:ok},Symbol.toStringTag,{value:"Module"})),lk="/assets/IMG-20250710-WA0008-rRKsiFzi.jpg",uk=Object.freeze(Object.defineProperty({__proto__:null,default:lk},Symbol.toStringTag,{value:"Module"})),ck="/assets/IMG-20250710-WA0009-0J14TAkr.jpg",dk=Object.freeze(Object.defineProperty({__proto__:null,default:ck},Symbol.toStringTag,{value:"Module"})),hk="/assets/IMG-20250710-WA0010-CA7rqx39.jpg",fk=Object.freeze(Object.defineProperty({__proto__:null,default:hk},Symbol.toStringTag,{value:"Module"})),pk="/assets/IMG-20250710-WA0011-Cy7Bm5OK.jpg",mk=Object.freeze(Object.defineProperty({__proto__:null,default:pk},Symbol.toStringTag,{value:"Module"})),gk="/assets/IMG-20250710-WA0012-DGfya85d.jpg",vk=Object.freeze(Object.defineProperty({__proto__:null,default:gk},Symbol.toStringTag,{value:"Module"})),yk="/assets/IMG-20250710-WA0013-DRCjGcKX.jpg",_k=Object.freeze(Object.defineProperty({__proto__:null,default:yk},Symbol.toStringTag,{value:"Module"})),wk="/assets/IMG-20250710-WA0014-C1pqhekL.jpg",Ek=Object.freeze(Object.defineProperty({__proto__:null,default:wk},Symbol.toStringTag,{value:"Module"})),xk="/assets/IMG-20250710-WA0015-CjDrWKIu.jpg",Sk=Object.freeze(Object.defineProperty({__proto__:null,default:xk},Symbol.toStringTag,{value:"Module"})),Tk="/assets/IMG-20250710-WA0016-C06Q4pr8.jpg",bk=Object.freeze(Object.defineProperty({__proto__:null,default:Tk},Symbol.toStringTag,{value:"Module"})),Ik="/assets/IMG-20250710-WA0017-YOTewZNS.jpg",Ck=Object.freeze(Object.defineProperty({__proto__:null,default:Ik},Symbol.toStringTag,{value:"Module"})),Ak="/assets/IMG-20250710-WA0018-CP-DfjPF.jpg",Pk=Object.freeze(Object.defineProperty({__proto__:null,default:Ak},Symbol.toStringTag,{value:"Module"})),kk="/assets/IMG-20250710-WA0019-BV-0XsIb.jpg",Rk=Object.freeze(Object.defineProperty({__proto__:null,default:kk},Symbol.toStringTag,{value:"Module"})),Nk="/assets/IMG_20250522_222243-BEfGj3GS.jpg",jk=Object.freeze(Object.defineProperty({__proto__:null,default:Nk},Symbol.toStringTag,{value:"Module"})),Ok="/assets/IMG_20250522_222256-CZsu0DUl.jpg",Dk=Object.freeze(Object.defineProperty({__proto__:null,default:Ok},Symbol.toStringTag,{value:"Module"})),Mk="/assets/IMG_20250522_222256-CZsu0DUl.jpg",Lk=Object.freeze(Object.defineProperty({__proto__:null,default:Mk},Symbol.toStringTag,{value:"Module"})),Vk="/assets/WhatsApp%20Image%202025-05-12%20at%2022.38.25-DBhOUbx8.jpeg",Fk=Object.freeze(Object.defineProperty({__proto__:null,default:Vk},Symbol.toStringTag,{value:"Module"})),Uk="/assets/WhatsApp%20Image%202025-05-13%20at%2022.27.34-CHMNwPoI.jpeg",zk=Object.freeze(Object.defineProperty({__proto__:null,default:Uk},Symbol.toStringTag,{value:"Module"})),Bk="/assets/WhatsApp%20Image%202025-05-15%20at%2007.25.23-CFFEEPRC.jpeg",$k=Object.freeze(Object.defineProperty({__proto__:null,default:Bk},Symbol.toStringTag,{value:"Module"})),Wk="/assets/WhatsApp%20Image%202025-05-15%20at%2023.04.38-C-npATMP.jpeg",Hk=Object.freeze(Object.defineProperty({__proto__:null,default:Wk},Symbol.toStringTag,{value:"Module"})),qk="/assets/WhatsApp%20Image%202025-05-20%20at%2023.36.56-D-SJ0rbs.jpeg",Gk=Object.freeze(Object.defineProperty({__proto__:null,default:qk},Symbol.toStringTag,{value:"Module"})),Kk="/assets/WhatsApp%20Image%202025-05-21%20at%2022.46.16-BQ2581Eg.jpeg",Qk=Object.freeze(Object.defineProperty({__proto__:null,default:Kk},Symbol.toStringTag,{value:"Module"})),Yk="/assets/WhatsApp%20Image%202025-06-08%20at%2023.45.29-C7qJnInU.jpeg",Jk=Object.freeze(Object.defineProperty({__proto__:null,default:Yk},Symbol.toStringTag,{value:"Module"})),Xk="/assets/WhatsApp%20Image%202025-06-10%20at%2007.38.10-DO594bpt.jpeg",Zk=Object.freeze(Object.defineProperty({__proto__:null,default:Xk},Symbol.toStringTag,{value:"Module"})),eR="/assets/WhatsApp%20Image%202025-06-10%20at%2007.38.11-D4zBtxqt.jpeg",tR=Object.freeze(Object.defineProperty({__proto__:null,default:eR},Symbol.toStringTag,{value:"Module"})),nR="/assets/WhatsApp%20Image%202025-06-10%20at%2007.38.12-DIhl1mfE.jpeg",rR=Object.freeze(Object.defineProperty({__proto__:null,default:nR},Symbol.toStringTag,{value:"Module"})),iR=()=>{const[t,e]=O.useState(null),r=Object.keys(Object.assign({"/src/uploads/galery/1.jpeg":aP,"/src/uploads/galery/10.jpeg":uP,"/src/uploads/galery/12.jpeg":dP,"/src/uploads/galery/13.jpeg":fP,"/src/uploads/galery/14.jpeg":mP,"/src/uploads/galery/16.jpeg":vP,"/src/uploads/galery/17.jpeg":_P,"/src/uploads/galery/1750360060486.jpg":EP,"/src/uploads/galery/1750360060497.jpg":SP,"/src/uploads/galery/1750360283052.jpg":bP,"/src/uploads/galery/1750411272771.jpg":CP,"/src/uploads/galery/1750411272785.png":PP,"/src/uploads/galery/1750411272797.jpg":RP,"/src/uploads/galery/18.jpeg":jP,"/src/uploads/galery/19.jpeg":DP,"/src/uploads/galery/2.jpeg":LP,"/src/uploads/galery/20.jpeg":FP,"/src/uploads/galery/23.jpeg":zP,"/src/uploads/galery/25.jpeg":$P,"/src/uploads/galery/3.jpeg":HP,"/src/uploads/galery/32.jpeg":GP,"/src/uploads/galery/5.jpeg":QP,"/src/uploads/galery/6.jpeg":JP,"/src/uploads/galery/9.jpeg":ZP,"/src/uploads/galery/IMG-20250629-WA0060.jpg":tk,"/src/uploads/galery/IMG-20250629-WA0062.jpg":rk,"/src/uploads/galery/IMG-20250629-WA0063.jpg":sk,"/src/uploads/galery/IMG-20250710-WA0005.jpg":ak,"/src/uploads/galery/IMG-20250710-WA0008.jpg":uk,"/src/uploads/galery/IMG-20250710-WA0009.jpg":dk,"/src/uploads/galery/IMG-20250710-WA0010.jpg":fk,"/src/uploads/galery/IMG-20250710-WA0011.jpg":mk,"/src/uploads/galery/IMG-20250710-WA0012.jpg":vk,"/src/uploads/galery/IMG-20250710-WA0013.jpg":_k,"/src/uploads/galery/IMG-20250710-WA0014.jpg":Ek,"/src/uploads/galery/IMG-20250710-WA0015.jpg":Sk,"/src/uploads/galery/IMG-20250710-WA0016.jpg":bk,"/src/uploads/galery/IMG-20250710-WA0017.jpg":Ck,"/src/uploads/galery/IMG-20250710-WA0018.jpg":Pk,"/src/uploads/galery/IMG-20250710-WA0019.jpg":Rk,"/src/uploads/galery/IMG_20250522_222243.jpg":jk,"/src/uploads/galery/IMG_20250522_222256 (1).jpg":Dk,"/src/uploads/galery/IMG_20250522_222256.jpg":Lk,"/src/uploads/galery/WhatsApp Image 2025-05-12 at 22.38.25.jpeg":Fk,"/src/uploads/galery/WhatsApp Image 2025-05-13 at 22.27.34.jpeg":zk,"/src/uploads/galery/WhatsApp Image 2025-05-15 at 07.25.23.jpeg":$k,"/src/uploads/galery/WhatsApp Image 2025-05-15 at 23.04.38.jpeg":Hk,"/src/uploads/galery/WhatsApp Image 2025-05-20 at 23.36.56.jpeg":Gk,"/src/uploads/galery/WhatsApp Image 2025-05-21 at 22.46.16.jpeg":Qk,"/src/uploads/galery/WhatsApp Image 2025-06-08 at 23.45.29.jpeg":Jk,"/src/uploads/galery/WhatsApp Image 2025-06-10 at 07.38.10.jpeg":Zk,"/src/uploads/galery/WhatsApp Image 2025-06-10 at 07.38.11.jpeg":tR,"/src/uploads/galery/WhatsApp Image 2025-06-10 at 07.38.12.jpeg":rR})).sort().reverse().map(o=>({src:o,alt:`Foto de la galería ${o.split("/").pop()} en ADECAM TRIGUEROS`})),i=o=>{e(o),document.body.style.overflow="hidden"},s=()=>{e(null),document.body.style.overflow="auto"};return d.jsxs("section",{id:"gallery",className:"py-20 bg-gray-100",children:[d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Galería"}),d.jsx("div",{className:"w-20 h-1 bg-gold mx-auto mb-6"}),d.jsx("p",{className:"text-lg text-gray-700 max-w-3xl mx-auto",children:"Descubre nuestra academia y el ambiente de entrenamiento a través de estas imágenes."})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((o,l)=>d.jsx("div",{className:"aspect-square overflow-hidden rounded-lg shadow-md cursor-pointer transform transition-transform duration-300 hover:scale-[1.03] hover:shadow-xl",onClick:()=>i(o.src),children:d.jsx("img",{src:o.src,alt:o.alt,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"})},l))})]}),t&&d.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:s,children:[d.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gold transition-colors duration-300",onClick:s,children:d.jsx(sc,{size:32})}),d.jsx("img",{src:t,alt:"Imagen ampliada",className:"max-h-[90vh] max-w-[90vw] object-contain",onClick:o=>o.stopPropagation()})]})]})},sR=()=>d.jsx("div",{className:"pt-16",children:d.jsx(iR,{})}),oR=()=>{const t=e=>{var c,f,p,g;e.preventDefault();const n=e.currentTarget,r=((c=n.elements.namedItem("name"))==null?void 0:c.value)||"",i=((f=n.elements.namedItem("email"))==null?void 0:f.value)||"",s=((p=n.elements.namedItem("subject"))==null?void 0:p.value)||"",o=((g=n.elements.namedItem("message"))==null?void 0:g.value)||"",l=`Hola, soy ${r} (${i}). Asunto: ${s}. Mensaje: ${o}`,u=`https://wa.me/34635585328?text=${encodeURIComponent(l)}`;window.open(u,"_blank")};return d.jsx("section",{id:"contact",className:"py-20 bg-white",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gold mb-4",children:"Contacto"}),d.jsx("div",{className:"w-20 h-1 bg-gold mx-auto mb-6"}),d.jsx("p",{className:"text-lg text-black max-w-3xl mx-auto",children:"¿Tienes alguna pregunta? ¿Quieres probar una clase? Contáctanos o visítanos en nuestras instalaciones."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 border border-gold",children:[d.jsx("h3",{className:"text-2xl font-bold text-gold mb-6",children:"Información de Contacto"}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center rounded-full bg-gold/20 text-gold",children:d.jsx(B2,{size:20})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-black",children:"Ubicación"}),d.jsx("p",{className:"text-black",children:"Calle Carpinteros 19"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center rounded-full bg-gold/20 text-gold",children:d.jsx(H2,{size:20})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-black",children:"Teléfono"}),d.jsxs("p",{className:"text-black flex items-center space-x-2",children:[d.jsx("span",{children:"+34 635 58 53 28"}),d.jsx("a",{href:"https://wa.me/34635585328",target:"_blank",rel:"noopener noreferrer","aria-label":"Enviar WhatsApp",className:"ml-2 inline-flex items-center px-3 py-1 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors text-sm font-semibold",children:"WhatsApp"})]})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center rounded-full bg-gold/20 text-gold",children:d.jsx(z2,{size:20})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-black",children:"Email"}),d.jsx("p",{className:"text-black",children:"adecamtrigueroshuelva@gmail.com"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center rounded-full bg-gold/20 text-gold",children:d.jsx(V2,{size:20})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-black",children:"Horario de Atención"}),d.jsx("p",{className:"text-black",children:"Lunes a Viernes: 18:30 - 22:00"})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h4",{className:"text-lg font-semibold text-black mb-4",children:"Síguenos"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"h-10 w-10 flex items-center justify-center rounded-full bg-gold text-black hover:bg-black hover:text-gold transition-colors duration-300",children:d.jsx(F2,{size:20})}),d.jsx("a",{href:"#",className:"h-10 w-10 flex items-center justify-center rounded-full bg-gold text-black hover:bg-black hover:text-gold transition-colors duration-300",children:d.jsx(U2,{size:20})}),d.jsx("a",{href:"#",className:"h-10 w-10 flex items-center justify-center rounded-full bg-gold text-black hover:bg-black hover:text-gold transition-colors duration-300",children:d.jsx(K2,{size:20})})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 border border-gold",children:[d.jsx("h3",{className:"text-2xl font-bold text-gold mb-6",children:"Envíanos un Mensaje"}),d.jsxs("form",{className:"space-y-6",onSubmit:t,children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-black mb-1",children:"Nombre"}),d.jsx("input",{type:"text",id:"name",className:"w-full p-3 border border-gold rounded-md focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent bg-white text-black",placeholder:"Tu nombre"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-black mb-1",children:"Email"}),d.jsx("input",{type:"email",id:"email",className:"w-full p-3 border border-gold rounded-md focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent bg-white text-black",placeholder:"Tu email"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-black mb-1",children:"Asunto"}),d.jsx("input",{type:"text",id:"subject",className:"w-full p-3 border border-gold rounded-md focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent bg-white text-black",placeholder:"Asunto del mensaje"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-black mb-1",children:"Mensaje"}),d.jsx("textarea",{id:"message",rows:5,className:"w-full p-3 border border-gold rounded-md focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent bg-white text-black",placeholder:"Tu mensaje"})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",className:"w-full bg-gold hover:bg-black text-black hover:text-gold font-bold py-3 px-6 rounded-md transition-all duration-300 border border-gold hover:border-black",children:"Enviar Mensaje"})})]})]})]}),d.jsx("div",{className:"mt-12",children:d.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden border border-gold",children:d.jsx("iframe",{src:"https://www.google.com/maps?q=Calle+Carpinteros+29,+21620+Trigueros,+Huelva,+España&output=embed",width:"100%",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de ubicación de ADECAM TRIGUEROS"})})})]})})},aR=()=>d.jsx("div",{className:"pt-16",children:d.jsx(oR,{})}),lR=()=>d.jsx("section",{className:"py-20 bg-white min-h-screen pt-24",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[d.jsx("h1",{className:"text-3xl font-bold text-gold mb-6",children:"Política de Privacidad"}),d.jsx("p",{className:"mb-4",children:"En ADECAM TRIGUEROS nos comprometemos a proteger tu privacidad y garantizar la seguridad de tus datos personales conforme al Reglamento (UE) 2016/679 (RGPD) y la Ley Orgánica 3/2018 (LOPDGDD)."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Responsable del tratamiento"}),d.jsx("p",{className:"mb-4",children:"ASOCIACION CULTURAL DE DEPORTES DE CONTACTO Y ARTES MARCIALES TRIGUEROS. Email: info@adecamtrigueros.es"}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Finalidad"}),d.jsx("p",{className:"mb-4",children:"Los datos se recogen para gestionar consultas, inscripciones y comunicaciones relacionadas con la actividad de la asociación."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Legitimación"}),d.jsx("p",{className:"mb-4",children:"El tratamiento se basa en el consentimiento del usuario y/o la relación contractual."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Destinatarios"}),d.jsx("p",{className:"mb-4",children:"No se cederán datos a terceros salvo obligación legal."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Derechos"}),d.jsx("p",{className:"mb-4",children:"Puedes acceder, rectificar y suprimir tus datos, así como ejercer otros derechos, enviando un correo a info@adecamtrigueros.es."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Conservación"}),d.jsx("p",{className:"mb-4",children:"Tus datos se conservarán mientras exista una relación con la asociación o hasta que solicites su supresión."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Contacto"}),d.jsx("p",{children:"Para cualquier cuestión sobre privacidad, puedes escribirnos a info@adecamtrigueros.es."})]})}),uR=()=>d.jsx("section",{className:"py-20 bg-white min-h-screen pt-24",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[d.jsx("h1",{className:"text-3xl font-bold text-gold mb-6",children:"Aviso Legal"}),d.jsx("p",{className:"mb-4",children:"En cumplimiento con el deber de información recogido en la Ley 34/2002, de Servicios de la Sociedad de la Información y del Comercio Electrónico (LSSI-CE), se informa:"}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Titularidad"}),d.jsx("p",{className:"mb-4",children:"ASOCIACION CULTURAL DE DEPORTES DE CONTACTO Y ARTES MARCIALES TRIGUEROS. CIF: G12345678. Domicilio: Calle Carpinteros 29, 21620 Trigueros, Huelva. Email: info@adecamtrigueros.es"}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Objeto"}),d.jsx("p",{className:"mb-4",children:"El presente sitio web tiene como finalidad informar sobre las actividades y servicios de la asociación."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Propiedad intelectual"}),d.jsx("p",{className:"mb-4",children:"Todos los contenidos del sitio web, salvo indicación expresa, son titularidad de la asociación y están protegidos por la normativa de propiedad intelectual."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Responsabilidad"}),d.jsx("p",{className:"mb-4",children:"La asociación no se responsabiliza del mal uso que se realice de los contenidos de la web ni de los daños derivados de su uso."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Legislación aplicable"}),d.jsx("p",{children:"Este aviso legal se rige por la legislación española. Para cualquier controversia, las partes se someten a los juzgados y tribunales de Huelva."})]})}),cR=()=>d.jsx("section",{className:"py-20 bg-white min-h-screen",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[d.jsx("h1",{className:"text-3xl font-bold text-gold mb-6",children:"Condiciones de Uso"}),d.jsx("p",{className:"mb-4",children:"El acceso y uso de este sitio web atribuye la condición de usuario e implica la aceptación de las presentes condiciones de uso. Si no estás de acuerdo con ellas, por favor, abstente de utilizar la web."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Objeto"}),d.jsx("p",{className:"mb-4",children:"Estas condiciones regulan el acceso, navegación y uso de la web de ADECAM TRIGUEROS, así como las responsabilidades derivadas del uso de sus contenidos."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Obligaciones del usuario"}),d.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[d.jsx("li",{children:"Utilizar la web de forma lícita y conforme a la ley."}),d.jsx("li",{children:"No realizar actividades que puedan dañar, sobrecargar o deteriorar la web."}),d.jsx("li",{children:"Respetar los derechos de propiedad intelectual e industrial."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Propiedad intelectual"}),d.jsx("p",{className:"mb-4",children:"Los contenidos de la web son propiedad de la asociación o de terceros autorizados. Queda prohibida su reproducción sin autorización expresa."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Exclusión de responsabilidad"}),d.jsx("p",{className:"mb-4",children:"La asociación no se responsabiliza de los daños derivados del uso de la web ni de la información contenida en ella."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Modificaciones"}),d.jsx("p",{className:"mb-4",children:"La asociación se reserva el derecho de modificar estas condiciones en cualquier momento. Las modificaciones serán publicadas en la web."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Legislación aplicable"}),d.jsx("p",{children:"Estas condiciones se rigen por la legislación española. Para cualquier controversia, las partes se someten a los juzgados y tribunales de Huelva."})]})}),sy="cookie_consent_accepted",dR=()=>{const[t,e]=O.useState(!1);O.useEffect(()=>{localStorage.getItem(sy)||e(!0)},[]);const n=()=>{localStorage.setItem(sy,"true"),e(!1)};return t?d.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-gray-900 bg-opacity-95 text-white z-50 flex flex-col md:flex-row items-center justify-between px-6 py-4 shadow-lg animate-fadeIn",children:[d.jsxs("div",{className:"mb-2 md:mb-0 md:mr-4 text-sm",children:["Utilizamos cookies propias y de terceros para mejorar su experiencia y analizar el uso del sitio. Al continuar navegando acepta nuestra ",d.jsx("a",{href:"/cookies",className:"underline text-gold hover:text-gold-dark",children:"Política de Cookies"}),", ",d.jsx("a",{href:"/privacidad",className:"underline text-gold hover:text-gold-dark",children:"Política de Privacidad"})," y ",d.jsx("a",{href:"/aviso-legal",className:"underline text-gold hover:text-gold-dark",children:"Aviso Legal"}),"."]}),d.jsx("button",{onClick:n,className:"bg-gold hover:bg-gold-dark text-white font-semibold px-6 py-2 rounded-lg transition-all duration-200","aria-label":"Aceptar cookies",children:"Aceptar"})]}):null},hR=()=>d.jsx("section",{className:"py-20 bg-white min-h-screen pt-24",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[d.jsx("h1",{className:"text-3xl font-bold text-gold mb-6",children:"Política de Cookies"}),d.jsx("p",{className:"mb-4",children:"Esta web utiliza cookies propias y de terceros para mejorar la experiencia de usuario y analizar el tráfico. Al navegar por nuestro sitio, aceptas el uso de cookies bajo los términos de esta política."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"¿Qué son las cookies?"}),d.jsx("p",{className:"mb-4",children:"Las cookies son pequeños archivos de texto que se almacenan en tu dispositivo cuando visitas una página web. Sirven para recordar tus preferencias y facilitar la navegación."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"¿Qué tipos de cookies utilizamos?"}),d.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[d.jsx("li",{children:"Cookies técnicas: necesarias para el funcionamiento de la web."}),d.jsx("li",{children:"Cookies de análisis: nos ayudan a entender cómo interactúan los usuarios con la web."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"¿Cómo puedes gestionar las cookies?"}),d.jsx("p",{className:"mb-4",children:"Puedes configurar tu navegador para aceptar o rechazar cookies, así como para eliminarlas. Consulta la ayuda de tu navegador para más información."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"Contacto"}),d.jsx("p",{children:"Si tienes dudas sobre nuestra política de cookies, puedes escribirnos a info@adecamtrigueros.es."})]})}),fR="modulepreload",pR=function(t){return"/"+t},oy={},mR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=pR(u),u in oy)return;oy[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":fR,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((g,I)=>{p.addEventListener("load",g),p.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},gR=[{name:"Dashboard",href:"/admin"},{name:"Socios",href:"/admin/socios"},{name:"Registros",href:"/admin/registros"}],Pp=()=>{const t=yi(),[e,n]=O.useState(!1);return d.jsx("nav",{className:"fixed w-full z-50 bg-black/95 backdrop-blur-sm shadow-lg",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex justify-between items-center h-20 md:h-28 lg:h-32",children:[d.jsx(qt,{to:"/",className:"flex items-center space-x-2 h-full",children:d.jsx("img",{src:"/src/uploads/logo-blanco.png",alt:"ADECAM Logo",className:"object-contain h-16 md:h-20 lg:h-24 transition-all duration-300 mx-auto"})}),d.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:()=>n(!e),children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{className:`flex-col md:flex-row flex items-center md:space-x-8 space-y-4 md:space-y-0 absolute md:static top-20 left-0 w-full md:w-auto bg-black/95 md:bg-transparent transition-all duration-300 ${e?"flex":"hidden"} md:flex`,children:[gR.map(r=>d.jsxs("a",{href:r.href,className:`text-white hover:text-gold transition-colors duration-300 text-sm font-medium relative group ${t.pathname===r.href?"text-gold-dark":""}`,children:[r.name,d.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 bg-gold transform transition-transform duration-300 ${t.pathname===r.href?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`})]},r.name)),d.jsx("button",{onClick:()=>{mR(async()=>{const{getAuth:r,signOut:i}=await Promise.resolve().then(()=>RL);return{getAuth:r,signOut:i}},void 0).then(({getAuth:r,signOut:i})=>{const s=r();i(s).then(()=>{window.location.href="/"})})},className:"ml-0 md:ml-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors duration-300 w-full md:w-auto",children:"Cerrar sesión"})]})]})})})},vR=()=>{};var ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,I=c&63;u||(I=64,o||(g=64)),r.push(n[f],n[p],n[g],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new _R;const g=s<<2|l>>4;if(r.push(g),c!==64){const I=l<<4&240|c>>2;if(r.push(I),p!==64){const A=c<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wR=function(t){const e=qE(t);return GE.encodeByteArray(e,!0)},Eu=function(t){return wR(t).replace(/\./g,"")},KE=function(t){try{return GE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=()=>ER().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof ay>"u")return;const t=ay.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KE(t[1]);return e&&JSON.parse(e)},dc=()=>{try{return vR()||xR()||SR()||TR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QE=t=>{var e,n;return(n=(e=dc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bR=t=>{const e=QE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YE=()=>{var t;return(t=dc())===null||t===void 0?void 0:t.config},JE=t=>{var e;return(e=dc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){return t.endsWith(".cloudworkstations.dev")}async function XE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eu(JSON.stringify(n)),Eu(JSON.stringify(o)),""].join(".")}const Io={};function AR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Io))Io[e]?t.emulator.push(e):t.prod.push(e);return t}function PR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ly=!1;function ZE(t,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||Io[t]===e||Io[t]||ly)return;Io[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=AR().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,I){g.setAttribute("width","24"),g.setAttribute("id",I),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ly=!0,o()},g}function f(g,I){g.setAttribute("id",I),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=PR(r),I=n("text"),A=document.getElementById(I)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const S=g.element;l(S),f(R,k);const N=c();u(w,b),S.append(w,A,R,N),document.body.appendChild(S)}s?(A.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function RR(){var t;const e=(t=dc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DR(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MR(){return!RR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FR,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,l,r)}}function UR(t,e){return t.replace(zR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zR=/\{\$([^}]+)}/g;function BR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uy(s)&&uy(o)){if(!ci(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ho(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $R(t,e){const n=new WR(t,e);return n.subscribe.bind(n)}class WR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ld),i.error===void 0&&(i.error=Ld),i.complete===void 0&&(i.complete=Ld);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(t){return t===Jr?void 0:t}function KR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const YR={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},JR=fe.INFO,XR={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ZR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const eN=(t,e)=>e.some(n=>t instanceof n);let cy,dy;function tN(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nN(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ex=new WeakMap,tf=new WeakMap,tx=new WeakMap,Vd=new WeakMap,Rp=new WeakMap;function rN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ex.set(n,t)}).catch(()=>{}),Rp.set(e,t),e}function iN(t){if(tf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tf.set(t,e)}let nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sN(t){nf=t(nf)}function oN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fd(this),e,...n);return tx.set(r,e.sort?e.sort():[e]),wr(r)}:nN().includes(t)?function(...e){return t.apply(Fd(this),e),wr(ex.get(this))}:function(...e){return wr(t.apply(Fd(this),e))}}function aN(t){return typeof t=="function"?oN(t):(t instanceof IDBTransaction&&iN(t),eN(t,tN())?new Proxy(t,nf):t)}function wr(t){if(t instanceof IDBRequest)return rN(t);if(Vd.has(t))return Vd.get(t);const e=aN(t);return e!==t&&(Vd.set(t,e),Rp.set(e,t)),e}const Fd=t=>Rp.get(t);function lN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=wr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(wr(o.result),u.oldVersion,u.newVersion,wr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const uN=["get","getKey","getAll","getAllKeys","count"],cN=["put","add","delete","clear"],Ud=new Map;function hy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uN.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Ud.set(e,s),s}sN(t=>({...t,get:(e,n,r)=>hy(e,n)||t.get(e,n,r),has:(e,n)=>!!hy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rf="@firebase/app",fy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new kp("@firebase/app"),fN="@firebase/app-compat",pN="@firebase/analytics-compat",mN="@firebase/analytics",gN="@firebase/app-check-compat",vN="@firebase/app-check",yN="@firebase/auth",_N="@firebase/auth-compat",wN="@firebase/database",EN="@firebase/data-connect",xN="@firebase/database-compat",SN="@firebase/functions",TN="@firebase/functions-compat",bN="@firebase/installations",IN="@firebase/installations-compat",CN="@firebase/messaging",AN="@firebase/messaging-compat",PN="@firebase/performance",kN="@firebase/performance-compat",RN="@firebase/remote-config",NN="@firebase/remote-config-compat",jN="@firebase/storage",ON="@firebase/storage-compat",DN="@firebase/firestore",MN="@firebase/ai",LN="@firebase/firestore-compat",VN="firebase",FN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="[DEFAULT]",UN={[rf]:"fire-core",[fN]:"fire-core-compat",[mN]:"fire-analytics",[pN]:"fire-analytics-compat",[vN]:"fire-app-check",[gN]:"fire-app-check-compat",[yN]:"fire-auth",[_N]:"fire-auth-compat",[wN]:"fire-rtdb",[EN]:"fire-data-connect",[xN]:"fire-rtdb-compat",[SN]:"fire-fn",[TN]:"fire-fn-compat",[bN]:"fire-iid",[IN]:"fire-iid-compat",[CN]:"fire-fcm",[AN]:"fire-fcm-compat",[PN]:"fire-perf",[kN]:"fire-perf-compat",[RN]:"fire-rc",[NN]:"fire-rc-compat",[jN]:"fire-gcs",[ON]:"fire-gcs-compat",[DN]:"fire-fst",[LN]:"fire-fst-compat",[MN]:"fire-vertex","fire-js":"fire-js",[VN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Map,zN=new Map,of=new Map;function py(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gs(t){const e=t.name;if(of.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;of.set(e,t);for(const n of xu.values())py(n,t);for(const n of zN.values())py(n,t);return!0}function Np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new ha("app","Firebase",BN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=FN;function nx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sf,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=YE()),!n)throw Er.create("no-options");const s=xu.get(i);if(s){if(ci(n,s.options)&&ci(r,s.config))return s;throw Er.create("duplicate-app",{appName:i})}const o=new QR(i);for(const u of of.values())o.addComponent(u);const l=new $N(n,r,o);return xu.set(i,l),l}function rx(t=sf){const e=xu.get(t);if(!e&&t===sf&&YE())return nx();if(!e)throw Er.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let i=(r=UN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(l.join(" "));return}gs(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebase-heartbeat-database",HN=1,Xo="firebase-heartbeat-store";let zd=null;function ix(){return zd||(zd=lN(WN,HN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),zd}async function qN(t){try{const n=(await ix()).transaction(Xo),r=await n.objectStore(Xo).get(sx(t));return await n.done,r}catch(e){if(e instanceof Qn)$n.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function my(t,e){try{const r=(await ix()).transaction(Xo,"readwrite");await r.objectStore(Xo).put(e,sx(t)),await r.done}catch(n){if(n instanceof Qn)$n.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(r.message)}}}function sx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,KN=30;class QN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>KN){const o=XN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$n.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gy(),{heartbeatsToSend:r,unsentEntries:i}=YN(this._heartbeatsCache.heartbeats),s=Eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}}}function gy(){return new Date().toISOString().substring(0,10)}function YN(t,e=GN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return my(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return my(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vy(t){return Eu(JSON.stringify({version:2,heartbeats:t})).length}function XN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){gs(new di("platform-logger",e=>new dN(e),"PRIVATE")),gs(new di("heartbeat",e=>new QN(e),"PRIVATE")),xr(rf,fy,t),xr(rf,fy,"esm2017"),xr("fire-js","")}ZN("");var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,ox;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,v){function _(){}_.prototype=v.prototype,y.D=v.prototype,y.prototype=new _,y.prototype.constructor=y,y.C=function(x,C,P){for(var T=Array(arguments.length-2),G=2;G<arguments.length;G++)T[G-2]=arguments[G];return v.prototype[C].apply(x,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,v,_){_||(_=0);var x=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)x[C]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(C=0;16>C;++C)x[C]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=y.g[0],_=y.g[1],C=y.g[2];var P=y.g[3],T=v+(P^_&(C^P))+x[0]+3614090360&4294967295;v=_+(T<<7&4294967295|T>>>25),T=P+(C^v&(_^C))+x[1]+3905402710&4294967295,P=v+(T<<12&4294967295|T>>>20),T=C+(_^P&(v^_))+x[2]+606105819&4294967295,C=P+(T<<17&4294967295|T>>>15),T=_+(v^C&(P^v))+x[3]+3250441966&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(P^_&(C^P))+x[4]+4118548399&4294967295,v=_+(T<<7&4294967295|T>>>25),T=P+(C^v&(_^C))+x[5]+1200080426&4294967295,P=v+(T<<12&4294967295|T>>>20),T=C+(_^P&(v^_))+x[6]+2821735955&4294967295,C=P+(T<<17&4294967295|T>>>15),T=_+(v^C&(P^v))+x[7]+4249261313&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(P^_&(C^P))+x[8]+1770035416&4294967295,v=_+(T<<7&4294967295|T>>>25),T=P+(C^v&(_^C))+x[9]+2336552879&4294967295,P=v+(T<<12&4294967295|T>>>20),T=C+(_^P&(v^_))+x[10]+4294925233&4294967295,C=P+(T<<17&4294967295|T>>>15),T=_+(v^C&(P^v))+x[11]+2304563134&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(P^_&(C^P))+x[12]+1804603682&4294967295,v=_+(T<<7&4294967295|T>>>25),T=P+(C^v&(_^C))+x[13]+4254626195&4294967295,P=v+(T<<12&4294967295|T>>>20),T=C+(_^P&(v^_))+x[14]+2792965006&4294967295,C=P+(T<<17&4294967295|T>>>15),T=_+(v^C&(P^v))+x[15]+1236535329&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(C^P&(_^C))+x[1]+4129170786&4294967295,v=_+(T<<5&4294967295|T>>>27),T=P+(_^C&(v^_))+x[6]+3225465664&4294967295,P=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(P^v))+x[11]+643717713&4294967295,C=P+(T<<14&4294967295|T>>>18),T=_+(P^v&(C^P))+x[0]+3921069994&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(C^P&(_^C))+x[5]+3593408605&4294967295,v=_+(T<<5&4294967295|T>>>27),T=P+(_^C&(v^_))+x[10]+38016083&4294967295,P=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(P^v))+x[15]+3634488961&4294967295,C=P+(T<<14&4294967295|T>>>18),T=_+(P^v&(C^P))+x[4]+3889429448&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(C^P&(_^C))+x[9]+568446438&4294967295,v=_+(T<<5&4294967295|T>>>27),T=P+(_^C&(v^_))+x[14]+3275163606&4294967295,P=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(P^v))+x[3]+4107603335&4294967295,C=P+(T<<14&4294967295|T>>>18),T=_+(P^v&(C^P))+x[8]+1163531501&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(C^P&(_^C))+x[13]+2850285829&4294967295,v=_+(T<<5&4294967295|T>>>27),T=P+(_^C&(v^_))+x[2]+4243563512&4294967295,P=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(P^v))+x[7]+1735328473&4294967295,C=P+(T<<14&4294967295|T>>>18),T=_+(P^v&(C^P))+x[12]+2368359562&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(_^C^P)+x[5]+4294588738&4294967295,v=_+(T<<4&4294967295|T>>>28),T=P+(v^_^C)+x[8]+2272392833&4294967295,P=v+(T<<11&4294967295|T>>>21),T=C+(P^v^_)+x[11]+1839030562&4294967295,C=P+(T<<16&4294967295|T>>>16),T=_+(C^P^v)+x[14]+4259657740&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(_^C^P)+x[1]+2763975236&4294967295,v=_+(T<<4&4294967295|T>>>28),T=P+(v^_^C)+x[4]+1272893353&4294967295,P=v+(T<<11&4294967295|T>>>21),T=C+(P^v^_)+x[7]+4139469664&4294967295,C=P+(T<<16&4294967295|T>>>16),T=_+(C^P^v)+x[10]+3200236656&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(_^C^P)+x[13]+681279174&4294967295,v=_+(T<<4&4294967295|T>>>28),T=P+(v^_^C)+x[0]+3936430074&4294967295,P=v+(T<<11&4294967295|T>>>21),T=C+(P^v^_)+x[3]+3572445317&4294967295,C=P+(T<<16&4294967295|T>>>16),T=_+(C^P^v)+x[6]+76029189&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(_^C^P)+x[9]+3654602809&4294967295,v=_+(T<<4&4294967295|T>>>28),T=P+(v^_^C)+x[12]+3873151461&4294967295,P=v+(T<<11&4294967295|T>>>21),T=C+(P^v^_)+x[15]+530742520&4294967295,C=P+(T<<16&4294967295|T>>>16),T=_+(C^P^v)+x[2]+3299628645&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(C^(_|~P))+x[0]+4096336452&4294967295,v=_+(T<<6&4294967295|T>>>26),T=P+(_^(v|~C))+x[7]+1126891415&4294967295,P=v+(T<<10&4294967295|T>>>22),T=C+(v^(P|~_))+x[14]+2878612391&4294967295,C=P+(T<<15&4294967295|T>>>17),T=_+(P^(C|~v))+x[5]+4237533241&4294967295,_=C+(T<<21&4294967295|T>>>11),T=v+(C^(_|~P))+x[12]+1700485571&4294967295,v=_+(T<<6&4294967295|T>>>26),T=P+(_^(v|~C))+x[3]+2399980690&4294967295,P=v+(T<<10&4294967295|T>>>22),T=C+(v^(P|~_))+x[10]+4293915773&4294967295,C=P+(T<<15&4294967295|T>>>17),T=_+(P^(C|~v))+x[1]+2240044497&4294967295,_=C+(T<<21&4294967295|T>>>11),T=v+(C^(_|~P))+x[8]+1873313359&4294967295,v=_+(T<<6&4294967295|T>>>26),T=P+(_^(v|~C))+x[15]+4264355552&4294967295,P=v+(T<<10&4294967295|T>>>22),T=C+(v^(P|~_))+x[6]+2734768916&4294967295,C=P+(T<<15&4294967295|T>>>17),T=_+(P^(C|~v))+x[13]+1309151649&4294967295,_=C+(T<<21&4294967295|T>>>11),T=v+(C^(_|~P))+x[4]+4149444226&4294967295,v=_+(T<<6&4294967295|T>>>26),T=P+(_^(v|~C))+x[11]+3174756917&4294967295,P=v+(T<<10&4294967295|T>>>22),T=C+(v^(P|~_))+x[2]+718787259&4294967295,C=P+(T<<15&4294967295|T>>>17),T=_+(P^(C|~v))+x[9]+3951481745&4294967295,y.g[0]=y.g[0]+v&4294967295,y.g[1]=y.g[1]+(C+(T<<21&4294967295|T>>>11))&4294967295,y.g[2]=y.g[2]+C&4294967295,y.g[3]=y.g[3]+P&4294967295}r.prototype.u=function(y,v){v===void 0&&(v=y.length);for(var _=v-this.blockSize,x=this.B,C=this.h,P=0;P<v;){if(C==0)for(;P<=_;)i(this,y,P),P+=this.blockSize;if(typeof y=="string"){for(;P<v;)if(x[C++]=y.charCodeAt(P++),C==this.blockSize){i(this,x),C=0;break}}else for(;P<v;)if(x[C++]=y[P++],C==this.blockSize){i(this,x),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var v=1;v<y.length-8;++v)y[v]=0;var _=8*this.o;for(v=y.length-8;v<y.length;++v)y[v]=_&255,_/=256;for(this.u(y),y=Array(16),v=_=0;4>v;++v)for(var x=0;32>x;x+=8)y[_++]=this.g[v]>>>x&255;return y};function s(y,v){var _=l;return Object.prototype.hasOwnProperty.call(_,y)?_[y]:_[y]=v(y)}function o(y,v){this.h=v;for(var _=[],x=!0,C=y.length-1;0<=C;C--){var P=y[C]|0;x&&P==v||(_[C]=P,x=!1)}this.g=_}var l={};function u(y){return-128<=y&&128>y?s(y,function(v){return new o([v|0],0>v?-1:0)}):new o([y|0],0>y?-1:0)}function c(y){if(isNaN(y)||!isFinite(y))return p;if(0>y)return R(c(-y));for(var v=[],_=1,x=0;y>=_;x++)v[x]=y/_|0,_*=4294967296;return new o(v,0)}function f(y,v){if(y.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(y.charAt(0)=="-")return R(f(y.substring(1),v));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(v,8)),x=p,C=0;C<y.length;C+=8){var P=Math.min(8,y.length-C),T=parseInt(y.substring(C,C+P),v);8>P?(P=c(Math.pow(v,P)),x=x.j(P).add(c(T))):(x=x.j(_),x=x.add(c(T)))}return x}var p=u(0),g=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-R(this).m();for(var y=0,v=1,_=0;_<this.g.length;_++){var x=this.i(_);y+=(0<=x?x:4294967296+x)*v,v*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A(this))return"0";if(k(this))return"-"+R(this).toString(y);for(var v=c(Math.pow(y,6)),_=this,x="";;){var C=N(_,v).g;_=b(_,C.j(v));var P=((0<_.g.length?_.g[0]:_.h)>>>0).toString(y);if(_=C,A(_))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function A(y){if(y.h!=0)return!1;for(var v=0;v<y.g.length;v++)if(y.g[v]!=0)return!1;return!0}function k(y){return y.h==-1}t.l=function(y){return y=b(this,y),k(y)?-1:A(y)?0:1};function R(y){for(var v=y.g.length,_=[],x=0;x<v;x++)_[x]=~y.g[x];return new o(_,~y.h).add(g)}t.abs=function(){return k(this)?R(this):this},t.add=function(y){for(var v=Math.max(this.g.length,y.g.length),_=[],x=0,C=0;C<=v;C++){var P=x+(this.i(C)&65535)+(y.i(C)&65535),T=(P>>>16)+(this.i(C)>>>16)+(y.i(C)>>>16);x=T>>>16,P&=65535,T&=65535,_[C]=T<<16|P}return new o(_,_[_.length-1]&-2147483648?-1:0)};function b(y,v){return y.add(R(v))}t.j=function(y){if(A(this)||A(y))return p;if(k(this))return k(y)?R(this).j(R(y)):R(R(this).j(y));if(k(y))return R(this.j(R(y)));if(0>this.l(I)&&0>y.l(I))return c(this.m()*y.m());for(var v=this.g.length+y.g.length,_=[],x=0;x<2*v;x++)_[x]=0;for(x=0;x<this.g.length;x++)for(var C=0;C<y.g.length;C++){var P=this.i(x)>>>16,T=this.i(x)&65535,G=y.i(C)>>>16,re=y.i(C)&65535;_[2*x+2*C]+=T*re,w(_,2*x+2*C),_[2*x+2*C+1]+=P*re,w(_,2*x+2*C+1),_[2*x+2*C+1]+=T*G,w(_,2*x+2*C+1),_[2*x+2*C+2]+=P*G,w(_,2*x+2*C+2)}for(x=0;x<v;x++)_[x]=_[2*x+1]<<16|_[2*x];for(x=v;x<2*v;x++)_[x]=0;return new o(_,0)};function w(y,v){for(;(y[v]&65535)!=y[v];)y[v+1]+=y[v]>>>16,y[v]&=65535,v++}function S(y,v){this.g=y,this.h=v}function N(y,v){if(A(v))throw Error("division by zero");if(A(y))return new S(p,p);if(k(y))return v=N(R(y),v),new S(R(v.g),R(v.h));if(k(v))return v=N(y,R(v)),new S(R(v.g),v.h);if(30<y.g.length){if(k(y)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,x=v;0>=x.l(y);)_=M(_),x=M(x);var C=L(_,1),P=L(x,1);for(x=L(x,2),_=L(_,2);!A(x);){var T=P.add(x);0>=T.l(y)&&(C=C.add(_),P=T),x=L(x,1),_=L(_,1)}return v=b(y,C.j(v)),new S(C,v)}for(C=p;0<=y.l(v);){for(_=Math.max(1,Math.floor(y.m()/v.m())),x=Math.ceil(Math.log(_)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=c(_),T=P.j(v);k(T)||0<T.l(y);)_-=x,P=c(_),T=P.j(v);A(P)&&(P=g),C=C.add(P),y=b(y,T)}return new S(C,y)}t.A=function(y){return N(this,y).h},t.and=function(y){for(var v=Math.max(this.g.length,y.g.length),_=[],x=0;x<v;x++)_[x]=this.i(x)&y.i(x);return new o(_,this.h&y.h)},t.or=function(y){for(var v=Math.max(this.g.length,y.g.length),_=[],x=0;x<v;x++)_[x]=this.i(x)|y.i(x);return new o(_,this.h|y.h)},t.xor=function(y){for(var v=Math.max(this.g.length,y.g.length),_=[],x=0;x<v;x++)_[x]=this.i(x)^y.i(x);return new o(_,this.h^y.h)};function M(y){for(var v=y.g.length+1,_=[],x=0;x<v;x++)_[x]=y.i(x)<<1|y.i(x-1)>>>31;return new o(_,y.h)}function L(y,v){var _=v>>5;v%=32;for(var x=y.g.length-_,C=[],P=0;P<x;P++)C[P]=0<v?y.i(P+_)>>>v|y.i(P+_+1)<<32-v:y.i(P+_);return new o(C,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ox=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Sr=o}).apply(typeof yy<"u"?yy:typeof self<"u"?self:typeof window<"u"?window:{});var ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ax,po,lx,Pl,af,ux,cx,dx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,m){return a==Array.prototype||a==Object.prototype||(a[h]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ul=="object"&&ul];for(var h=0;h<a.length;++h){var m=a[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var m=r;a=a.split(".");for(var E=0;E<a.length-1;E++){var j=a[E];if(!(j in m))break e;m=m[j]}a=a[a.length-1],E=m[a],h=h(E),h!=E&&h!=null&&e(m,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var m=0,E=!1,j={next:function(){if(!E&&m<a.length){var D=m++;return{value:h(D,a[D]),done:!1}}return E=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,m){return a.call.apply(a.bind,arguments)}function p(a,h,m){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,E),a.apply(h,j)}}return function(){return a.apply(h,arguments)}}function g(a,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function I(a,h){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function A(a,h){function m(){}m.prototype=h.prototype,a.aa=h.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(E,j,D){for(var W=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)W[Ee-2]=arguments[Ee];return h.prototype[j].apply(E,W)}}function k(a){const h=a.length;if(0<h){const m=Array(h);for(let E=0;E<h;E++)m[E]=a[E];return m}return[]}function R(a,h){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const j=a.length||0,D=E.length||0;a.length=j+D;for(let W=0;W<D;W++)a[j+W]=E[W]}else a.push(E)}}class b{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function N(a){return N[" "](a),a}N[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(a,h,m){for(const E in a)h.call(m,a[E],E,a)}function y(a,h){for(const m in a)h.call(void 0,a[m],m,a)}function v(a){const h={};for(const m in a)h[m]=a[m];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,h){let m,E;for(let j=1;j<arguments.length;j++){E=arguments[j];for(m in E)a[m]=E[m];for(let D=0;D<_.length;D++)m=_[D],Object.prototype.hasOwnProperty.call(E,m)&&(a[m]=E[m])}}function C(a){var h=1;a=a.split(":");const m=[];for(;0<h&&a.length;)m.push(a.shift()),h--;return a.length&&m.push(a.join(":")),m}function P(a){l.setTimeout(()=>{throw a},0)}function T(){var a=z;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class G{constructor(){this.h=this.g=null}add(h,m){const E=re.get();E.set(h,m),this.h?this.h.next=E:this.g=E,this.h=E}}var re=new b(()=>new X,a=>a.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,B=!1,z=new G,H=()=>{const a=l.Promise.resolve(void 0);oe=()=>{a.then(te)}};var te=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(m){P(m)}var h=re;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}B=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,h),l.removeEventListener("test",m,h)}catch{}return a}();function Ke(a,h){if(Z.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(M){e:{try{N(h.nodeName);var j=!0;break e}catch{}j=!1}j||(h=null)}}else m=="mouseover"?h=a.fromElement:m=="mouseout"&&(h=a.toElement);this.relatedTarget=h,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:It[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ke.aa.h.call(this)}}A(Ke,Z);var It={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),ba=0;function V(a,h,m,E,j){this.listener=a,this.proxy=null,this.src=h,this.type=m,this.capture=!!E,this.ha=j,this.key=++ba,this.da=this.fa=!1}function me(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $r(a){this.src=a,this.g={},this.h=0}$r.prototype.add=function(a,h,m,E,j){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var W=Ht(a,h,E,j);return-1<W?(h=a[W],m||(h.fa=!1)):(h=new V(h,this.src,D,!!E,j),h.fa=m,a.push(h)),h};function Si(a,h){var m=h.type;if(m in a.g){var E=a.g[m],j=Array.prototype.indexOf.call(E,h,void 0),D;(D=0<=j)&&Array.prototype.splice.call(E,j,1),D&&(me(h),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Ht(a,h,m,E){for(var j=0;j<a.length;++j){var D=a[j];if(!D.da&&D.listener==h&&D.capture==!!m&&D.ha==E)return j}return-1}var Yn="closure_lm_"+(1e6*Math.random()|0),Fs={};function Ia(a,h,m,E,j){if(Array.isArray(h)){for(var D=0;D<h.length;D++)Ia(a,h[D],m,E,j);return null}return m=Cm(m),a&&a[Le]?a.K(h,m,c(E)?!!E.capture:!1,j):Dt(a,h,m,!1,E,j)}function Dt(a,h,m,E,j,D){if(!h)throw Error("Invalid event type");var W=c(j)?!!j.capture:!!j,Ee=Mc(a);if(Ee||(a[Yn]=Ee=new $r(a)),m=Ee.add(h,m,E,W,D),m.proxy)return m;if(E=Wr(),m.proxy=E,E.src=a,E.listener=m,a.addEventListener)Se||(j=W),j===void 0&&(j=!1),a.addEventListener(h.toString(),E,j);else if(a.attachEvent)a.attachEvent(Im(h.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Wr(){function a(m){return h.call(a.src,a.listener,m)}const h=k1;return a}function Ca(a,h,m,E,j){if(Array.isArray(h))for(var D=0;D<h.length;D++)Ca(a,h[D],m,E,j);else E=c(E)?!!E.capture:!!E,m=Cm(m),a&&a[Le]?(a=a.i,h=String(h).toString(),h in a.g&&(D=a.g[h],m=Ht(D,m,E,j),-1<m&&(me(D[m]),Array.prototype.splice.call(D,m,1),D.length==0&&(delete a.g[h],a.h--)))):a&&(a=Mc(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Ht(h,m,E,j)),(m=-1<a?h[a]:null)&&Dc(m))}function Dc(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Le])Si(h.i,a);else{var m=a.type,E=a.proxy;h.removeEventListener?h.removeEventListener(m,E,a.capture):h.detachEvent?h.detachEvent(Im(m),E):h.addListener&&h.removeListener&&h.removeListener(E),(m=Mc(h))?(Si(m,a),m.h==0&&(m.src=null,h[Yn]=null)):me(a)}}}function Im(a){return a in Fs?Fs[a]:Fs[a]="on"+a}function k1(a,h){if(a.da)a=!0;else{h=new Ke(h,this);var m=a.listener,E=a.ha||a.src;a.fa&&Dc(a),a=m.call(E,h)}return a}function Mc(a){return a=a[Yn],a instanceof $r?a:null}var Lc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(a){return typeof a=="function"?a:(a[Lc]||(a[Lc]=function(h){return a.handleEvent(h)}),a[Lc])}function at(){J.call(this),this.i=new $r(this),this.M=this,this.F=null}A(at,J),at.prototype[Le]=!0,at.prototype.removeEventListener=function(a,h,m,E){Ca(this,a,h,m,E)};function yt(a,h){var m,E=a.F;if(E)for(m=[];E;E=E.F)m.push(E);if(a=a.M,E=h.type||h,typeof h=="string")h=new Z(h,a);else if(h instanceof Z)h.target=h.target||a;else{var j=h;h=new Z(E,a),x(h,j)}if(j=!0,m)for(var D=m.length-1;0<=D;D--){var W=h.g=m[D];j=Aa(W,E,!0,h)&&j}if(W=h.g=a,j=Aa(W,E,!0,h)&&j,j=Aa(W,E,!1,h)&&j,m)for(D=0;D<m.length;D++)W=h.g=m[D],j=Aa(W,E,!1,h)&&j}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var m=a.g[h],E=0;E<m.length;E++)me(m[E]);delete a.g[h],a.h--}}this.F=null},at.prototype.K=function(a,h,m,E){return this.i.add(String(a),h,!1,m,E)},at.prototype.L=function(a,h,m,E){return this.i.add(String(a),h,!0,m,E)};function Aa(a,h,m,E){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var j=!0,D=0;D<h.length;++D){var W=h[D];if(W&&!W.da&&W.capture==m){var Ee=W.listener,et=W.ha||W.src;W.fa&&Si(a.i,W),j=Ee.call(et,E)!==!1&&j}}return j&&!E.defaultPrevented}function Am(a,h,m){if(typeof a=="function")m&&(a=g(a,m));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Pm(a){a.g=Am(()=>{a.g=null,a.i&&(a.i=!1,Pm(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class R1 extends J{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Pm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(a){J.call(this),this.h=a,this.g={}}A(Us,J);var km=[];function Rm(a){L(a.g,function(h,m){this.g.hasOwnProperty(m)&&Dc(h)},a),a.g={}}Us.prototype.N=function(){Us.aa.N.call(this),Rm(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vc=l.JSON.stringify,N1=l.JSON.parse,j1=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Fc(){}Fc.prototype.h=null;function Nm(a){return a.h||(a.h=a.i())}function jm(){}var zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uc(){Z.call(this,"d")}A(Uc,Z);function zc(){Z.call(this,"c")}A(zc,Z);var Hr={},Om=null;function Pa(){return Om=Om||new at}Hr.La="serverreachability";function Dm(a){Z.call(this,Hr.La,a)}A(Dm,Z);function Bs(a){const h=Pa();yt(h,new Dm(h))}Hr.STAT_EVENT="statevent";function Mm(a,h){Z.call(this,Hr.STAT_EVENT,a),this.stat=h}A(Mm,Z);function _t(a){const h=Pa();yt(h,new Mm(h,a))}Hr.Ma="timingevent";function Lm(a,h){Z.call(this,Hr.Ma,a),this.size=h}A(Lm,Z);function $s(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Ws(){this.g=!0}Ws.prototype.xa=function(){this.g=!1};function O1(a,h,m,E,j,D){a.info(function(){if(a.g)if(D)for(var W="",Ee=D.split("&"),et=0;et<Ee.length;et++){var ye=Ee[et].split("=");if(1<ye.length){var lt=ye[0];ye=ye[1];var ut=lt.split("_");W=2<=ut.length&&ut[1]=="type"?W+(lt+"="+ye+"&"):W+(lt+"=redacted&")}}else W=null;else W=D;return"XMLHTTP REQ ("+E+") [attempt "+j+"]: "+h+`
`+m+`
`+W})}function D1(a,h,m,E,j,D,W){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+j+"]: "+h+`
`+m+`
`+D+" "+W})}function Ti(a,h,m,E){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+L1(a,m)+(E?" "+E:"")})}function M1(a,h){a.info(function(){return"TIMEOUT: "+h})}Ws.prototype.info=function(){};function L1(a,h){if(!a.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var E=m[a];if(!(2>E.length)){var j=E[1];if(Array.isArray(j)&&!(1>j.length)){var D=j[0];if(D!="noop"&&D!="stop"&&D!="close")for(var W=1;W<j.length;W++)j[W]=""}}}}return Vc(m)}catch{return h}}var ka={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bc;function Ra(){}A(Ra,Fc),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},Bc=new Ra;function Jn(a,h,m,E){this.j=a,this.i=h,this.l=m,this.R=E||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fm}function Fm(){this.i=null,this.g="",this.h=!1}var Um={},$c={};function Wc(a,h,m){a.L=1,a.v=Da(In(h)),a.m=m,a.P=!0,zm(a,null)}function zm(a,h){a.F=Date.now(),Na(a),a.A=In(a.v);var m=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),tg(m.i,"t",E),a.C=0,m=a.j.J,a.h=new Fm,a.g=_g(a.j,m?h:null,!a.m),0<a.O&&(a.M=new R1(g(a.Y,a,a.g),a.O)),h=a.U,m=a.g,E=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(km[0]=j.toString()),j=km);for(var D=0;D<j.length;D++){var W=Ia(m,j[D],E||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Bs(),O1(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;const h=this.M;h&&Cn(a)==3?h.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{const ut=Cn(this.g);var h=this.g.Ba();const Ci=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||lg(this.g)))){this.J||ut!=4||h==7||(h==8||0>=Ci?Bs(3):Bs(2)),Hc(this);var m=this.g.Z();this.X=m;t:if(Bm(this)){var E=lg(this.g);a="";var j=E.length,D=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Hs(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<j;h++)this.h.h=!0,a+=this.h.i.decode(E[h],{stream:!(D&&h==j-1)});E.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,D1(this.i,this.u,this.A,this.l,this.R,ut,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,et=this.g;if((Ee=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ee)){var ye=Ee;break t}}ye=null}if(m=ye)Ti(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,m);else{this.o=!1,this.s=3,_t(12),qr(this),Hs(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<W.length;)if(Zt=V1(this,W),Zt==$c){ut==4&&(this.s=4,_t(14),m=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Um){this.s=4,_t(15),Ti(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else Ti(this.i,this.l,Zt,null),qc(this,Zt);if(Bm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||W.length!=0||this.h.h||(this.s=1,_t(16),m=!1),this.o=this.o&&m,!m)Ti(this.i,this.l,W,"[Invalid Chunked Response]"),qr(this),Hs(this);else if(0<W.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Xc(lt),lt.M=!0,_t(11))}}else Ti(this.i,this.l,W,null),qc(this,W);ut==4&&qr(this),this.o&&!this.J&&(ut==4?mg(this.j,this):(this.o=!1,Na(this)))}else tT(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),qr(this),Hs(this)}}}catch{}finally{}};function Bm(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function V1(a,h){var m=a.C,E=h.indexOf(`
`,m);return E==-1?$c:(m=Number(h.substring(m,E)),isNaN(m)?Um:(E+=1,E+m>h.length?$c:(h=h.slice(E,E+m),a.C=E+m,h)))}Jn.prototype.cancel=function(){this.J=!0,qr(this)};function Na(a){a.S=Date.now()+a.I,$m(a,a.I)}function $m(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=$s(g(a.ba,a),h)}function Hc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(M1(this.i,this.A),this.L!=2&&(Bs(),_t(17)),qr(this),this.s=2,Hs(this)):$m(this,this.S-a)};function Hs(a){a.j.G==0||a.J||mg(a.j,a)}function qr(a){Hc(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Rm(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function qc(a,h){try{var m=a.j;if(m.G!=0&&(m.g==a||Gc(m.h,a))){if(!a.K&&Gc(m.h,a)&&m.G==3){try{var E=m.Da.g.parse(h)}catch{E=null}if(Array.isArray(E)&&E.length==3){var j=E;if(j[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)za(m),Fa(m);else break e;Jc(m),_t(18)}}else m.za=j[1],0<m.za-m.T&&37500>j[2]&&m.F&&m.v==0&&!m.C&&(m.C=$s(g(m.Za,m),6e3));if(1>=qm(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Kr(m,11)}else if((a.K||m.g==a)&&za(m),!w(h))for(j=m.Da.g.parse(h),h=0;h<j.length;h++){let ye=j[h];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];const lt=ye[3];lt!=null&&(m.la=lt,m.j.info("VER="+m.la));const ut=ye[4];ut!=null&&(m.Aa=ut,m.j.info("SVER="+m.Aa));const Ci=ye[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(E=1.5*Ci,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const Zt=a.g;if(Zt){const $a=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var D=E.h;D.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Kc(D,D.h),D.h=null))}if(E.D){const Zc=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zc&&(E.ya=Zc,Te(E.I,E.D,Zc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var W=a;if(E.qa=yg(E,E.J?E.ia:null,E.W),W.K){Gm(E.h,W);var Ee=W,et=E.L;et&&(Ee.I=et),Ee.B&&(Hc(Ee),Na(Ee)),E.g=W}else fg(E);0<m.i.length&&Ua(m)}else ye[0]!="stop"&&ye[0]!="close"||Kr(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Kr(m,7):Yc(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}Bs(4)}catch{}}var F1=class{constructor(a,h){this.g=a,this.map=h}};function Wm(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function qm(a){return a.h?1:a.g?a.g.size:0}function Gc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Kc(a,h){a.g?a.g.add(h):a.h=h}function Gm(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Wm.prototype.cancel=function(){if(this.i=Km(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Km(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const m of a.g.values())h=h.concat(m.D);return h}return k(a.i)}function U1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],m=a.length,E=0;E<m;E++)h.push(a[E]);return h}h=[],m=0;for(E in a)h[m++]=a[E];return h}function z1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var m=0;m<a;m++)h.push(m);return h}h=[],m=0;for(const E in a)h[m++]=E;return h}}}function Qm(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var m=z1(a),E=U1(a),j=E.length,D=0;D<j;D++)h.call(void 0,E[D],m&&m[D],a)}var Ym=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B1(a,h){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var E=a[m].indexOf("="),j=null;if(0<=E){var D=a[m].substring(0,E);j=a[m].substring(E+1)}else D=a[m];h(D,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Gr){this.h=a.h,ja(this,a.j),this.o=a.o,this.g=a.g,Oa(this,a.s),this.l=a.l;var h=a.i,m=new Ks;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Jm(this,m),this.m=a.m}else a&&(h=String(a).match(Ym))?(this.h=!1,ja(this,h[1]||"",!0),this.o=qs(h[2]||""),this.g=qs(h[3]||"",!0),Oa(this,h[4]),this.l=qs(h[5]||"",!0),Jm(this,h[6]||"",!0),this.m=qs(h[7]||"")):(this.h=!1,this.i=new Ks(null,this.h))}Gr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Gs(h,Xm,!0),":");var m=this.g;return(m||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Gs(h,Xm,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Gs(m,m.charAt(0)=="/"?H1:W1,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Gs(m,G1)),a.join("")};function In(a){return new Gr(a)}function ja(a,h,m){a.j=m?qs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Oa(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Jm(a,h,m){h instanceof Ks?(a.i=h,K1(a.i,a.h)):(m||(h=Gs(h,q1)),a.i=new Ks(h,a.h))}function Te(a,h,m){a.i.set(h,m)}function Da(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function qs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Gs(a,h,m){return typeof a=="string"?(a=encodeURI(a).replace(h,$1),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xm=/[#\/\?@]/g,W1=/[#\?:]/g,H1=/[#\?]/g,q1=/[#\?@]/g,G1=/#/g;function Ks(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Xn(a){a.g||(a.g=new Map,a.h=0,a.i&&B1(a.i,function(h,m){a.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Ks.prototype,t.add=function(a,h){Xn(this),this.i=null,a=bi(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(h),this.h+=1,this};function Zm(a,h){Xn(a),h=bi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function eg(a,h){return Xn(a),h=bi(a,h),a.g.has(h)}t.forEach=function(a,h){Xn(this),this.g.forEach(function(m,E){m.forEach(function(j){a.call(h,j,E,this)},this)},this)},t.na=function(){Xn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let E=0;E<h.length;E++){const j=a[E];for(let D=0;D<j.length;D++)m.push(h[E])}return m},t.V=function(a){Xn(this);let h=[];if(typeof a=="string")eg(this,a)&&(h=h.concat(this.g.get(bi(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)h=h.concat(a[m])}return h},t.set=function(a,h){return Xn(this),this.i=null,a=bi(this,a),eg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function tg(a,h,m){Zm(a,h),0<m.length&&(a.i=null,a.g.set(bi(a,h),k(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var E=h[m];const D=encodeURIComponent(String(E)),W=this.V(E);for(E=0;E<W.length;E++){var j=D;W[E]!==""&&(j+="="+encodeURIComponent(String(W[E]))),a.push(j)}}return this.i=a.join("&")};function bi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function K1(a,h){h&&!a.j&&(Xn(a),a.i=null,a.g.forEach(function(m,E){var j=E.toLowerCase();E!=j&&(Zm(this,E),tg(this,j,m))},a)),a.j=h}function Q1(a,h){const m=new Ws;if(l.Image){const E=new Image;E.onload=I(Zn,m,"TestLoadImage: loaded",!0,h,E),E.onerror=I(Zn,m,"TestLoadImage: error",!1,h,E),E.onabort=I(Zn,m,"TestLoadImage: abort",!1,h,E),E.ontimeout=I(Zn,m,"TestLoadImage: timeout",!1,h,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else h(!1)}function Y1(a,h){const m=new Ws,E=new AbortController,j=setTimeout(()=>{E.abort(),Zn(m,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:E.signal}).then(D=>{clearTimeout(j),D.ok?Zn(m,"TestPingServer: ok",!0,h):Zn(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(j),Zn(m,"TestPingServer: error",!1,h)})}function Zn(a,h,m,E,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),E(m)}catch{}}function J1(){this.g=new j1}function X1(a,h,m){const E=m||"";try{Qm(a,function(j,D){let W=j;c(j)&&(W=Vc(j)),h.push(E+D+"="+encodeURIComponent(W))})}catch(j){throw h.push(E+"type="+encodeURIComponent("_badmap")),j}}function Ma(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ma,Fc),Ma.prototype.g=function(){return new La(this.l,this.j)},Ma.prototype.i=function(a){return function(){return a}}({});function La(a,h){at.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(La,at),t=La.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Ys(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ng(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ng(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Qs(this):Ys(this),this.readyState==3&&ng(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Qs(this))},t.Qa=function(a){this.g&&(this.response=a,Qs(this))},t.ga=function(){this.g&&Qs(this)};function Qs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ys(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=h.next();return a.join(`\r
`)};function Ys(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function rg(a){let h="";return L(a,function(m,E){h+=E,h+=":",h+=m,h+=`\r
`}),h}function Qc(a,h,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=rg(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Te(a,h,m))}function De(a){at.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(De,at);var Z1=/^https?$/i,eT=["POST","PUT"];t=De.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bc.g(),this.v=this.o?Nm(this.o):Nm(Bc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(D){ig(this,D);return}if(a=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var j in E)m.set(j,E[j]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const D of E.keys())m.set(D,E.get(D));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(D=>D.toLowerCase()=="content-type"),j=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(eT,h,void 0))||E||j||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,W]of m)this.g.setRequestHeader(D,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ag(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){ig(this,D)}};function ig(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,sg(a),Va(a)}function sg(a){a.A||(a.A=!0,yt(a,"complete"),yt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,yt(this,"complete"),yt(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?og(this):this.bb())},t.bb=function(){og(this)};function og(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Cn(a)!=4||a.Z()!=2)){if(a.u&&Cn(a)==4)Am(a.Ea,0,a);else if(yt(a,"readystatechange"),Cn(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var E;if(E=W===0){var j=String(a.D).match(Ym)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),E=!Z1.test(j?j.toLowerCase():"")}m=E}if(m)yt(a,"complete"),yt(a,"success");else{a.m=6;try{var D=2<Cn(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",sg(a)}}finally{Va(a)}}}}function Va(a,h){if(a.g){ag(a);const m=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||yt(a,"ready");try{m.onreadystatechange=E}catch{}}}function ag(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Cn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),N1(h)}};function lg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tT(a){const h={};a=(a.g&&2<=Cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(w(a[E]))continue;var m=C(a[E]);const j=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const D=h[j]||[];h[j]=D,D.push(m)}y(h,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(a,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||h}function ug(a){this.Aa=0,this.i=[],this.j=new Ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,a),this.cb=Js("retryDelaySeedMs",1e4,a),this.Wa=Js("forwardChannelMaxRetries",2,a),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Wm(a&&a.concurrentRequestLimit),this.Da=new J1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ug.prototype,t.la=8,t.G=1,t.connect=function(a,h,m,E){_t(0),this.W=a,this.H=h||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=yg(this,null,this.W),Ua(this)};function Yc(a){if(cg(a),a.G==3){var h=a.U++,m=In(a.I);if(Te(m,"SID",a.K),Te(m,"RID",h),Te(m,"TYPE","terminate"),Xs(a,m),h=new Jn(a,a.j,h),h.L=2,h.v=Da(In(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=h.v,m=!0),m||(h.g=_g(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Na(h)}vg(a)}function Fa(a){a.g&&(Xc(a),a.g.cancel(),a.g=null)}function cg(a){Fa(a),a.u&&(l.clearTimeout(a.u),a.u=null),za(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ua(a){if(!Hm(a.h)&&!a.s){a.s=!0;var h=a.Ga;oe||H(),B||(oe(),B=!0),z.add(h,a),a.B=0}}function nT(a,h){return qm(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=$s(g(a.Ga,a,h),gg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new Jn(this,this.j,a);let D=this.o;if(this.S&&(D?(D=v(D),x(D,this.S)):D=this.S),this.m!==null||this.O||(j.H=D,D=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(h+=E,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=hg(this,j,h),m=In(this.I),Te(m,"RID",a),Te(m,"CVER",22),this.D&&Te(m,"X-HTTP-Session-Id",this.D),Xs(this,m),D&&(this.O?h="headers="+encodeURIComponent(String(rg(D)))+"&"+h:this.m&&Qc(m,this.m,D)),Kc(this.h,j),this.Ua&&Te(m,"TYPE","init"),this.P?(Te(m,"$req",h),Te(m,"SID","null"),j.T=!0,Wc(j,m,null)):Wc(j,m,h),this.G=2}}else this.G==3&&(a?dg(this,a):this.i.length==0||Hm(this.h)||dg(this))};function dg(a,h){var m;h?m=h.l:m=a.U++;const E=In(a.I);Te(E,"SID",a.K),Te(E,"RID",m),Te(E,"AID",a.T),Xs(a,E),a.m&&a.o&&Qc(E,a.m,a.o),m=new Jn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),h&&(a.i=h.D.concat(a.i)),h=hg(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Kc(a.h,m),Wc(m,E,h)}function Xs(a,h){a.H&&L(a.H,function(m,E){Te(h,E,m)}),a.l&&Qm({},function(m,E){Te(h,E,m)})}function hg(a,h,m){m=Math.min(a.i.length,m);var E=a.l?g(a.l.Na,a.l,a):null;e:{var j=a.i;let D=-1;for(;;){const W=["count="+m];D==-1?0<m?(D=j[0].g,W.push("ofs="+D)):D=0:W.push("ofs="+D);let Ee=!0;for(let et=0;et<m;et++){let ye=j[et].g;const lt=j[et].map;if(ye-=D,0>ye)D=Math.max(0,j[et].g-100),Ee=!1;else try{X1(lt,W,"req"+ye+"_")}catch{E&&E(lt)}}if(Ee){E=W.join("&");break e}}}return a=a.i.splice(0,m),h.D=a,E}function fg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;oe||H(),B||(oe(),B=!0),z.add(h,a),a.v=0}}function Jc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=$s(g(a.Fa,a),gg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,pg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=$s(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Fa(this),pg(this))};function Xc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function pg(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=In(a.qa);Te(h,"RID","rpc"),Te(h,"SID",a.K),Te(h,"AID",a.T),Te(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(h,"TO",a.ja),Te(h,"TYPE","xmlhttp"),Xs(a,h),a.m&&a.o&&Qc(h,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Da(In(h)),m.m=null,m.P=!0,zm(m,a)}t.Za=function(){this.C!=null&&(this.C=null,Fa(this),Jc(this),_t(19))};function za(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function mg(a,h){var m=null;if(a.g==h){za(a),Xc(a),a.g=null;var E=2}else if(Gc(a.h,h))m=h.D,Gm(a.h,h),E=1;else return;if(a.G!=0){if(h.o)if(E==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var j=a.B;E=Pa(),yt(E,new Lm(E,m)),Ua(a)}else fg(a);else if(j=h.s,j==3||j==0&&0<h.X||!(E==1&&nT(a,h)||E==2&&Jc(a)))switch(m&&0<m.length&&(h=a.h,h.i=h.i.concat(m)),j){case 1:Kr(a,5);break;case 4:Kr(a,10);break;case 3:Kr(a,6);break;default:Kr(a,2)}}}function gg(a,h){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*h}function Kr(a,h){if(a.j.info("Error code "+h),h==2){var m=g(a.fb,a),E=a.Xa;const j=!E;E=new Gr(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ja(E,"https"),Da(E),j?Q1(E.toString(),m):Y1(E.toString(),m)}else _t(2);a.G=0,a.l&&a.l.sa(h),vg(a),cg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function vg(a){if(a.G=0,a.ka=[],a.l){const h=Km(a.h);(h.length!=0||a.i.length!=0)&&(R(a.ka,h),R(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function yg(a,h,m){var E=m instanceof Gr?In(m):new Gr(m);if(E.g!="")h&&(E.g=h+"."+E.g),Oa(E,E.s);else{var j=l.location;E=j.protocol,h=h?h+"."+j.hostname:j.hostname,j=+j.port;var D=new Gr(null);E&&ja(D,E),h&&(D.g=h),j&&Oa(D,j),m&&(D.l=m),E=D}return m=a.D,h=a.ya,m&&h&&Te(E,m,h),Te(E,"VER",a.la),Xs(a,E),E}function _g(a,h,m){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new De(new Ma({eb:m})):new De(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wg(){}t=wg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ba(){}Ba.prototype.g=function(a,h){return new Mt(a,h)};function Mt(a,h){at.call(this),this.g=new ug(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!w(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ii(this)}A(Mt,at),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Yc(this.g)},Mt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Vc(a),a=m);h.i.push(new F1(h.Ya++,a)),h.G==3&&Ua(h)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Yc(this.g),delete this.g,Mt.aa.N.call(this)};function Eg(a){Uc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const m in h){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}A(Eg,Uc);function xg(){zc.call(this),this.status=1}A(xg,zc);function Ii(a){this.g=a}A(Ii,wg),Ii.prototype.ua=function(){yt(this.g,"a")},Ii.prototype.ta=function(a){yt(this.g,new Eg(a))},Ii.prototype.sa=function(a){yt(this.g,new xg)},Ii.prototype.ra=function(){yt(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,dx=function(){return new Ba},cx=function(){return Pa()},ux=Hr,af={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Pl=ka,Vm.COMPLETE="complete",lx=Vm,jm.EventType=zs,zs.OPEN="a",zs.CLOSE="b",zs.ERROR="c",zs.MESSAGE="d",at.prototype.listen=at.prototype.K,po=jm,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,ax=De}).apply(typeof ul<"u"?ul:typeof self<"u"?self:typeof window<"u"?window:{});const _y="@firebase/firestore",wy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new kp("@firebase/firestore");function Pi(){return hi.logLevel}function K(t,...e){if(hi.logLevel<=fe.DEBUG){const n=e.map(jp);hi.debug(`Firestore (${js}): ${t}`,...n)}}function Wn(t,...e){if(hi.logLevel<=fe.ERROR){const n=e.map(jp);hi.error(`Firestore (${js}): ${t}`,...n)}}function vs(t,...e){if(hi.logLevel<=fe.WARN){const n=e.map(jp);hi.warn(`Firestore (${js}): ${t}`,...n)}}function jp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hx(t,r,n)}function hx(t,e,n){let r=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wn(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hx(e,i,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ej{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class tj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nj{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new fx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new ft(e)}}class rj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ij{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ey(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ey(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function lf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ue(r,i);{const s=px(),o=aj(s.encode(xy(t,n)),s.encode(xy(e,n)));return o!==0?o:ue(r,i)}}n+=r>65535?2:1}return ue(t.length,e.length)}function xy(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function aj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ue(t[n],e[n]);return ue(t.length,e.length)}function ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-62135596800,Ty=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ty);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sy)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ty}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new qe(0,0))}static max(){return new ae(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="__name__";class mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=mn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ue(e.length,n.length)}static compareSegments(e,n){const r=mn.isNumericId(e),i=mn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?mn.extractNumericId(e).compare(mn.extractNumericId(n)):lf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Ie extends mn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const lj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends mn{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return lj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===by}static keyField(){return new rt([by])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Y(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Y(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ie.fromString(e))}static fromName(e){return new ee(Ie.fromString(e).popFirst(5))}static empty(){return new ee(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=-1;function uj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Pr(i,ee.empty(),e)}function cj(t){return new Pr(t.readTime,t.key,Zo)}class Pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(ae.min(),ee.empty(),Zo)}static max(){return new Pr(ae.max(),ee.empty(),Zo)}}function dj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==hj)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function pj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ds(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function fc(t){return t==null}function Su(t){return t===0&&1/t==-1/0}function mj(t){return typeof t=="number"&&Number.isInteger(t)&&!Su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="";function gj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Iy(e)),e=vj(t.get(n),e);return Iy(e)}function vj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case gx:n+="";break;default:n+=s}}return n}function Iy(t){return t+gx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ur(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cl(this.root,e,this.comparator,!0)}}class cl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nt.RED,this.left=i??nt.EMPTY,this.right=s??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Ft([])}unionWith(e){let n=new Ge(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ft(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yx("Invalid base64 string: "+s):s}}(e);return new ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=yj.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="server_timestamp",wx="__type__",Ex="__previous_value__",xx="__local_write_time__";function Dp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wx])===null||n===void 0?void 0:n.stringValue)===_x}function pc(t){const e=t.mapValue.fields[Ex];return Dp(e)?pc(e):e}function ea(t){const e=kr(t.mapValue.fields[xx].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n,r,i,s,o,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const Tu="(default)";class ta{constructor(e,n){this.projectId=e,this.database=n||Tu}static empty(){return new ta("","")}get isDefaultDatabase(){return this.database===Tu}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="__type__",wj="__max__",dl={mapValue:{}},Tx="__vector__",bu="value";function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dp(t)?4:xj(t)?9007199254740991:Ej(t)?10:11:se(28295,{value:t})}function Sn(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ea(t).isEqual(ea(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=kr(i.timestampValue),l=kr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rr(i.bytesValue).isEqual(Rr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ve(i.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ve(i.integerValue)===Ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ve(i.doubleValue),l=Ve(s.doubleValue);return o===l?Su(o)===Su(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Cy(o)!==Cy(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Sn(o[u],l[u])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function na(t,e){return(t.values||[]).find(n=>Sn(n,e))!==void 0}function _s(t,e){if(t===e)return 0;const n=Nr(t),r=Nr(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ve(s.integerValue||s.doubleValue),u=Ve(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Py(t.timestampValue,e.timestampValue);case 4:return Py(ea(t),ea(e));case 5:return lf(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Rr(s),u=Rr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=ue(l[c],u[c]);if(f!==0)return f}return ue(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ue(Ve(s.latitude),Ve(o.latitude));return l!==0?l:ue(Ve(s.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ky(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,f;const p=s.fields||{},g=o.fields||{},I=(l=p[bu])===null||l===void 0?void 0:l.arrayValue,A=(u=g[bu])===null||u===void 0?void 0:u.arrayValue,k=ue(((c=I==null?void 0:I.values)===null||c===void 0?void 0:c.length)||0,((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:ky(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===dl.mapValue&&o===dl.mapValue)return 0;if(s===dl.mapValue)return 1;if(o===dl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=lf(u[p],f[p]);if(g!==0)return g;const I=_s(l[u[p]],c[f[p]]);if(I!==0)return I}return ue(u.length,f.length)}(t.mapValue,e.mapValue);default:throw se(23264,{Pe:n})}}function Py(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=kr(t),r=kr(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function ky(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_s(n[i],r[i]);if(s)return s}return ue(n.length,r.length)}function ws(t){return uf(t)}function uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${uf(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function kl(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(t);return e?16+kl(e):16;case 5:return 2*t.stringValue.length;case 6:return Rr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+kl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ur(r.fields,(s,o)=>{i+=s.length+kl(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function Ry(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cf(t){return!!t&&"integerValue"in t}function Mp(t){return!!t&&"arrayValue"in t}function Ny(t){return!!t&&"nullValue"in t}function jy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rl(t){return!!t&&"mapValue"in t}function Ej(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sx])===null||n===void 0?void 0:n.stringValue)===Tx}function Co(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ur(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Co(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Co(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(n)}setAll(e){let n=rt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Co(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Rl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ur(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(Co(this.value))}}function bx(t){const e=[];return Ur(t.fields,(n,r)=>{const i=new rt([n]);if(Rl(r)){const s=bx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ft(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new mt(e,0,ae.min(),ae.min(),ae.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,ae.min(),ae.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ae.min(),ae.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.position=e,this.inclusive=n}}function Oy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=_s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{}class $e extends Ix{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bj(e,n,r):n==="array-contains"?new Aj(e,r):n==="in"?new Pj(e,r):n==="not-in"?new kj(e,r):n==="array-contains-any"?new Rj(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ij(e,r):new Cj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_s(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends Ix{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new dn(e,n)}matches(e){return Cx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Cx(t){return t.op==="and"}function Ax(t){return Tj(t)&&Cx(t)}function Tj(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}function df(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+ws(t.value);if(Ax(t))return t.filters.map(e=>df(e)).join(",");{const e=t.filters.map(n=>df(n)).join(",");return`${t.op}(${e})`}}function Px(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Sn(r.value,i.value)}(t,e):t instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Px(o,i.filters[l]),!0):!1}(t,e):void se(19439)}function kx(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${ws(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(kx).join(" ,")+"}"}(t):"Filter"}class bj extends $e{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ij extends $e{constructor(e,n){super(e,"in",n),this.keys=Rx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cj extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Rx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class Aj extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&na(n.arrayValue,this.value)}}class Pj extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&na(this.value.arrayValue,n)}}class kj extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!na(this.value.arrayValue,n)}}class Rj extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>na(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Ie=null}}function My(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nj(t,e,n,r,i,s,o)}function Lp(t){const e=le(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>df(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ws(r)).join(",")),e.Ie=n}return e.Ie}function Vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Px(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dy(t.startAt,e.startAt)&&Dy(t.endAt,e.endAt)}function hf(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jj(t,e,n,r,i,s,o,l){return new pa(t,e,n,r,i,s,o,l)}function Nx(t){return new pa(t)}function Ly(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jx(t){return t.collectionGroup!==null}function Ao(t){const e=le(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ge(rt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Cu(s,r))}),n.has(rt.keyField().canonicalString())||e.Ee.push(new Cu(rt.keyField(),r))}return e.Ee}function _n(t){const e=le(t);return e.de||(e.de=Oj(e,Ao(t))),e.de}function Oj(t,e){if(t.limitType==="F")return My(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cu(i.field,s)});const n=t.endAt?new Iu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Iu(t.startAt.position,t.startAt.inclusive):null;return My(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ff(t,e){const n=t.filters.concat([e]);return new pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pf(t,e,n){return new pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mc(t,e){return Vp(_n(t),_n(e))&&t.limitType===e.limitType}function Ox(t){return`${Lp(_n(t))}|lt:${t.limitType}`}function ki(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kx(i)).join(", ")}]`),fc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ws(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function gc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ao(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=Oy(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ao(r),i)||r.endAt&&!function(o,l,u){const c=Oy(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ao(r),i))}(t,e)}function Dj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Dx(t){return(e,n)=>{let r=!1;for(const i of Ao(t)){const s=Mj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Mj(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?_s(u,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new Oe(ee.comparator);function Hn(){return Lj}const Mx=new Oe(ee.comparator);function mo(...t){let e=Mx;for(const n of t)e=e.insert(n.key,n);return e}function Lx(t){let e=Mx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ti(){return Po()}function Vx(){return Po()}function Po(){return new _i(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vj=new Oe(ee.comparator),Fj=new Ge(ee.comparator);function pe(...t){let e=Fj;for(const n of t)e=e.add(n);return e}const Uj=new Ge(ue);function zj(){return Uj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function Fx(t){return{integerValue:""+t}}function Bj(t,e){return mj(e)?Fx(e):Fp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function $j(t,e,n){return t instanceof Au?function(i,s){const o={fields:{[wx]:{stringValue:_x},[xx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dp(s)&&(s=pc(s)),s&&(o.fields[Ex]=s),{mapValue:o}}(n,e):t instanceof ra?zx(t,e):t instanceof ia?Bx(t,e):function(i,s){const o=Ux(i,s),l=Vy(o)+Vy(i.Re);return cf(o)&&cf(i.Re)?Fx(l):Fp(i.serializer,l)}(t,e)}function Wj(t,e,n){return t instanceof ra?zx(t,e):t instanceof ia?Bx(t,e):n}function Ux(t,e){return t instanceof Pu?function(r){return cf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Au extends vc{}class ra extends vc{constructor(e){super(),this.elements=e}}function zx(t,e){const n=$x(e);for(const r of t.elements)n.some(i=>Sn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ia extends vc{constructor(e){super(),this.elements=e}}function Bx(t,e){let n=$x(e);for(const r of t.elements)n=n.filter(i=>!Sn(i,r));return{arrayValue:{values:n}}}class Pu extends vc{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Vy(t){return Ve(t.integerValue||t.doubleValue)}function $x(t){return Mp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Hj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ra&&i instanceof ra||r instanceof ia&&i instanceof ia?ys(r.elements,i.elements,Sn):r instanceof Pu&&i instanceof Pu?Sn(r.Re,i.Re):r instanceof Au&&i instanceof Au}(t.transform,e.transform)}class qj{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yc{}function Wx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Up(t.key,un.none()):new ma(t.key,t.data,un.none());{const n=t.data,r=kt.empty();let i=new Ge(rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zr(t.key,r,new Ft(i.toArray()),un.none())}}function Gj(t,e,n){t instanceof ma?function(i,s,o){const l=i.value.clone(),u=Uy(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof zr?function(i,s,o){if(!Nl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Uy(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Hx(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ko(t,e,n,r){return t instanceof ma?function(s,o,l,u){if(!Nl(s.precondition,o))return l;const c=s.value.clone(),f=zy(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zr?function(s,o,l,u){if(!Nl(s.precondition,o))return l;const c=zy(s.fieldTransforms,u,o),f=o.data;return f.setAll(Hx(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Nl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Kj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ux(r.transform,i||null);s!=null&&(n===null&&(n=kt.empty()),n.set(r.field,s))}return n||null}function Fy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(s,o)=>Hj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ma extends yc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zr extends yc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Hx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uy(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Wj(o,l,n[i]))}return r}function zy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$j(s,o,e))}return r}class Up extends yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qj extends yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ko(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ko(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=Wx(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(n,r)=>Fy(n,r))&&ys(this.baseMutations,e.baseMutations,(n,r)=>Fy(n,r))}}class zp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Vj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ge;function Zj(t){switch(t){case U.OK:return se(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function qx(t){if(t===void 0)return Wn("GRPC error has no .code"),U.UNKNOWN;switch(t){case ze.OK:return U.OK;case ze.CANCELLED:return U.CANCELLED;case ze.UNKNOWN:return U.UNKNOWN;case ze.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ze.INTERNAL:return U.INTERNAL;case ze.UNAVAILABLE:return U.UNAVAILABLE;case ze.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ze.NOT_FOUND:return U.NOT_FOUND;case ze.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ze.ABORTED:return U.ABORTED;case ze.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ze.DATA_LOSS:return U.DATA_LOSS;default:return se(39323,{code:t})}}(ge=ze||(ze={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new Sr([4294967295,4294967295],0);function By(t){const e=px().encode(t),n=new ox;return n.update(e),new Uint8Array(n.digest())}function $y(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([i,s],0)]}class Bp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Sr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Sr.fromNumber(r)));return i.compare(eO)===1&&(i=new Sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=By(e),[r,i]=$y(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Bp(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=By(e),[r,i]=$y(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ga.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _c(ae.min(),i,new Oe(ue),Hn(),pe())}}class ga{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ga(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class Gx{constructor(e,n){this.targetId=e,this.Ce=n}}class Kx{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wy{constructor(){this.Fe=0,this.Me=Hy(),this.xe=ot.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new ga(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Hy()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tO{constructor(e){this.ze=e,this.je=new Map,this.He=Hn(),this.Je=hl(),this.Ye=hl(),this.Ze=new Oe(ue)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(hf(s))if(r===0){const o=new ee(s.path);this.tt(n,o,mt.newNoDocument(o,ae.min()))}else _e(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),u=l?this.lt(l,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Rr(r).toUint8Array()}catch(u){if(u instanceof yx)return vs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Bp(o,i,s)}catch(u){return vs(u instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const l=this._t(o);if(l){if(s.current&&hf(l.target)){const u=new ee(l.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,mt.newNoDocument(u,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=pe();this.Ye.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new _c(e,n,this.Ze,this.He,r);return this.He=Hn(),this.Je=hl(),this.Ye=hl(),this.Ze=new Oe(ue),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Wy,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ge(ue),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ge(ue),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Wy),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function hl(){return new Oe(ee.comparator)}function Hy(){return new Oe(ee.comparator)}const nO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class sO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mf(t,e){return t.useProto3Json||fc(e)?e:{value:e}}function ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oO(t,e){return ku(t,e.toTimestamp())}function wn(t){return _e(!!t,49232),ae.fromTimestamp(function(n){const r=kr(n);return new qe(r.seconds,r.nanos)}(t))}function $p(t,e){return gf(t,e).canonicalString()}function gf(t,e){const n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Yx(t){const e=Ie.fromString(t);return _e(tS(e),10190,{key:e.toString()}),e}function vf(t,e){return $p(t.databaseId,e.path)}function Bd(t,e){const n=Yx(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(Xx(n))}function Jx(t,e){return $p(t.databaseId,e)}function aO(t){const e=Yx(t);return e.length===4?Ie.emptyPath():Xx(e)}function yf(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Xx(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qy(t,e,n){return{name:vf(t,e),fields:n.value.mapValue.fields}}function lO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(_e(f===void 0||typeof f=="string",58123),ot.fromBase64String(f||"")):(_e(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ot.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const f=c.code===void 0?U.UNKNOWN:qx(c.code);return new Y(f,c.message||"")}(o);n=new Kx(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bd(t,r.document.name),s=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):ae.min(),l=new kt({mapValue:{fields:r.document.fields}}),u=mt.newFoundDocument(i,s,o,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new jl(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bd(t,r.document),s=r.readTime?wn(r.readTime):ae.min(),o=mt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new jl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bd(t,r.document),s=r.removedTargetIds||[];n=new jl([],s,i,null)}else{if(!("filter"in e))return se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Xj(i,s),l=r.targetId;n=new Gx(l,o)}}return n}function uO(t,e){let n;if(e instanceof ma)n={update:qy(t,e.key,e.value)};else if(e instanceof Up)n={delete:vf(t,e.key)};else if(e instanceof zr)n={update:qy(t,e.key,e.data),updateMask:yO(e.fieldMask)};else{if(!(e instanceof Qj))return se(16599,{ft:e.type});n={verify:vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Au)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ra)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ia)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pu)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function cO(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?wn(i.updateTime):wn(s);return o.isEqual(ae.min())&&(o=wn(s)),new qj(o,i.transformResults||[])}(n,e))):[]}function dO(t,e){return{documents:[Jx(t,e.path)]}}function hO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Jx(t,i);const s=function(c){if(c.length!==0)return eS(dn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:Ri(g.field),direction:mO(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=mf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function fO(t){let e=aO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const g=Zx(p);return g instanceof dn&&Ax(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(A){return new Cu(Ni(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,fc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,I=p.values||[];return new Iu(I,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,I=p.values||[];return new Iu(I,g)}(n.endAt)),jj(e,i,o,s,l,"F",u,c)}function pO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ni(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ni(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ni(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ni(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Ni(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(r=>Zx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function mO(t){return nO[t]}function gO(t){return rO[t]}function vO(t){return iO[t]}function Ri(t){return{fieldPath:t.canonicalString()}}function Ni(t){return rt.fromServerFormat(t.fieldPath)}function eS(t){return t instanceof $e?function(n){if(n.op==="=="){if(jy(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NAN"}};if(Ny(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jy(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NAN"}};if(Ny(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ri(n.field),op:gO(n.op),value:n.value}}}(t):t instanceof dn?function(n){const r=n.getFilters().map(i=>eS(i));return r.length===1?r[0]:{compositeFilter:{op:vO(n.op),filters:r}}}(t):se(54877,{filter:t})}function yO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,s=ae.min(),o=ae.min(),l=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.wt=e}}function wO(t){const e=fO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.Cn=new xO}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Pr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class xO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class At{static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(nS,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Es(0)}static lr(){return new Es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LruGarbageCollector",SO=1048576;function Qy([t,e],[n,r]){const i=ue(t,n);return i===0?ue(e,r):i}class TO{constructor(e){this.Er=e,this.buffer=new Ge(Qy),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){K(Ky,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ds(n)?K(Ky,"Ignoring IndexedDB error during garbage collection: ",n):await Os(n)}await this.mr(3e5)})}}class IO{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(hc.le);const r=new TO(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Gy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gy):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Pi()<=fe.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function CO(t,e){return new IO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.changes=new _i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ko(r.mutation,i,Ft.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mo();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Hn();const o=Po(),l=function(){return Po()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof zr)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),ko(f.mutation,c,f.mutation.getFieldMask(),qe.now())):o.set(c.key,Ft.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new PO(f,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Po();let i=new Oe((o,l)=>o-l),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Ft.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||pe()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=Vx();f.forEach(g=>{if(!s.has(g)){const I=Wx(n.get(g),r.get(g));I!==null&&p.set(g,I),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(ti());let l=Zo,u=s;return o.next(c=>F.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,pe())).next(f=>({batchId:l,changes:Lx(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=mo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=mo();return this.indexManager.getCollectionParents(e,s).next(l=>F.forEach(l,u=>{const c=function(p,g){return new pa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,mt.newInvalidDocument(f)))});let l=mo();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&ko(f.mutation,c,Ft.empty(),qe.now()),gc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:wO(i.bundledQuery),readTime:wn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.overlays=new Oe(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ti();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=ti(),s=n.length+1,o=new ee(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=ti(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=ti(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return F.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Jj(n,r));let s=this.Qr.get(n);s===void 0&&(s=pe(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.$r=new Ge(Ye.Ur),this.Kr=new Ge(Ye.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ye(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Ie([])),r=new Ye(n,e),i=new Ye(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Ie([])),r=new Ye(n,e),i=new Ye(n,e+1);let s=pe();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ye(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||ue(e.Zr,n.Zr)}static Wr(e,n){return ue(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ge(Ye.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yj(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new Ye(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Op:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),i=new Ye(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const l=this.ei(o.Zr);s.push(l)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(ue);return n.forEach(i=>{const s=new Ye(i,0),o=new Ye(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],l=>{r=r.add(l.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new Ye(new ee(s),0);let l=new Ge(ue);return this.Xr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.Zr)),!0)},o),F.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,i=>{const s=new Ye(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Ye(n,0),i=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.ii=e,this.docs=function(){return new Oe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hn();const o=n.path,l=new ee(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dj(cj(f),r)<=0||(i.has(f.key)||gc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MO(this)}getSize(e){return F.resolve(this.size)}}class MO extends AO{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.persistence=e,this.oi=new _i(n=>Lp(n),Vp),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new Wp,this.targetCount=0,this.ui=Es.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Es(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.ci={},this.overlays={},this.li=new hc(0),this.hi=!1,this.hi=!0,this.Pi=new jO,this.referenceDelegate=e(this),this.Ti=new LO(this),this.indexManager=new EO,this.remoteDocumentCache=function(i){return new DO(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new _O(n),this.Ei=new RO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new OO(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new VO(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class VO extends fj{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Vi=new Wp,this.mi=null}static fi(e){return new Hp(e)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const i=ee.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ru{constructor(e,n){this.persistence=e,this.yi=new _i(r=>gj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=CO(this,n)}static fi(e,n){return new Ru(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kl(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return MR()?8:pj(vt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new FO;return this.Ss(e,n,o).next(l=>{if(s.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Pi()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Pi()<=fe.DEBUG&&K("QueryEngine","Query:",ki(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Pi()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):F.resolve())}ws(e,n){if(Ly(n))return F.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pf(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.vs(n,l);return this.Cs(n,c,o,u.readTime)?this.ws(e,pf(n,null,"F")):this.Fs(e,c,n,u)}))})))}bs(e,n,r,i){return Ly(n)||i.isEqual(ae.min())?F.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Pi()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ki(n)),this.Fs(e,o,n,uj(i,Zo)).next(l=>l))})}vs(e,n){let r=new Ge(Dx(e));return n.forEach((i,s)=>{gc(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Pi()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ki(n)),this.ys.getDocumentsMatchingQuery(e,n,Pr.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",zO=3e8;class BO{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Oe(ue),this.Os=new _i(s=>Lp(s),Vp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function $O(t,e,n,r){return new BO(t,e,n,r)}async function iS(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=pe();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:l}))})})}function WO(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,g=p.keys();let I=F.resolve();return g.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(k=>{const R=c.docVersions.get(A);_e(R!==null,48541),k.version.compareTo(R)<0&&(p.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),f.addEntry(k)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=pe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sS(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function HO(t,e){const n=le(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;l.push(n.Ti.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(s,f.addedDocuments,p)));let I=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(ot.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(k,R,b){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=zO?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,I,f)&&l.push(n.Ti.updateTargetData(s,I))});let u=Hn(),c=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(qO(s,o,e.documentUpdates).next(f=>{u=f.qs,c=f.Qs})),!r.isEqual(ae.min())){const f=n.Ti.getLastRemoteSnapshotVersion(s).next(p=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return F.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.xs=i,s))}function qO(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hn();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):K(Gp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{qs:o,Qs:i}})}function GO(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KO(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new cr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function _f(t,e,n){const r=le(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ds(o))throw o;K(Gp,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Yy(t,e,n){const r=le(t);let i=ae.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const p=le(u),g=p.Os.get(f);return g!==void 0?F.resolve(p.xs.get(g)):p.Ti.getTargetData(c,f)}(r,o,_n(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:pe())).next(l=>(QO(r,Dj(e),l),{documents:l,$s:s})))}function QO(t,e,n){let r=t.Ns.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class Jy{constructor(){this.activeTargetIds=zj()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YO{constructor(){this.xo=new Jy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Jy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="ConnectivityMonitor";class Zy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){K(Xy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){K(Xy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl=null;function wf(){return fl===null?fl=function(){return 268435456+Math.round(2147483648*Math.random())}():fl++,"0x"+fl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",XO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Tu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=wf(),l=this.jo(e,n.toUriEncodedString());K($d,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,s);const{host:c}=new URL(l),f=Rs(c);return this.Jo(e,l,u,r,f).then(p=>(K($d,`Received RPC '${e}' ${o}: `,p),p),p=>{throw vs($d,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=XO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class tD extends ZO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=wf();return new Promise((l,u)=>{const c=new ax;c.setWithCredentials(!0),c.listenOnce(lx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Pl.NO_ERROR:const p=c.getResponseJson();K(ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Pl.TIMEOUT:K(ht,`RPC '${e}' ${o} timed out`),u(new Y(U.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const g=c.getStatus();if(K(ht,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let I=c.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const k=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(A.status);u(new Y(k,A.message))}else u(new Y(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y(U.UNAVAILABLE,"Connection failed."));break;default:se(9055,{h_:e,streamId:o,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{K(ht,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);K(ht,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}I_(e,n,r){const i=wf(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dx(),l=cx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");K(ht,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);this.E_(p);let g=!1,I=!1;const A=new eD({Zo:R=>{I?K(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(K(ht,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),K(ht,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),k=(R,b,w)=>{R.listen(b,S=>{try{w(S)}catch(N){setTimeout(()=>{throw N},0)}})};return k(p,po.EventType.OPEN,()=>{I||(K(ht,`RPC '${e}' stream ${i} transport opened.`),A.__())}),k(p,po.EventType.CLOSE,()=>{I||(I=!0,K(ht,`RPC '${e}' stream ${i} transport closed`),A.u_(),this.d_(p))}),k(p,po.EventType.ERROR,R=>{I||(I=!0,vs(ht,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),A.u_(new Y(U.UNAVAILABLE,"The operation could not be completed")))}),k(p,po.EventType.MESSAGE,R=>{var b;if(!I){const w=R.data[0];_e(!!w,16349);const S=w,N=(S==null?void 0:S.error)||((b=S[0])===null||b===void 0?void 0:b.error);if(N){K(ht,`RPC '${e}' stream ${i} received error:`,N);const M=N.status;let L=function(_){const x=ze[_];if(x!==void 0)return qx(x)}(M),y=N.message;L===void 0&&(L=U.INTERNAL,y="Unknown error status: "+M+" with message "+N.message),I=!0,A.u_(new Y(L,y)),p.close()}else K(ht,`RPC '${e}' stream ${i} received:`,w),A.c_(w)}}),k(l,ux.STAT_EVENT,R=>{R.stat===af.PROXY?K(ht,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===af.NOPROXY&&K(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){return new sO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="PersistentStream";class aS{constructor(e,n,r,i,s,o,l,u){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new oS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Y(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return K(e_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(K(e_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends aS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=lO(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?wn(o.readTime):ae.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=yf(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=hf(u)?{documents:dO(s,u)}:{query:hO(s,u).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Qx(s,o.resumeToken);const c=mf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){l.readTime=ku(s,o.snapshotVersion.toTimestamp());const c=mf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=pO(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=yf(this.serializer),n.removeTarget=e,this.Q_(n)}}class rD extends aS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=cO(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=yf(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uO(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class sD extends iD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,gf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(U.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,gf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(U.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class oD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wn(n),this.ua=!1):K("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="RemoteStore";class aD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{wi(this)&&(K(fi,"Restarting streams for network reachability change."),await async function(u){const c=le(u);c.da.add(4),await va(c),c.Va.set("Unknown"),c.da.delete(4),await Ec(c)}(this))})}),this.Va=new oD(r,i)}}async function Ec(t){if(wi(t))for(const e of t.Aa)await e(!0)}async function va(t){for(const e of t.Aa)await e(!1)}function lS(t,e){const n=le(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Jp(n)?Yp(n):Ms(n).N_()&&Qp(n,e))}function Kp(t,e){const n=le(t),r=Ms(n);n.Ea.delete(e),r.N_()&&uS(n,e),n.Ea.size===0&&(r.N_()?r.k_():wi(n)&&n.Va.set("Unknown"))}function Qp(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ms(t).Z_(e)}function uS(t,e){t.ma.Ke(e),Ms(t).X_(e)}function Yp(t){t.ma=new tO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ms(t).start(),t.Va.ca()}function Jp(t){return wi(t)&&!Ms(t).O_()&&t.Ea.size>0}function wi(t){return le(t).da.size===0}function cS(t){t.ma=void 0}async function lD(t){t.Va.set("Online")}async function uD(t){t.Ea.forEach((e,n)=>{Qp(t,e)})}async function cD(t,e){cS(t),Jp(t)?(t.Va.Pa(e),Yp(t)):t.Va.set("Unknown")}async function dD(t,e,n){if(t.Va.set("Online"),e instanceof Kx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(r){K(fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nu(t,r)}else if(e instanceof jl?t.ma.Xe(e):e instanceof Gx?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ae.min()))try{const r=await sS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.ma.It(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ea.get(c);f&&s.Ea.set(c,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ea.get(u);if(!f)return;s.Ea.set(u,f.withResumeToken(ot.EMPTY_BYTE_STRING,f.snapshotVersion)),uS(s,u);const p=new cr(f.target,u,c,f.sequenceNumber);Qp(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K(fi,"Failed to raise snapshot:",r),await Nu(t,r)}}async function Nu(t,e,n){if(!Ds(e))throw e;t.da.add(1),await va(t),t.Va.set("Offline"),n||(n=()=>sS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(fi,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Ec(t)})}function dS(t,e){return e().catch(n=>Nu(t,n,e))}async function xc(t){const e=le(t),n=jr(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Op;for(;hD(e);)try{const i=await GO(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,fD(e,i)}catch(i){await Nu(e,i)}hS(e)&&fS(e)}function hD(t){return wi(t)&&t.Ia.length<10}function fD(t,e){t.Ia.push(e);const n=jr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function hS(t){return wi(t)&&!jr(t).O_()&&t.Ia.length>0}function fS(t){jr(t).start()}async function pD(t){jr(t).ia()}async function mD(t){const e=jr(t);for(const n of t.Ia)e.ta(n.mutations)}async function gD(t,e,n){const r=t.Ia.shift(),i=zp.from(r,e,n);await dS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xc(t)}async function vD(t,e){e&&jr(t).ea&&await async function(r,i){if(function(o){return Zj(o)&&o!==U.ABORTED}(i.code)){const s=r.Ia.shift();jr(r).L_(),await dS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xc(r)}}(t,e),hS(t)&&fS(t)}async function t_(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),K(fi,"RemoteStore received new credentials");const r=wi(n);n.da.add(3),await va(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Ec(n)}async function yD(t,e){const n=le(t);e?(n.da.delete(2),await Ec(n)):e||(n.da.add(2),await va(n),n.Va.set("Unknown"))}function Ms(t){return t.fa||(t.fa=function(n,r,i){const s=le(n);return s.oa(),new nD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:lD.bind(null,t),n_:uD.bind(null,t),i_:cD.bind(null,t),Y_:dD.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Jp(t)?Yp(t):t.Va.set("Unknown")):(await t.fa.stop(),cS(t))})),t.fa}function jr(t){return t.ga||(t.ga=function(n,r,i){const s=le(n);return s.oa(),new rD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:pD.bind(null,t),i_:vD.bind(null,t),na:mD.bind(null,t),ra:gD.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await xc(t)):(await t.ga.stop(),t.Ia.length>0&&(K(fi,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Xp(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Ds(t))return new Y(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{static emptySet(e){return new es(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=mo(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof es)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.pa=new Oe(ee.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):se(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class xs{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new xs(e,n,es.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class wD{constructor(){this.queries=r_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=r_(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new Y(U.ABORTED,"Firestore shutting down"))}}function r_(){return new _i(t=>Ox(t),mc)}async function ED(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new _D,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Zp(o,`Initialization of query '${ki(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&em(n)}async function xD(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SD(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Ma(i)&&(r=!0);o.ba=i}}r&&em(n)}function TD(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function em(t){t.Ca.forEach(e=>{e.next()})}var Ef,i_;(i_=Ef||(Ef={})).xa="default",i_.Cache="cache";class bD{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class ID{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.Za=Dx(e),this.Xa=new es(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new n_,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),I=gc(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;g&&I?g.data.isEqual(I.data)?A!==k&&(r.track({type:3,doc:I}),R=!0):this.ru(g,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Za(I,u)>0||c&&this.Za(I,c)<0)&&(l=!0)):!g&&I?(r.track({type:0,doc:I}),R=!0):g&&!I&&(r.track({type:1,doc:g}),R=!0,(u||c)&&(l=!0)),R&&(I?(o=o.add(I),s=k?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Xa:o,nu:r,Cs:l,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((f,p)=>function(I,A){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:R})}};return k(I)-k(A)}(f.type,p.type)||this.Za(f.doc,p.doc)),this.iu(r),i=i!=null&&i;const l=n&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,c=u!==this.Ja;return this.Ja=u,o.length!==0||c?{snapshot:new xs(this.query,e.Xa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new n_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=pe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new mS(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new pS(r))}),n}au(e){this.Ha=e.$s,this.Ya=pe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return xs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const tm="SyncEngine";class CD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AD{constructor(e){this.key=e,this.cu=!1}}class PD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new _i(l=>Ox(l),mc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Oe(ee.comparator),this.Eu=new Map,this.du=new Wp,this.Au={},this.Ru=new Map,this.Vu=Es.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function kD(t,e,n=!0){const r=ES(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await gS(r,e,n,!0),i}async function RD(t,e){const n=ES(t);await gS(n,e,!0,!1)}async function gS(t,e,n,r){const i=await KO(t.localStore,_n(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await ND(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lS(t.remoteStore,i),l}async function ND(t,e,n,r,i){t.fu=(p,g,I)=>async function(k,R,b,w){let S=R.view.tu(b);S.Cs&&(S=await Yy(k.localStore,R.query,!1).then(({documents:y})=>R.view.tu(y,S)));const N=w&&w.targetChanges.get(R.targetId),M=w&&w.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(S,k.isPrimaryClient,N,M);return o_(k,R.targetId,L.ou),L.snapshot}(t,p,g,I);const s=await Yy(t.localStore,e,!0),o=new ID(e,s.$s),l=o.tu(s.documents),u=ga.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);o_(t,n,c.ou);const f=new CD(e,n,o);return t.hu.set(e,f),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}async function jD(t,e,n){const r=le(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!mc(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _f(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kp(r.remoteStore,i.targetId),xf(r,i.targetId)}).catch(Os)):(xf(r,i.targetId),await _f(r.localStore,i.targetId,!0))}async function OD(t,e){const n=le(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kp(n.remoteStore,r.targetId))}async function DD(t,e,n){const r=BD(t);try{const i=await function(o,l){const u=le(o),c=qe.now(),f=l.reduce((I,A)=>I.add(A.key),pe());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Hn(),k=pe();return u.Bs.getEntries(I,f).next(R=>{A=R,A.forEach((b,w)=>{w.isValidDocument()||(k=k.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(R=>{p=R;const b=[];for(const w of l){const S=Kj(w,p.get(w.key).overlayedDocument);S!=null&&b.push(new zr(w.key,S,bx(S.value.mapValue),un.exists(!0)))}return u.mutationQueue.addMutationBatch(I,c,b,l)}).next(R=>{g=R;const b=R.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(I,R.batchId,b)})}).then(()=>({batchId:g.batchId,changes:Lx(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Au[o.currentUser.toKey()];c||(c=new Oe(ue)),c=c.insert(l,u),o.Au[o.currentUser.toKey()]=c}(r,i.batchId,n),await ya(r,i.changes),await xc(r.remoteStore)}catch(i){const s=Zp(i,"Failed to persist write");n.reject(s)}}async function vS(t,e){const n=le(t);try{const r=await HO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?_e(o.cu,14607):i.removedDocuments.size>0&&(_e(o.cu,42227),o.cu=!1))}),await ya(n,r,e)}catch(r){await Os(r)}}function s_(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const l=o.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=le(o);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const g of p.Sa)g.Fa(l)&&(c=!0)}),c&&em(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MD(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Oe(ee.comparator);o=o.insert(s,mt.newNoDocument(s,ae.min()));const l=pe().add(s),u=new _c(ae.min(),new Map,new Oe(ue),o,l);await vS(r,u),r.Iu=r.Iu.remove(s),r.Eu.delete(e),nm(r)}else await _f(r.localStore,e,!1).then(()=>xf(r,e,n)).catch(Os)}async function LD(t,e){const n=le(t),r=e.batch.batchId;try{const i=await WO(n.localStore,e);_S(n,r,null),yS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ya(n,i)}catch(i){await Os(i)}}async function VD(t,e,n){const r=le(t);try{const i=await function(o,l){const u=le(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(_e(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);_S(r,e,n),yS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ya(r,i)}catch(i){await Os(i)}}function yS(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function _S(t,e,n){const r=le(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function xf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||wS(t,r)})}function wS(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Kp(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),nm(t))}function o_(t,e,n){for(const r of n)r instanceof pS?(t.du.addReference(r.key,e),FD(t,r)):r instanceof mS?(K(tm,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||wS(t,r.key)):se(19791,{pu:r})}function FD(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(K(tm,"New document in limbo: "+n),t.Tu.add(r),nm(t))}function nm(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ee(Ie.fromString(e)),r=t.Vu.next();t.Eu.set(r,new AD(n)),t.Iu=t.Iu.insert(n,r),lS(t.remoteStore,new cr(_n(Nx(n.path)),r,"TargetPurposeLimboResolution",hc.le))}}async function ya(t,e,n){const r=le(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((l,u)=>{o.push(r.fu(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=qp.Rs(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(u,c){const f=le(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(c,g=>F.forEach(g.ds,I=>f.persistence.referenceDelegate.addReference(p,g.targetId,I)).next(()=>F.forEach(g.As,I=>f.persistence.referenceDelegate.removeReference(p,g.targetId,I)))))}catch(p){if(!Ds(p))throw p;K(Gp,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const I=f.xs.get(g),A=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(A);f.xs=f.xs.insert(g,k)}}}(r.localStore,s))}async function UD(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){K(tm,"User change. New user:",e.toKey());const r=await iS(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new Y(U.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ya(n,r.ks)}}function zD(t,e){const n=le(t),r=n.Eu.get(e);if(r&&r.cu)return pe().add(r.key);{let i=pe();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const l=n.hu.get(o);i=i.unionWith(l.view.eu)}return i}}function ES(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MD.bind(null,e),e.lu.Y_=SD.bind(null,e.eventManager),e.lu.gu=TD.bind(null,e.eventManager),e}function BD(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,e),e}class ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return $O(this.persistence,new UO,e.initialUser,this.serializer)}Su(e){return new rS(Hp.fi,this.serializer)}bu(e){return new YO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ju.provider={build:()=>new ju};class $D extends ju{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){_e(this.persistence.referenceDelegate instanceof Ru,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bO(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?At.withCacheSize(this.cacheSizeBytes):At.DEFAULT;return new rS(r=>Ru.fi(r,n),this.serializer)}}class Sf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wD}()}createDatastore(e){const n=wc(e.databaseInfo.databaseId),r=function(s){return new tD(s)}(e.databaseInfo);return function(s,o,l,u){return new sD(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new aD(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>s_(this.syncEngine,n,0),function(){return Zy.C()?new Zy:new JO}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,f){const p=new PD(i,s,o,l,u,c);return f&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);K(fi,"RemoteStore shutting down."),s.da.add(5),await va(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sf.provider={build:()=>new Sf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class HD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=mx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(Or,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(Or,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hd(t,e){t.asyncQueue.verifyOperationInProgress(),K(Or,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function a_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qD(t);K(Or,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>t_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>t_(e.remoteStore,i)),t._onlineComponents=e}async function qD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Or,"Using user provided OfflineComponentProvider");try{await Hd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vs("Error using user provided cache. Falling back to memory cache: "+n),await Hd(t,new ju)}}else K(Or,"Using default OfflineComponentProvider"),await Hd(t,new $D(void 0));return t._offlineComponents}async function xS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Or,"Using user provided OnlineComponentProvider"),await a_(t,t._uninitializedComponentsProvider._online)):(K(Or,"Using default OnlineComponentProvider"),await a_(t,new Sf))),t._onlineComponents}function GD(t){return xS(t).then(e=>e.syncEngine)}async function KD(t){const e=await xS(t),n=e.eventManager;return n.onListen=kD.bind(null,e.syncEngine),n.onUnlisten=jD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OD.bind(null,e.syncEngine),n}function QD(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new WD({next:g=>{f.xu(),o.enqueueAndForget(()=>xD(s,p)),g.fromCache&&u.source==="server"?c.reject(new Y(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new bD(l,f,{includeMetadataChanges:!0,Qa:!0});return ED(s,p)}(await KD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e,n){if(!n)throw new Y(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YD(t,e,n,r){if(e===!0&&r===!0)throw new Y(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u_(t){if(!ee.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function c_(t){if(ee.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sc(t);throw new Y(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firestore.googleapis.com",d_=!0;class h_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bS,this.ssl=d_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:d_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SO)throw new Y(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ej;switch(r.type){case"firstParty":return new ij(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l_.get(n);r&&(K("ComponentProvider","Removing Datastore"),l_.delete(n),r.terminate())}(this),Promise.resolve()}}function JD(t,e,n,r={}){var i;t=pi(t,Tc);const s=Rs(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(XE(`https://${u}`),ZE("Firestore",!0)),o.host!==bS&&o.host!==u&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!ci(c,l)&&(t._setSettings(c),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=ft.MOCK_USER;else{f=CR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Y(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ft(g)}t._authCredentials=new tj(new fx(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class br extends Ls{constructor(e,n,r){super(e,n,Nx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ee(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Tn(t,e,...n){if(t=Ze(t),TS("collection","path",e),t instanceof Tc){const r=Ie.fromString(e,...n);return c_(r),new br(t,null,r)}{if(!(t instanceof zt||t instanceof br))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return c_(r),new br(t.firestore,null,r)}}function _a(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=mx.newId()),TS("doc","path",e),t instanceof Tc){const r=Ie.fromString(e,...n);return u_(r),new zt(t,null,new ee(r))}{if(!(t instanceof zt||t instanceof br))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return u_(r),new zt(t.firestore,t instanceof br?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="AsyncQueue";class p_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new oS(this,"async_queue_retry"),this.rc=()=>{const r=Wd();r&&K(f_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Tr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ds(e))throw e;K(f_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Wn("INTERNAL UNHANDLED ERROR: ",m_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Xp.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&se(47125,{cc:m_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function m_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wa extends Tc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new p_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function rm(t,e){const n=typeof t=="object"?t:rx(),r=typeof t=="string"?t:Tu,i=Np(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bR("firestore");s&&JD(i,...s)}return i}function IS(t){if(t._terminated)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XD(t),t._firestoreClient}function XD(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,f){return new _j(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,SS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(ot.fromBase64String(e))}catch(n){throw new Y(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ss(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^__.*__$/;class eM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ma(e,this.data,n,this.fieldTransforms)}}class CS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ic:t})}}class am{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ou(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(AS(this.Ic)&&ZD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class tM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wc(e)}bc(e,n,r,i=!1){return new am({Ic:e,methodName:n,wc:r,path:rt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(t){const e=t._freezeSettings(),n=wc(t._databaseId);return new tM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nM(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);um("Data must be an object, but it was:",o,r);const l=PS(r,o);let u,c;if(s.merge)u=new Ft(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=Tf(e,p,n);if(!o.contains(g))throw new Y(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);RS(f,g)||f.push(g)}u=new Ft(f),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new eM(new kt(l),u,c)}class Ic extends im{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}function rM(t,e,n,r){const i=t.bc(1,e,n);um("Data must be an object, but it was:",i,r);const s=[],o=kt.empty();Ur(r,(u,c)=>{const f=cm(e,u,n);c=Ze(c);const p=i.mc(f);if(c instanceof Ic)s.push(f);else{const g=Ea(c,p);g!=null&&(s.push(f),o.set(f,g))}});const l=new Ft(s);return new CS(o,l,i.fieldTransforms)}function iM(t,e,n,r,i,s){const o=t.bc(1,e,n),l=[Tf(e,r,n)],u=[i];if(s.length%2!=0)throw new Y(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(Tf(e,s[g])),u.push(s[g+1]);const c=[],f=kt.empty();for(let g=l.length-1;g>=0;--g)if(!RS(c,l[g])){const I=l[g];let A=u[g];A=Ze(A);const k=o.mc(I);if(A instanceof Ic)c.push(I);else{const R=Ea(A,k);R!=null&&(c.push(I),f.set(I,R))}}const p=new Ft(c);return new CS(f,p,o.fieldTransforms)}function sM(t,e,n,r=!1){return Ea(n,t.bc(r?4:3,e))}function Ea(t,e){if(kS(t=Ze(t)))return um("Unsupported field value:",e,t),PS(t,e);if(t instanceof im)return function(r,i){if(!AS(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ea(l,i.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qe.fromDate(r);return{timestampValue:ku(i.serializer,s)}}if(r instanceof qe){const s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ku(i.serializer,s)}}if(r instanceof sm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ss)return{bytesValue:Qx(i.serializer,r._byteString)};if(r instanceof zt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$p(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof om)return function(o,l){return{mapValue:{fields:{[Sx]:{stringValue:Tx},[bu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.gc("VectorValues must only contain numeric values.");return Fp(l.serializer,c)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Sc(r)}`)}(t,e)}function PS(t,e){const n={};return vx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(t,(r,i)=>{const s=Ea(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof sm||t instanceof Ss||t instanceof zt||t instanceof im||t instanceof om)}function um(t,e,n){if(!kS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sc(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Tf(t,e,n){if((e=Ze(e))instanceof bc)return e._internalPath;if(typeof e=="string")return cm(t,e);throw Ou("Field path arguments must be of type string or ",t,!1,void 0,n)}const oM=new RegExp("[~\\*/\\[\\]]");function cm(t,e,n){if(e.search(oM)>=0)throw Ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bc(...e.split("."))._internalPath}catch{throw Ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ou(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Y(U.INVALID_ARGUMENT,l+t+u)}function RS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aM extends NS{data(){return super.data()}}function dm(t,e){return typeof e=="string"?cm(t,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class uM extends hm{}function cM(t,e,...n){let r=[];e instanceof hm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof fm).length,l=s.filter(u=>u instanceof Cc).length;if(o>1||o>0&&l>0)throw new Y(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cc extends uM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cc(e,n,r)}_apply(e){const n=this._parse(e);return jS(e._query,n),new Ls(e.firestore,e.converter,ff(e._query,n))}_parse(e){const n=lm(e.firestore);return function(s,o,l,u,c,f,p){let g;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Y(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){v_(p,f);const A=[];for(const k of p)A.push(g_(u,s,k));g={arrayValue:{values:A}}}else g=g_(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||v_(p,f),g=sM(l,o,p,f==="in"||f==="not-in");return $e.create(c,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dM(t,e,n){const r=e,i=dm("where",t);return Cc._create(i,r,n)}class fm extends hm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)jS(o,u),o=ff(o,u)}(e._query,n),new Ls(e.firestore,e.converter,ff(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g_(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new Y(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jx(e)&&n.indexOf("/")!==-1)throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!ee.isDocumentKey(r))throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ry(t,new ee(r))}if(n instanceof zt)return Ry(t,n._key);throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sc(n)}.`)}function v_(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jS(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hM{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ur(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[bu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ve(o.doubleValue));return new om(s)}convertGeoPoint(e){return new sm(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const n=kr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);_e(tS(r),9688,{name:e});const i=new ta(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pM extends NS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ol extends pM{data(e={}){return super.data(e)}}class mM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ol(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Ol(i._firestore,i._userDataWriter,l.doc.key,l.doc,new pl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ol(i._firestore,i._userDataWriter,l.doc.key,l.doc,new pl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:gM(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}class vM extends hM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function mi(t){t=pi(t,Ls);const e=pi(t.firestore,wa),n=IS(e),r=new vM(e);return lM(t._query),QD(n,t._query).then(i=>new mM(e,r,t,i))}function OS(t,e,n,...r){t=pi(t,zt);const i=pi(t.firestore,wa),s=lm(i);let o;return o=typeof(e=Ze(e))=="string"||e instanceof bc?iM(s,"updateDoc",t._key,e,n,r):rM(s,"updateDoc",t._key,e),mm(i,[o.toMutation(t._key,un.exists(!0))])}function DS(t){return mm(pi(t.firestore,wa),[new Up(t._key,un.none())])}function pm(t,e){const n=pi(t.firestore,wa),r=_a(t),i=fM(t.converter,e);return mm(n,[nM(lm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then(()=>r)}function mm(t,e){return function(r,i){const s=new Tr;return r.asyncQueue.enqueueAndForget(async()=>DD(await GD(r),i,s)),s.promise}(IS(t),e)}(function(e,n=!0){(function(i){js=i})(Ns),gs(new di("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new wa(new nj(r.getProvider("auth-internal")),new sj(o,r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),xr(_y,wy,e),xr(_y,wy,"esm2017")})();var yM="firebase",_M="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(yM,_M,"app");const wM={apiKey:"AIzaSyCVmfriZ_9sqBmWLc9p41zIdX4Jxj1oHYc",authDomain:"adecam-dcce7.firebaseapp.com",projectId:"adecam-dcce7",storageBucket:"adecam-dcce7.appspot.com",messagingSenderId:"964119095028",appId:"1:964119095028:web:66ccb1b318b5c43ed7e0a1",measurementId:"G-YFRFQS7EBY"},gm=nx(wM),bn=rm(gm);async function EM(t){return(await pm(Tn(bn,"socios"),t)).id}async function Ac(){return(await mi(Tn(bn,"socios"))).docs.map(e=>({id:e.id,...e.data()}))}async function xM(t,e){await OS(_a(bn,"socios",t),e)}async function MS(t){await DS(_a(bn,"socios",t))}async function LS(t){return(await pm(Tn(bn,"pagos"),t)).id}async function VS(t){const e=Tn(bn,"pagos"),n=cM(e,dM("socioId","==",t));return(await mi(n)).docs.map(i=>({id:i.id,...i.data()}))}async function SM(t,e){await OS(_a(bn,"pagos",t),e)}async function TM(t){await DS(_a(bn,"pagos",t))}async function bM(t){return(await pm(Tn(bn,"gastos"),t)).id}async function y_(){return(await mi(Tn(bn,"gastos"))).docs.map(e=>({id:e.id,...e.data()}))}const __=rm(gm),IM=()=>{const[t,e]=O.useState(0),[n,r]=O.useState(0),[i,s]=O.useState(0),[o,l]=O.useState(0),[u,c]=O.useState(0),[f,p]=O.useState(0),[g,I]=O.useState(0),[A,k]=O.useState(0),[R,b]=O.useState(0),[w,S]=O.useState(!0);return O.useEffect(()=>{async function N(){S(!0);const M=await Ac();c(M.length),p(0);const y=(await mi(Tn(__,"pagos"))).docs.map(z=>({id:z.id,...z.data()})),_=(await mi(Tn(__,"gastos"))).docs.map(z=>({id:z.id,...z.data()})),x=new Date,C=x.toISOString().slice(0,7),P=x.getFullYear();let T=y.filter(z=>z.pagado&&z.fecha&&z.fecha.slice(0,7)===C).reduce((z,H)=>z+(H.cantidad||0),0),G=y.filter(z=>z.pagado&&z.fecha&&z.fecha.slice(0,4)===String(P)).reduce((z,H)=>z+(H.cantidad||0),0),re=new Set,X=new Set,oe=y.filter(z=>z.pagado).reduce((z,H)=>z+(H.cantidad||0),0),B=_.reduce((z,H)=>z+(H.cantidad||0),0);M.forEach(z=>{var It;const H=y.filter(Le=>Le.socioId===z.id);let te=z.fechaAlta||((It=H.find(Le=>Le.concepto==="Inscripción"))==null?void 0:It.fecha),J=te?parseInt(te.slice(0,4)):P,Z=te?parseInt(te.slice(5,7)):1,Se=!1;for(;J<x.getFullYear()||J===x.getFullYear()&&Z<=x.getMonth()+1;){const Le=`${J}-${Z.toString().padStart(2,"0")}`;H.some(V=>V.concepto==="Mensualidad"&&V.pagado&&V.fecha.slice(0,7)===Le)||(Se=!0),Z++,Z>12&&(Z=1,J++)}Se&&re.add(z.id),H.some(Le=>Le.concepto==="Jiu Jitsu"&&Le.pagado&&Le.fecha.slice(0,7)===C)&&X.add(z.id)}),e(T),r(G),s(re.size),l(X.size),I(oe),k(B),b(oe-B),S(!1)}N()},[]),d.jsxs(d.Fragment,{children:[d.jsx(Pp,{}),d.jsx("section",{className:"min-h-screen bg-gray-50 py-12 pt-32 md:pt-40",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8 text-center text-gold",children:"Dashboard"}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl mx-auto",children:[d.jsx("p",{className:"text-lg text-gray-700 mb-6 text-center",children:"Aquí verás la contabilidad mensual, anual, altas, bajas y alertas de deudas de socios."}),w?d.jsx("div",{className:"text-center py-8",children:"Cargando..."}):d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 rounded p-4 text-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Contabilidad Mensual"}),d.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["€",t]})]}),d.jsxs("div",{className:"bg-gray-100 rounded p-4 text-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Contabilidad Anual"}),d.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:["€",n]})]}),d.jsxs("div",{className:"bg-gray-100 rounded p-4 text-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ingresos Totales"}),d.jsxs("span",{className:"text-3xl font-bold text-green-700",children:["€",g]})]}),d.jsxs("div",{className:"bg-gray-100 rounded p-4 text-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Gastos Totales"}),d.jsxs("span",{className:"text-3xl font-bold text-red-600",children:["€",A]})]}),d.jsxs("div",{className:"bg-gray-100 rounded p-4 text-center md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Balance"}),d.jsxs("span",{className:"text-3xl font-bold text-purple-700",children:["€",R]})]}),d.jsxs("div",{className:"bg-gray-100 rounded p-4 text-center",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Alertas de Deuda"}),d.jsxs("span",{className:"text-lg text-red-600",children:[i," socios con deuda"]})]}),d.jsxs("div",{className:"bg-gray-100 rounded p-4 text-center md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Socios con Jiu Jitsu pagado este mes"}),d.jsxs("span",{className:"text-lg text-purple-600",children:[o," socios"]})]})]})]})]})})]})},CM=()=>{const[t,e]=O.useState([]),[n,r]=O.useState({nombre:"",apellidos:"",telefono:"",fechaRegistro:new Date().toISOString().slice(0,10)}),[i,s]=O.useState(!1),[o,l]=O.useState(""),[u,c]=O.useState(!1),[f,p]=O.useState(""),g=ic(),[I,A]=O.useState("adulto"),[k,R]=O.useState({}),[b,w]=O.useState("ambos"),[S,N]=O.useState("ambos");O.useEffect(()=>{M()},[]);const M=async()=>{s(!0);try{const y=await Ac();e(y);const v={};await Promise.all(y.map(async _=>{v[_.id]=await VS(_.id)})),R(v)}catch{l("Error al cargar socios")}s(!1)},L=async y=>{if(window.confirm("¿Seguro que deseas eliminar este socio?")){s(!0);try{await MS(y),M()}catch{l("Error al eliminar socio")}s(!1)}};return d.jsxs("section",{id:"socios",className:"w-full max-w-full px-0 sm:px-4 bg-white rounded-lg shadow-lg p-8 max-w-3xl mx-auto my-12",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-gold",children:"Gestión de Socios"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-8",children:[d.jsxs("button",{onClick:()=>c(!0),className:"bg-gold text-black font-bold px-6 py-2 rounded shadow hover:bg-black hover:text-gold transition-all flex items-center gap-2",children:[d.jsx(Uv,{size:18}),"Agregar Socio"]}),d.jsx("input",{type:"text",placeholder:"Buscar socio...",value:f,onChange:y=>p(y.target.value),className:"border p-2 rounded flex-1 min-w-[200px]"}),d.jsxs("select",{value:b,onChange:y=>w(y.target.value),className:"border p-2 rounded",children:[d.jsx("option",{value:"ambos",children:"Mensualidad y Jiu Jitsu"}),d.jsx("option",{value:"mensualidad",children:"Solo Mensualidad"}),d.jsx("option",{value:"jiujitsu",children:"Solo Jiu Jitsu"})]}),d.jsxs("select",{value:S,onChange:y=>N(y.target.value),className:"border p-2 rounded",children:[d.jsx("option",{value:"ambos",children:"Pagado e Impagado"}),d.jsx("option",{value:"pagado",children:"Solo Pagado"}),d.jsx("option",{value:"impagado",children:"Solo Impagado"})]})]}),d.jsx("div",{className:"mb-4 font-semibold text-gold",children:(()=>{let y=0;return t.filter(v=>{var _,x;return v.nombre.toLowerCase().includes(f.toLowerCase())||((_=v.apellidos)==null?void 0:_.toLowerCase().includes(f.toLowerCase()))||((x=v.telefono)==null?void 0:x.toLowerCase().includes(f.toLowerCase()))}).map(v=>{var te;const _=k[v.id]||[],x=v.fechaAlta||((te=_.find(J=>J.concepto==="Inscripción"))==null?void 0:te.fecha);let C=new Date().getFullYear(),P=1;if(x){const[J,Z]=x.slice(0,7).split("-");C=parseInt(J),P=parseInt(Z)}const T=new Date,G=`${T.getFullYear()}-${(T.getMonth()+1).toString().padStart(2,"0")}`;let re=C,X=P,oe=!1,B=!1;for(;re<T.getFullYear()||re===T.getFullYear()&&X<=T.getMonth()+1;){const J=`${re}-${X.toString().padStart(2,"0")}`,Z=_.some(Se=>Se.concepto==="Mensualidad"&&Se.pagado&&Se.fecha.slice(0,7)===J);J===G&&(B=Z),Z||(oe=!0),X++,X>12&&(X=1,re++)}re=C,X=P;let z=!1,H=!1;for(;re<T.getFullYear()||re===T.getFullYear()&&X<=T.getMonth()+1;){const J=`${re}-${X.toString().padStart(2,"0")}`,Z=_.some(Se=>Se.concepto==="Jiu Jitsu"&&Se.pagado&&Se.fecha.slice(0,7)===J);J===G&&(H=Z),Z||(z=!0),X++,X>12&&(X=1,re++)}if(b==="mensualidad"&&S!=="ambos"){if(S==="pagado"&&(oe||!B)||S==="impagado"&&!(oe||!B))return null}else if(b==="jiujitsu"&&S!=="ambos"){if(S==="pagado"&&(z||!H)||S==="impagado"&&!(z||!H))return null}else if(b==="ambos"&&S!=="ambos"&&(S==="pagado"&&(oe||!B||z||!H)||S==="impagado"&&!(oe||!B||z||!H)))return null;return y++,null}),`Socios filtrados: ${y}`})()}),u&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md relative animate-fade-in",children:[d.jsx("button",{onClick:()=>c(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-black",children:d.jsx(sc,{size:22})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-gold",children:"Nuevo Socio"}),d.jsxs("form",{onSubmit:async y=>{y.preventDefault(),s(!0),l("");try{const v=I==="adulto"?20:15,_={...n,tipo:I,pagos:[]},x=await EM(_);await LS({socioId:x,fecha:n.fechaRegistro,concepto:"Inscripción",cantidad:v,pagado:!1}),r({nombre:"",apellidos:"",telefono:"",fechaRegistro:new Date().toISOString().slice(0,10)}),A("adulto"),c(!1),M()}catch(v){l("Error al agregar socio: "+((v==null?void 0:v.message)||v))}s(!1)},className:"space-y-4",children:[d.jsx("input",{name:"fechaRegistro",type:"date",value:n.fechaRegistro,onChange:y=>r(v=>({...v,fechaRegistro:y.target.value})),placeholder:"Fecha de registro",className:"border border-gold p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold",required:!0}),d.jsx("input",{name:"nombre",value:n.nombre,onChange:y=>r(v=>({...v,nombre:y.target.value})),placeholder:"Nombre",className:"border border-gold p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold",required:!0}),d.jsx("input",{name:"apellidos",value:n.apellidos,onChange:y=>r(v=>({...v,apellidos:y.target.value})),placeholder:"Apellidos",className:"border border-gold p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold",required:!0}),d.jsx("input",{name:"telefono",value:n.telefono,onChange:y=>r(v=>({...v,telefono:y.target.value})),placeholder:"Teléfono",className:"border border-gold p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold",required:!0}),d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsx("label",{className:"font-semibold",children:"Tipo de socio:"}),d.jsxs("select",{value:I,onChange:y=>A(y.target.value),className:"border border-gold p-2 rounded",children:[d.jsx("option",{value:"adulto",children:"Adulto"}),d.jsx("option",{value:"niño",children:"Niño"})]})]}),d.jsxs("button",{type:"submit",className:"w-full bg-gold hover:bg-black text-black hover:text-gold font-bold py-3 rounded transition-all duration-300 border border-gold hover:border-black flex items-center justify-center gap-2",children:["Guardar ",d.jsx(Uv,{size:16})]})]}),o&&d.jsx("p",{className:"text-red-500 mt-2",children:o})]})}),i&&d.jsx("p",{children:"Cargando..."}),o&&d.jsx("p",{className:"text-red-500",children:o}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full bg-white rounded-xl shadow overflow-hidden",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gradient-to-r from-gold to-yellow-300 text-black",children:[d.jsx("th",{className:"p-3 font-semibold",children:"Nombre"}),d.jsx("th",{className:"p-3 font-semibold",children:"Apellidos"}),d.jsx("th",{className:"p-3 font-semibold",children:"Estado Mensualidad"}),d.jsx("th",{className:"p-3 font-semibold",children:"Estado Jiu Jitsu"}),d.jsx("th",{className:"p-3 font-semibold",children:"Acciones"})]})}),d.jsx("tbody",{children:t.filter(y=>{var v,_;return y.nombre.toLowerCase().includes(f.toLowerCase())||((v=y.apellidos)==null?void 0:v.toLowerCase().includes(f.toLowerCase()))||((_=y.telefono)==null?void 0:_.toLowerCase().includes(f.toLowerCase()))}).map(y=>{var H;const v=k[y.id]||[],_=y.fechaAlta||((H=v.find(te=>te.concepto==="Inscripción"))==null?void 0:H.fecha);let x=new Date().getFullYear(),C=1;if(_){const[te,J]=_.slice(0,7).split("-");x=parseInt(te),C=parseInt(J)}const P=new Date,T=`${P.getFullYear()}-${(P.getMonth()+1).toString().padStart(2,"0")}`;let G=x,re=C,X=!1,oe=!1;for(;G<P.getFullYear()||G===P.getFullYear()&&re<=P.getMonth()+1;){const te=`${G}-${re.toString().padStart(2,"0")}`,J=v.some(Z=>Z.concepto==="Mensualidad"&&Z.pagado&&Z.fecha.slice(0,7)===te);te===T&&(oe=J),J||(X=!0),re++,re>12&&(re=1,G++)}G=x,re=C;let B=!1,z=!1;for(;G<P.getFullYear()||G===P.getFullYear()&&re<=P.getMonth()+1;){const te=`${G}-${re.toString().padStart(2,"0")}`,J=v.some(Z=>Z.concepto==="Jiu Jitsu"&&Z.pagado&&Z.fecha.slice(0,7)===te);te===T&&(z=J),J||(B=!0),re++,re>12&&(re=1,G++)}if(b==="mensualidad"&&S!=="ambos"){if(S==="pagado"&&(X||!oe)||S==="impagado"&&!(X||!oe))return null}else if(b==="jiujitsu"&&S!=="ambos"){if(S==="pagado"&&(B||!z)||S==="impagado"&&!(B||!z))return null}else if(b==="ambos"&&S!=="ambos"&&(S==="pagado"&&(X||!oe||B||!z)||S==="impagado"&&!(X||!oe||B||!z)))return null;return S==="impagado"&&(b==="mensualidad"&&!(X||!oe)||b==="jiujitsu"&&!B&&z||b==="ambos"&&!(X||!oe||B||!z))?null:d.jsxs("tr",{className:"border-b hover:bg-gold/10 transition-colors",children:[d.jsx("td",{className:"p-3",children:y.nombre}),d.jsx("td",{className:"p-3",children:y.apellidos}),d.jsx("td",{className:"p-3",children:d.jsx("span",{className:`px-3 py-1 rounded text-white font-bold ${X||!oe?"bg-red-500":"bg-green-500"}`,children:X||!oe?"Impago/Deuda":"Al corriente"})}),d.jsx("td",{className:"p-3",children:d.jsx("span",{className:`px-3 py-1 rounded text-white font-bold ${B||!z?"bg-red-500":"bg-green-500"}`,children:B||!z?"Impago/Deuda":"Al corriente"})}),d.jsxs("td",{className:"p-3 flex gap-2",children:[d.jsx("button",{onClick:()=>g(`/admin/socios/${y.id}`),className:"text-blue-600 hover:bg-blue-100 rounded-full p-2 transition-colors",title:"Editar",children:d.jsx(W2,{size:18})}),d.jsx("button",{onClick:()=>L(y.id),className:"text-red-600 hover:bg-red-100 rounded-full p-2 transition-colors",title:"Eliminar",children:d.jsx(Wh,{size:18})})]})]},y.id)}).filter(Boolean)})]})})]})},AM=()=>{const{id:t}=l2(),e=ic(),[n,r]=O.useState(null),[i,s]=O.useState([]),[o,l]=O.useState(!1),[u,c]=O.useState({}),[f,p]=O.useState({fecha:"",concepto:"",cantidad:"",pagado:!1}),[g,I]=O.useState(!1),[A,k]=O.useState("");O.useEffect(()=>{t&&R()},[t]);const R=async()=>{I(!0);try{const v=(await Ac()).find(_=>_.id===t);if(r(v||null),c(v||{}),t){const _=await VS(t);s(_)}}catch{k("Error al cargar datos")}I(!1)},b=y=>{const{name:v,value:_,type:x,checked:C}=y.target;c(P=>({...P,[v]:x==="checkbox"?C:_}))},w=async()=>{if(t){I(!0);try{await xM(t,u),l(!1),R()}catch{k("Error al guardar cambios")}I(!1)}},S=async()=>{if(t&&window.confirm("¿Seguro que deseas eliminar este socio?")){I(!0);try{await MS(t),e("/admin/socios")}catch{k("Error al eliminar socio")}I(!1)}},N=async()=>{if(t){I(!0);try{await LS({...f,socioId:t}),p({fecha:"",concepto:"",cantidad:0,pagado:!1}),R()}catch{k("Error al agregar pago")}I(!1)}},M=async(y,v)=>{I(!0);try{await SM(y,v),R()}catch{k("Error al actualizar pago")}I(!1)},L=async y=>{I(!0);try{await TM(y),R()}catch{k("Error al eliminar pago")}I(!1)};return g?d.jsx("p",{children:"Cargando..."}):n?d.jsxs("div",{className:"w-full max-w-full px-0 sm:px-4 bg-white rounded-lg shadow-lg p-8 max-w-3xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/admin/socios"),className:"mb-4 flex items-center gap-2 text-gold hover:underline",children:[d.jsx(L2,{size:18}),"Volver"]}),d.jsx("h2",{className:"text-2xl font-bold mb-4 text-gold",children:"Ficha de Socio"}),A&&d.jsx("p",{className:"text-red-500 mb-2",children:A}),d.jsxs("div",{className:"space-y-2 mb-6",children:[d.jsx("label",{className:"block font-semibold",children:"Nombre:"}),d.jsx("input",{name:"nombre",value:u.nombre||"",onChange:b,disabled:!o,className:`border p-2 rounded w-full ${o?"":"bg-gray-100"}`}),d.jsx("label",{className:"block font-semibold",children:"Apellidos:"}),d.jsx("input",{name:"apellidos",value:u.apellidos||"",onChange:b,disabled:!o,className:`border p-2 rounded w-full ${o?"":"bg-gray-100"}`}),d.jsx("label",{className:"block font-semibold",children:"Teléfono:"}),d.jsx("input",{name:"telefono",value:u.telefono||"",onChange:b,disabled:!o,className:`border p-2 rounded w-full ${o?"":"bg-gray-100"}`}),d.jsx("label",{className:"block font-semibold",children:"Fecha de nacimiento:"}),d.jsx("input",{name:"fechaNacimiento",type:"date",value:u.fechaNacimiento||"",onChange:b,disabled:!o,className:`border p-2 rounded w-full ${o?"":"bg-gray-100"}`}),d.jsx("label",{className:"block font-semibold",children:"Tipo de socio:"}),d.jsxs("select",{name:"tipo",value:u.tipo||"adulto",onChange:b,disabled:!o,className:`border p-2 rounded w-full ${o?"":"bg-gray-100"}`,children:[d.jsx("option",{value:"adulto",children:"Adulto"}),d.jsx("option",{value:"niño",children:"Niño"})]})]}),d.jsxs("div",{className:"flex gap-4 mb-6",children:[o?d.jsxs("button",{onClick:w,className:"bg-gold text-black font-bold px-6 py-2 rounded shadow flex items-center gap-2",children:[d.jsx(G2,{size:18}),"Guardar"]}):d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-500 text-white font-bold px-6 py-2 rounded shadow flex items-center gap-2",children:"Editar"}),d.jsxs("button",{onClick:S,className:"bg-red-500 text-white font-bold px-6 py-2 rounded shadow flex items-center gap-2",children:[d.jsx(Wh,{size:18}),"Eliminar"]})]}),d.jsx("h3",{className:"text-xl font-bold mb-2 text-gold",children:"Registros de Pagos"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full bg-white rounded shadow mb-4 text-xs md:text-base",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gradient-to-r from-gold to-yellow-300 text-black",children:[d.jsx("th",{className:"p-2 whitespace-nowrap",children:"Tipo"}),d.jsx("th",{className:"p-2 whitespace-nowrap",children:"Mes"}),d.jsx("th",{className:"p-2 whitespace-nowrap",children:"Cantidad"}),d.jsx("th",{className:"p-2 whitespace-nowrap",children:"Pagado"}),d.jsx("th",{className:"p-2 whitespace-nowrap",children:"Acciones"})]})}),d.jsx("tbody",{children:i.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gold/10 transition-colors",children:[d.jsx("td",{className:"p-2 whitespace-nowrap",children:y.concepto}),d.jsx("td",{className:"p-2 whitespace-nowrap",children:y.fecha?y.fecha.slice(0,7):""}),d.jsxs("td",{className:"p-2 whitespace-nowrap",children:[y.cantidad," €"]}),d.jsx("td",{className:"p-2 whitespace-nowrap",children:d.jsx("input",{type:"checkbox",checked:y.pagado,onChange:v=>M(y.id,{pagado:v.target.checked}),className:"accent-gold scale-125"})}),d.jsx("td",{className:"p-2 whitespace-nowrap",children:d.jsx("button",{onClick:()=>L(y.id),className:"text-red-600 hover:bg-red-100 rounded-full p-2 transition-colors",title:"Eliminar",children:d.jsx(Wh,{size:18})})})]},y.id))})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("span",{className:"font-semibold",children:"Estado actual por mes:"}),d.jsx("ul",{className:"list-disc ml-6",children:(()=>{var G;const y=(n==null?void 0:n.fechaAlta)||((G=i.find(re=>re.concepto==="Inscripción"))==null?void 0:G.fecha);let v=new Date().getFullYear(),_=1;if(y){const[re,X]=y.slice(0,7).split("-");v=parseInt(re),_=parseInt(X)}const x=[],C=new Date;let P=v,T=_;for(;P<C.getFullYear()||P===C.getFullYear()&&T<=C.getMonth()+1;)x.push({year:P,month:T}),T++,T>12&&(T=1,P++);return x.map(({year:re,month:X})=>{const oe=`${re}-${X.toString().padStart(2,"0")}`,B=i.some(H=>H.concepto==="Mensualidad"&&H.pagado&&H.fecha.slice(0,7)===oe),z=i.some(H=>H.concepto==="Jiu Jitsu"&&H.pagado&&H.fecha.slice(0,7)===oe);return d.jsxs("li",{children:[d.jsxs("span",{className:"font-bold",children:[oe,":"]})," Mensualidad: ",B?d.jsx("span",{className:"text-green-600 font-bold",children:"Al corriente"}):d.jsx("span",{className:"text-red-600 font-bold",children:"Deuda"})," | Jiu Jitsu: ",z?d.jsx("span",{className:"text-green-600 font-bold",children:"Al corriente"}):d.jsx("span",{className:"text-red-600 font-bold",children:"Deuda"})]},oe)})})()})]}),d.jsxs("form",{onSubmit:y=>{y.preventDefault(),N()},className:"flex flex-col md:flex-row gap-2 md:gap-4 items-stretch md:items-end bg-gold/10 p-4 rounded-lg shadow-inner transition-all",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-xs font-semibold mb-1 text-gold",children:"Mes"}),d.jsx("input",{type:"month",value:f.fecha.slice(0,7),onChange:y=>p(v=>({...v,fecha:y.target.value+"-01"})),className:"border border-gold p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold bg-white",required:!0})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-xs font-semibold mb-1 text-gold",children:"Concepto"}),d.jsxs("select",{value:f.concepto,onChange:y=>p(v=>({...v,concepto:y.target.value})),className:"border border-gold p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold bg-white",required:!0,children:[d.jsx("option",{value:"",children:"Selecciona concepto"}),d.jsx("option",{value:"Mensualidad",children:"Mensualidad"}),d.jsx("option",{value:"Jiu Jitsu",children:"Jiu Jitsu"}),d.jsx("option",{value:"Inscripción",children:"Inscripción"})]})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-xs font-semibold mb-1 text-gold",children:"Cantidad (€)"}),d.jsx("input",{type:"number",placeholder:"introducir cantidad",value:f.cantidad,onChange:y=>p(v=>({...v,cantidad:y.target.value===""?"":Number(y.target.value)})),className:"border border-gold p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold bg-white",required:!0})]}),d.jsx("div",{className:"flex items-center gap-2 md:mt-6",children:d.jsx("button",{type:"button",className:`px-4 py-2 rounded font-semibold border transition-colors duration-200 ${f.pagado?"bg-green-500 text-white border-green-600":"bg-gray-200 text-gray-700 border-gray-400"}`,onClick:()=>p(y=>({...y,pagado:!y.pagado})),children:f.pagado?"Pagado":"No pagado"})}),d.jsxs("button",{type:"submit",className:"bg-gold hover:bg-black text-black hover:text-gold font-bold px-4 py-2 rounded transition-all duration-300 border border-gold hover:border-black flex items-center gap-1 md:mt-6",children:[d.jsx(q2,{size:16}),"Agregar"]})]})]}):d.jsx("p",{children:"No se encontró el socio."})},PM=()=>d.jsxs(d.Fragment,{children:[d.jsx(Pp,{}),d.jsx("section",{className:"min-h-screen bg-gray-50 py-12 pt-32 md:pt-40",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8 text-center text-gold",children:"Gestión de Socios"}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl mx-auto",children:[d.jsx("p",{className:"text-lg text-gray-700 mb-6 text-center",children:"Desde aquí puedes gestionar los socios de la asociación."}),d.jsxs(cE,{children:[d.jsx(Qe,{path:"",element:d.jsx(CM,{})}),d.jsx(Qe,{path:":id",element:d.jsx(AM,{})})]})]})]})})]}),w_=rm(gm),kM=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,s]=O.useState([]),[o,l]=O.useState({fecha:"",concepto:"",cantidad:"",descripcion:""}),[u,c]=O.useState(!0),[f,p]=O.useState(""),[g,I]=O.useState(""),[A,k]=O.useState(""),[R,b]=O.useState(""),[w,S]=O.useState(""),[N,M]=O.useState(""),[L,y]=O.useState(""),[v,_]=O.useState("");O.useEffect(()=>{async function V(){c(!0),p("");try{const me=await Ac();s(me);const Ht=(await mi(Tn(w_,"pagos"))).docs.map(Dt=>({id:Dt.id,...Dt.data(),tipo:"pago"})).map(Dt=>{if(Dt.socioId){const Wr=me.find(Ca=>Ca.id===Dt.socioId);return{...Dt,socioNombre:Wr?`${Wr.nombre} ${Wr.apellidos||""}`.trim():"-"}}return Dt}),Yn=await y_(),Fs=Yn.map(Dt=>({...Dt,tipo:"gasto"}));r(Yn);const Ia=[...Ht,...Fs].sort((Dt,Wr)=>Wr.fecha.localeCompare(Dt.fecha));e(Ia)}catch{p("Error al cargar movimientos")}c(!1)}V()},[]);const x=async()=>{p("");try{await bM({...o,cantidad:Number(o.cantidad)}),l({fecha:"",concepto:"",cantidad:"",descripcion:""});const V=await y_(),$r=(await mi(Tn(w_,"pagos"))).docs.map(Ht=>({id:Ht.id,...Ht.data(),tipo:"pago"})),Si=V.map(Ht=>({...Ht,tipo:"gasto"}));r(V),e([...$r,...Si].sort((Ht,Yn)=>Yn.fecha.localeCompare(Ht.fecha)))}catch{p("Error al agregar gasto")}},C=t.filter(V=>!(g&&(!V.fecha||V.fecha.slice(5,7)!==g)||A&&(!V.fecha||V.fecha.slice(0,4)!==A)||R&&(!V.fecha||V.fecha<R)||w&&(!V.fecha||V.fecha>w)||N&&V.tipo==="pago"&&V.concepto!==N||L&&(L==="ingreso"&&V.tipo!=="pago"||L==="gasto"&&V.tipo!=="gasto")||v&&(!V.concepto||!V.concepto.toLowerCase().includes(v.toLowerCase())))),P=C.filter(V=>V.tipo==="pago"&&V.pagado).reduce((V,me)=>V+(me.cantidad||0),0),T=C.filter(V=>V.tipo==="gasto").reduce((V,me)=>V+(me.cantidad||0),0),G=P-T,re=new Date,X=re.getFullYear().toString(),oe=(re.getMonth()+1).toString().padStart(2,"0"),B=t.filter(V=>V.fecha&&V.fecha.slice(0,4)===X&&V.fecha.slice(5,7)===oe),z=t.filter(V=>V.fecha&&V.fecha.slice(0,4)===X),H=B.filter(V=>V.tipo==="pago"&&V.pagado).reduce((V,me)=>V+(me.cantidad||0),0),te=B.filter(V=>V.tipo==="gasto").reduce((V,me)=>V+(me.cantidad||0),0),J=H-te,Z=z.filter(V=>V.tipo==="pago"&&V.pagado).reduce((V,me)=>V+(me.cantidad||0),0),Se=z.filter(V=>V.tipo==="gasto").reduce((V,me)=>V+(me.cantidad||0),0),Ke=Z-Se,It=Array.from(new Set(t.map(V=>{var me;return(me=V.fecha)==null?void 0:me.slice(0,4)}).filter(Boolean))),Le=Array.from(new Set(t.map(V=>{var me;return(me=V.fecha)==null?void 0:me.slice(5,7)}).filter(Boolean))),ba=Array.from(new Set(t.filter(V=>V.tipo==="pago").map(V=>V.concepto).filter(Boolean)));return d.jsxs(d.Fragment,{children:[d.jsx(Pp,{}),d.jsx("section",{className:"min-h-screen bg-gray-50 py-12 pt-32 md:pt-40",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsx("h1",{className:"text-4xl font-bold mb-8 text-center text-gold",children:"Registros de Movimientos y Pagos"}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-4xl mx-auto",children:[d.jsx("p",{className:"text-lg text-gray-700 mb-6 text-center",children:"Aquí puedes ver todos los pagos de socios y gastos de la asociación, añadir gastos manuales y ver el balance total."}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:[d.jsxs("select",{value:A,onChange:V=>k(V.target.value),className:"border p-2 rounded",children:[d.jsx("option",{value:"",children:"Año"}),It.map(V=>d.jsx("option",{value:V,children:V},V))]}),d.jsxs("select",{value:g,onChange:V=>I(V.target.value),className:"border p-2 rounded",children:[d.jsx("option",{value:"",children:"Mes"}),Le.map(V=>d.jsx("option",{value:V,children:V},V))]}),d.jsx("input",{type:"date",value:R,onChange:V=>b(V.target.value),className:"border p-2 rounded",placeholder:"Desde"}),d.jsx("input",{type:"date",value:w,onChange:V=>S(V.target.value),className:"border p-2 rounded",placeholder:"Hasta"}),d.jsxs("select",{value:N,onChange:V=>M(V.target.value),className:"border p-2 rounded",children:[d.jsx("option",{value:"",children:"Tipo de pago"}),ba.map(V=>d.jsx("option",{value:V,children:V},V))]}),d.jsxs("select",{value:L,onChange:V=>y(V.target.value),className:"border p-2 rounded",children:[d.jsx("option",{value:"",children:"Ingresos/Gastos"}),d.jsx("option",{value:"ingreso",children:"Ingresos"}),d.jsx("option",{value:"gasto",children:"Gastos"})]}),d.jsx("input",{type:"text",value:v,onChange:V=>_(V.target.value),className:"border p-2 rounded",placeholder:"Buscar concepto..."})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8 justify-center",children:[d.jsxs("div",{className:"bg-green-100 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Total Ingresos"}),d.jsxs("div",{className:"text-2xl font-bold",children:["€",P]})]}),d.jsxs("div",{className:"bg-red-100 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-lg font-semibold text-red-700",children:"Total Gastos"}),d.jsxs("div",{className:"text-2xl font-bold",children:["€",T]})]}),d.jsxs("div",{className:"bg-blue-100 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-lg font-semibold text-blue-700",children:"Balance"}),d.jsxs("div",{className:"text-2xl font-bold",children:["€",G]})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8 justify-center",children:[d.jsxs("div",{className:"bg-green-50 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-base font-semibold text-green-700",children:"Ingresos mes actual"}),d.jsxs("div",{className:"text-xl font-bold",children:["€",H]})]}),d.jsxs("div",{className:"bg-red-50 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-base font-semibold text-red-700",children:"Gastos mes actual"}),d.jsxs("div",{className:"text-xl font-bold",children:["€",te]})]}),d.jsxs("div",{className:"bg-blue-50 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-base font-semibold text-blue-700",children:"Balance mes actual"}),d.jsxs("div",{className:"text-xl font-bold",children:["€",J]})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8 justify-center",children:[d.jsxs("div",{className:"bg-green-50 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-base font-semibold text-green-700",children:"Ingresos año actual"}),d.jsxs("div",{className:"text-xl font-bold",children:["€",Z]})]}),d.jsxs("div",{className:"bg-red-50 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-base font-semibold text-red-700",children:"Gastos año actual"}),d.jsxs("div",{className:"text-xl font-bold",children:["€",Se]})]}),d.jsxs("div",{className:"bg-blue-50 rounded p-4 text-center flex-1",children:[d.jsx("div",{className:"text-base font-semibold text-blue-700",children:"Balance año actual"}),d.jsxs("div",{className:"text-xl font-bold",children:["€",Ke]})]})]}),d.jsx("h2",{className:"text-xl font-bold mb-4 text-gold",children:"Añadir Gasto Manual"}),d.jsxs("form",{onSubmit:V=>{V.preventDefault(),x()},className:"flex flex-col md:flex-row gap-2 md:gap-4 items-stretch md:items-end bg-gold/10 p-4 rounded-lg shadow-inner mb-8",children:[d.jsx("input",{type:"date",value:o.fecha,onChange:V=>l(me=>({...me,fecha:V.target.value})),className:"border border-gold p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold bg-white",required:!0}),d.jsx("input",{type:"text",placeholder:"Concepto",value:o.concepto,onChange:V=>l(me=>({...me,concepto:V.target.value})),className:"border border-gold p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold bg-white",required:!0}),d.jsx("input",{type:"number",placeholder:"introducir cantidad",value:o.cantidad,onChange:V=>l(me=>({...me,cantidad:V.target.value})),className:"border border-gold p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold bg-white",required:!0}),d.jsx("input",{type:"text",placeholder:"Descripción",value:o.descripcion,onChange:V=>l(me=>({...me,descripcion:V.target.value})),className:"border border-gold p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-gold bg-white"}),d.jsx("button",{type:"submit",className:"bg-gold text-white font-bold px-6 py-2 rounded shadow hover:bg-yellow-600 transition-colors",children:"Añadir Gasto"})]}),f&&d.jsx("div",{className:"text-red-600 text-center mb-4",children:f}),d.jsx("h2",{className:"text-xl font-bold mb-4 text-gold",children:"Movimientos Recientes"}),u?d.jsx("div",{className:"text-center py-8",children:"Cargando..."}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full border rounded-lg",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gold/20",children:[d.jsx("th",{className:"p-2",children:"Fecha"}),d.jsx("th",{className:"p-2",children:"Tipo"}),d.jsx("th",{className:"p-2",children:"Concepto"}),d.jsx("th",{className:"p-2",children:"Cantidad"}),d.jsx("th",{className:"p-2",children:"Socio"}),d.jsx("th",{className:"p-2",children:"Descripción"}),d.jsx("th",{className:"p-2",children:"Pagado"})]})}),d.jsx("tbody",{children:C.map(V=>d.jsxs("tr",{className:"border-b hover:bg-gold/10 transition-colors",children:[d.jsx("td",{className:"p-2",children:V.fecha}),d.jsx("td",{className:"p-2",children:V.tipo==="pago"?"Ingreso":"Gasto"}),d.jsx("td",{className:"p-2",children:V.concepto}),d.jsxs("td",{className:"p-2",children:[V.cantidad," €"]}),d.jsx("td",{className:"p-2",children:V.tipo==="pago"&&V.socioNombre||"-"}),d.jsx("td",{className:"p-2",children:V.tipo==="gasto"?V.descripcion:"-"}),d.jsx("td",{className:"p-2 text-center",children:V.tipo==="pago"?V.pagado?"✔️":"❌":"-"})]},V.id))})]})})]})]})})]})};function vm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const US=FS,zS=new ha("auth","Firebase",FS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new kp("@firebase/auth");function RM(t,...e){Du.logLevel<=fe.WARN&&Du.warn(`Auth (${Ns}): ${t}`,...e)}function Dl(t,...e){Du.logLevel<=fe.ERROR&&Du.error(`Auth (${Ns}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw ym(t,...e)}function En(t,...e){return ym(t,...e)}function BS(t,e,n){const r=Object.assign(Object.assign({},US()),{[e]:n});return new ha("auth","Firebase",r).create(e,{appName:t.name})}function Ir(t){return BS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ym(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zS.create(t,...e)}function ie(t,e,...n){if(!t)throw ym(e,...n)}function Mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dl(e),new Error(e)}function qn(t,e){t||Mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NM(){return E_()==="http:"||E_()==="https:"}function E_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NM()||jR()||"connection"in navigator)?navigator.onLine:!0}function OM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=kR()||OR()}get(){return jM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LM=new xa(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Br(t,e,n,r,i={}){return WS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=fa(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return NR()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(c.credentials="include"),$S.fetch()(await HS(t,t.config.apiHost,n,l),c)})}async function WS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DM),e);try{const i=new FM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ml(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ml(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ml(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ml(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw BS(t,f,c);hn(t,f)}}catch(i){if(i instanceof Qn)throw i;hn(t,"network-request-failed",{message:String(i)})}}async function Pc(t,e,n,r,i={}){const s=await Br(t,e,n,r,i);return"mfaPendingCredential"in s&&hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function HS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?_m(t.config,i):`${t.config.apiScheme}://${i}`;return MM.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function VM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),LM.get())})}}function ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=En(t,e,r);return i.customData._tokenResponse=n,i}function x_(t){return t!==void 0&&t.enterprise!==void 0}class UM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zM(t,e){return Br(t,"GET","/v2/recaptchaConfig",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e){return Br(t,"POST","/v1/accounts:delete",e)}async function Mu(t,e){return Br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qS(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),i=wm(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ro(qd(i.auth_time)),issuedAtTime:Ro(qd(i.iat)),expirationTime:Ro(qd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qd(t){return Number(t)*1e3}function wm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{const i=KE(n);return i?JSON.parse(i):(Dl("Failed to decode base64 JWT payload"),null)}catch(i){return Dl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S_(t){const e=wm(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&$M(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $M({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sa(t,Mu(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KS(s.providerUserInfo):[],l=HM(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new If(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function GS(t){const e=Ze(t);await Lu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KS(t){return t.map(e=>{var{providerId:n}=e,r=vm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){const n=await WS(t,{},async()=>{const r=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await HS(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(u.credentials="include"),$S.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GM(t,e){return Br(t,"POST","/v2/accounts:revokeToken",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=S_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ts;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ts,this.toJSON())}_performRefresh(){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class on{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new If(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qS(this,e)}reload(){return GS(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new on(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await sa(this,BM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:S,emailVerified:N,isAnonymous:M,providerData:L,stsTokenManager:y}=n;ie(S&&y,e,"internal-error");const v=ts.fromJSON(this.name,y);ie(typeof S=="string",e,"internal-error"),tr(p,e.name),tr(g,e.name),ie(typeof N=="boolean",e,"internal-error"),ie(typeof M=="boolean",e,"internal-error"),tr(I,e.name),tr(A,e.name),tr(k,e.name),tr(R,e.name),tr(b,e.name),tr(w,e.name);const _=new on({uid:S,auth:e,email:g,emailVerified:N,displayName:p,isAnonymous:M,photoURL:A,phoneNumber:I,tenantId:k,stsTokenManager:v,createdAt:b,lastLoginAt:w});return L&&Array.isArray(L)&&(_.providerData=L.map(x=>Object.assign({},x))),R&&(_._redirectEventId=R),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new ts;i.updateFromServerResponse(n);const s=new on({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?KS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new ts;l.updateFromIdToken(r);const u=new on({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new If(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function Ln(t){qn(t instanceof Function,"Expected a class definition");let e=T_.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QS.type="NONE";const Cf=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e,n){return`firebase:${t}:${e}:${n}`}class ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ml(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ml("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mu(this.auth,{idToken:e}).catch(()=>{});return n?on._fromGetAccountInfoResponse(this.auth,n,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ns(Ln(Cf),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ln(Cf);const o=Ml(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(o);if(f){let p;if(typeof f=="string"){const g=await Mu(e,{idToken:f}).catch(()=>{});if(!g)break;p=await on._fromGetAccountInfoResponse(e,g,f)}else p=on._fromJSON(e,f);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ns(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ns(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(JS(e))return"Safari";if((e.includes("chrome/")||XS(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YS(t=vt()){return/firefox\//i.test(t)}function JS(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XS(t=vt()){return/crios\//i.test(t)}function ZS(t=vt()){return/iemobile/i.test(t)}function e1(t=vt()){return/android/i.test(t)}function t1(t=vt()){return/blackberry/i.test(t)}function n1(t=vt()){return/webos/i.test(t)}function Em(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KM(t=vt()){var e;return Em(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QM(){return DR()&&document.documentMode===10}function r1(t=vt()){return Em(t)||e1(t)||n1(t)||t1(t)||/windows phone/i.test(t)||ZS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e=[]){let n;switch(t){case"Browser":n=b_(vt());break;case"Worker":n=`${b_(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ns}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e={}){return Br(t,"GET","/v2/passwordPolicy",Ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=6;class ZM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:XM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new YM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ns.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mu(this,{idToken:e}),r=await on._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(Ir(this));const n=e?Ze(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JM(this),n=new ZM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ln(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await ns.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vs(t){return Ze(t)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t4(t){kc=t}function s1(t){return kc.loadJS(t)}function n4(){return kc.recaptchaEnterpriseScript}function r4(){return kc.gapiScript}function i4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class s4{constructor(){this.enterprise=new o4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class o4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const a4="recaptcha-enterprise",o1="NO_RECAPTCHA";class l4{constructor(e){this.type=a4,this.auth=Vs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{zM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new UM(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;x_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(o1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s4().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&x_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=n4();u.length!==0&&(u+=l),s1(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function C_(t,e,n,r=!1,i=!1){const s=new l4(t);let o;if(i)o=o1;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function A_(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await C_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await C_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e){const n=Np(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ci(s,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function u4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ln);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l1(t,e,n){const r=Vs(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=u1(e),{host:o,port:l}=c4(e),u=l===null?"":`:${l}`,c={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(ci(c,r.config.emulator)&&ci(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rs(o)?(XE(`${s}//${o}${u}`),ZE("Auth",!0)):d4()}function u1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c4(t){const e=u1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:P_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:P_(o)}}}function P_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,n){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}async function h4(t,e){return Br(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e){return Pc(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}async function m4(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Rc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ts(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ts(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A_(e,n,"signInWithPassword",f4);case"emailLink":return p4(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A_(e,r,"signUpPassword",h4);case"emailLink":return m4(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(t,e){return Pc(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="http://localhost";class Dr extends Rc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Dr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rs(e,n)}buildRequest(){const e={requestUri:g4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y4(t){const e=ho(fo(t)).link,n=e?ho(fo(e)).deep_link_id:null,r=ho(fo(t)).deep_link_id;return(r?ho(fo(r)).link:null)||r||n||e||t}class Nc{constructor(e){var n,r,i,s,o,l;const u=ho(fo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=v4((i=u.mode)!==null&&i!==void 0?i:null);ie(c&&f&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=y4(e);try{return new Nc(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.providerId=xi.PROVIDER_ID}static credential(e,n){return Ts._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nc.parseLink(n);return ie(r,"argument-error"),Ts._fromEmailAndCode(e,r.code,r.tenantId)}}xi.PROVIDER_ID="password";xi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends c1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends Sa{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kn.credentialFromTaggedObject(e)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kn.credential(e.oauthAccessToken)}catch{return null}}}kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rn.credentialFromTaggedObject(e)}static credentialFromError(e){return Rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rn.credential(n,r)}catch{return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com";Rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends Sa{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nn.credentialFromTaggedObject(e)}static credentialFromError(e){return Nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nn.credential(e.oauthAccessToken)}catch{return null}}}Nn.GITHUB_SIGN_IN_METHOD="github.com";Nn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Sa{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jn.credential(n,r)}catch{return null}}}jn.TWITTER_SIGN_IN_METHOD="twitter.com";jn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await on._fromIdTokenResponse(e,r,i),o=k_(r);return new bs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=k_(r);return new bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function k_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vu(e,n,r,i)}}function d1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vu._fromErrorAndOperation(t,s,e,r):s})}async function _4(t,e,n=!1){const r=await sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e,n=!1){const{auth:r}=t;if(sn(r.app))return Promise.reject(Ir(r));const i="reauthenticate";try{const s=await sa(t,d1(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=wm(s.idToken);ie(o,r,"internal-error");const{sub:l}=o;return ie(t.uid===l,r,"user-mismatch"),bs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(t,e,n=!1){if(sn(t.app))return Promise.reject(Ir(t));const r="signIn",i=await d1(t,r,e),s=await bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function f1(t,e){return h1(Vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t){const e=Vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function p1(t,e,n){return sn(t.app)?Promise.reject(Ir(t)):f1(Ze(t),xi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E4(t),r})}function m1(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function g1(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function v1(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function x4(t){return Ze(t).signOut()}const Fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=1e3,T4=10;class _1 extends y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,T4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_1.type="LOCAL";const w1=_1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E1.type="SESSION";const xm=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await b4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Sm("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function C4(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function A4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k4(){return x1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebaseLocalStorageDb",R4=1,Uu="firebaseLocalStorage",T1="fbase_key";class Ta{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oc(t,e){return t.transaction([Uu],e?"readwrite":"readonly").objectStore(Uu)}function N4(){const t=indexedDB.deleteDatabase(S1);return new Ta(t).toPromise()}function Af(){const t=indexedDB.open(S1,R4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uu,{keyPath:T1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uu)?e(r):(r.close(),await N4(),e(await Af()))})})}async function R_(t,e,n){const r=Oc(t,!0).put({[T1]:e,value:n});return new Ta(r).toPromise()}async function j4(t,e){const n=Oc(t,!1).get(e),r=await new Ta(n).toPromise();return r===void 0?null:r.value}function N_(t,e){const n=Oc(t,!0).delete(e);return new Ta(n).toPromise()}const O4=800,D4=3;class b1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Af(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(k4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A4(),!this.activeServiceWorker)return;this.sender=new I4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Af();return await R_(e,Fu,"1"),await N_(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Oc(i,!1).getAll();return new Ta(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b1.type="LOCAL";const I1=b1;new xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e){return e?Ln(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L4(t){return h1(t.auth,new Tm(t),t.bypassAuthState)}function V4(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),w4(n,new Tm(t),t.bypassAuthState)}async function F4(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),_4(n,new Tm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L4;case"linkViaPopup":case"linkViaRedirect":return F4;case"reauthViaPopup":case"reauthViaRedirect":return V4;default:hn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new xa(2e3,1e4);class Hi extends C1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U4.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="pendingRedirect",Ll=new Map;class B4 extends C1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ll.get(this.auth._key());if(!e){try{const r=await $4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ll.set(this.auth._key(),e)}return this.bypassAuthState||Ll.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $4(t,e){const n=q4(e),r=H4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W4(t,e){Ll.set(t._key(),e)}function H4(t){return Ln(t._redirectPersistence)}function q4(t){return Ml(z4,t.config.apiKey,t.name)}async function G4(t,e,n=!1){if(sn(t.app))return Promise.reject(Ir(t));const r=Vs(t),i=M4(r,e),o=await new B4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=10*60*1e3;class Q4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(En(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K4&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t,e={}){return Br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z4=/^https?/;async function eL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J4(t);for(const n of e)try{if(tL(n))return}catch{}hn(t,"unauthorized-domain")}function tL(t){const e=bf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Z4.test(n))return!1;if(X4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new xa(3e4,6e4);function O_(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rL(t){return new Promise((e,n)=>{var r,i,s;function o(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),n(En(t,"network-request-failed"))},timeout:nL.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xn().gapi)===null||s===void 0)&&s.load)o();else{const l=i4("iframefcb");return xn()[l]=()=>{gapi.load?o():n(En(t,"network-request-failed"))},s1(`${r4()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Vl=null,e})}let Vl=null;function iL(t){return Vl=Vl||rL(t),Vl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new xa(5e3,15e3),oL="__/auth/iframe",aL="emulator/auth/iframe",lL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cL(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_m(e,aL):`https://${t.config.authDomain}/${oL}`,r={apiKey:e.apiKey,appName:t.name,v:Ns},i=uL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fa(r).slice(1)}`}async function dL(t){const e=await iL(t),n=xn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:cL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=En(t,"network-request-failed"),l=xn().setTimeout(()=>{s(o)},sL.get());function u(){xn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fL=500,pL=600,mL="_blank",gL="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vL(t,e,n,r=fL,i=pL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},hL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=vt().toLowerCase();n&&(l=XS(c)?mL:n),YS(c)&&(e=e||gL,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[I,A])=>`${g}${I}=${A},`,"");if(KM(c)&&l!=="_self")return yL(e||"",l),new D_(null);const p=window.open(e||"",l,f);ie(p,t,"popup-blocked");try{p.focus()}catch{}return new D_(p)}function yL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="__/auth/handler",wL="emulator/auth/handler",EL=encodeURIComponent("fac");async function M_(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ns,eventId:i};if(e instanceof c1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Sa){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${EL}=${encodeURIComponent(u)}`:"";return`${xL(t)}?${fa(l).slice(1)}${c}`}function xL({config:t}){return t.emulator?_m(t,wL):`https://${t.authDomain}/${_L}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class SL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xm,this._completeRedirectFn=G4,this._overrideRedirectResult=W4}async _openPopup(e,n,r,i){var s;qn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await M_(e,n,r,bf(),i);return vL(e,o,Sm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await M_(e,n,r,bf(),i);return C4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dL(e),r=new Q4(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gd,{type:Gd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gd];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r1()||JS()||Em()}}const P1=SL;var L_="@firebase/auth",V_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IL(t){gs(new di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(t)},c=new e4(r,i,s,u);return u4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new di("auth-internal",e=>{const n=Vs(e.getProvider("auth").getImmediate());return(r=>new TL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(L_,V_,bL(t)),xr(L_,V_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=5*60,AL=JE("authIdTokenMaxAge")||CL;let F_=null;const PL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AL)return;const i=n==null?void 0:n.token;F_!==i&&(F_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bm(t=rx()){const e=Np(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a1(t,{popupRedirectResolver:P1,persistence:[I1,w1,xm]}),r=JE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=PL(s.toString());g1(n,o,()=>o(n.currentUser)),m1(n,l=>o(l))}}const i=QE("auth");return i&&l1(n,`http://${i}`),n}function kL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=En("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IL("Browser");const RL=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Nc,AuthCredential:Rc,EmailAuthCredential:Ts,EmailAuthProvider:xi,FacebookAuthProvider:kn,GithubAuthProvider:Nn,GoogleAuthProvider:Rn,OAuthCredential:Dr,TwitterAuthProvider:jn,beforeAuthStateChanged:g1,browserLocalPersistence:w1,browserPopupRedirectResolver:P1,browserSessionPersistence:xm,connectAuthEmulator:l1,getAuth:bm,getIdTokenResult:qS,inMemoryPersistence:Cf,indexedDBLocalPersistence:I1,initializeAuth:a1,onAuthStateChanged:v1,onIdTokenChanged:m1,prodErrorMap:US,reload:GS,signInWithCredential:f1,signInWithEmailAndPassword:p1,signOut:x4},Symbol.toStringTag,{value:"Module"})),Kd=({children:t})=>{const[e,n]=O.useState(!0),[r,i]=O.useState(null);return O.useEffect(()=>{const s=bm(),o=v1(s,l=>{i(l),n(!1)});return()=>o()},[]),e?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Cargando..."}):r?d.jsx(d.Fragment,{children:t}):d.jsx(S2,{to:"/admin/login",replace:!0})},NL=({onLoginSuccess:t})=>{const[e,n]=O.useState(""),[r,i]=O.useState(""),[s,o]=O.useState(""),[l,u]=O.useState(!1),c=async f=>{f.preventDefault(),u(!0),o("");const p=bm();try{await p1(p,e,r),t()}catch{o("Credenciales incorrectas o error de autenticación")}finally{u(!1)}};return d.jsxs("form",{onSubmit:c,className:"bg-white p-8 rounded-lg shadow-lg max-w-md mx-auto pt-32",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Acceso Administrador"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Email"}),d.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded px-3 py-2",value:e,onChange:f=>n(f.target.value),required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Contraseña"}),d.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded px-3 py-2",value:r,onChange:f=>i(f.target.value),required:!0})]}),s&&d.jsx("div",{className:"text-red-600 mb-4 text-center",children:s}),d.jsx("button",{type:"submit",className:"w-full bg-gold text-black font-semibold py-2 rounded hover:bg-gold-dark",disabled:l,children:l?"Accediendo...":"Entrar"})]})};function jL(){return d.jsx(R2,{children:d.jsxs("div",{className:"font-sans min-h-screen flex flex-col",children:[d.jsx(Q2,{}),d.jsx("main",{className:"flex-grow",children:d.jsxs(cE,{children:[d.jsx(Qe,{path:"/",element:d.jsx(JA,{})}),d.jsx(Qe,{path:"/about",element:d.jsx(ZA,{})}),d.jsx(Qe,{path:"/classes",element:d.jsx(tP,{})}),d.jsx(Qe,{path:"/instructors",element:d.jsx(rP,{})}),d.jsx(Qe,{path:"/schedule",element:d.jsx(sP,{})}),d.jsx(Qe,{path:"/gallery",element:d.jsx(sR,{})}),d.jsx(Qe,{path:"/contact",element:d.jsx(aR,{})}),d.jsx(Qe,{path:"/cookies",element:d.jsx(hR,{})}),d.jsx(Qe,{path:"/privacidad",element:d.jsx(lR,{})}),d.jsx(Qe,{path:"/aviso-legal",element:d.jsx(uR,{})}),d.jsx(Qe,{path:"/condiciones",element:d.jsx(cR,{})}),d.jsx(Qe,{path:"/admin/login",element:d.jsx(NL,{onLoginSuccess:()=>window.location.replace("/admin")})}),d.jsx(Qe,{path:"/admin",element:d.jsx(Kd,{children:d.jsx(IM,{})})}),d.jsx(Qe,{path:"/admin/socios/*",element:d.jsx(Kd,{children:d.jsx(PM,{})})}),d.jsx(Qe,{path:"/admin/registros",element:d.jsx(Kd,{children:d.jsx(kM,{})})})]})}),d.jsx(dR,{}),d.jsx(Y2,{})]})})}Zw(document.getElementById("root")).render(d.jsx(O.StrictMode,{children:d.jsx(jL,{})}));
